<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">5f1e31960ce326ccaf589703b1c5263448a3a547</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>在 Microsoft Azure 存储空间中使用 Azure 密钥保管库加密和解密 blob | Azure</source>
          <target state="new">在 Microsoft Azure 存储空间中使用 Azure 密钥保管库加密和解密 blob | Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>本教程将指导你如何将  Azure 存储空间的客户端加密与 Azure 密钥保管库配合使用来加密和解密 blob。</source>
          <target state="new">本教程将指导你如何将  Azure 存储空间的客户端加密与 Azure 密钥保管库配合使用来加密和解密 blob。</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>在 Azure 存储空间中使用 Azure 密钥保管库加密和解密 blob</source>
          <target state="new">在 Azure 存储空间中使用 Azure 密钥保管库加密和解密 blob</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>介绍</source>
          <target state="new">介绍</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>本教程介绍如何结合使用客户端存储加密与 Azure 密钥保管库。其中将引导您完成如何在控制台应用程序中使用这些技术加密和解密 blob。</source>
          <target state="new">本教程介绍如何结合使用客户端存储加密与 Azure 密钥保管库。其中将引导您完成如何在控制台应用程序中使用这些技术加密和解密 blob。</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>估计完成时间：<ept id="p1">**</ept>20 分钟。</source>
          <target state="new"><bpt id="p1">**</bpt>估计完成时间：<ept id="p1">**</ept>20 分钟。</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>有关 Azure 密钥保管库的概述信息，请参阅<bpt id="p1">[</bpt>什么是 Azure 密钥保管库？<ept id="p1">](/documentation/articles/key-vault-whatis)</ept></source>
          <target state="new">有关 Azure 密钥保管库的概述信息，请参阅<bpt id="p1">[</bpt>什么是 Azure 密钥保管库？<ept id="p1">](/documentation/articles/key-vault-whatis)</ept></target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>有关 Azure 存储空间的客户端加密的概述信息，请参阅 <bpt id="p1">[</bpt>Azure 存储空间的客户端加密入门<ept id="p1">](/documentation/articles/storage-client-side-encryption)</ept></source>
          <target state="new">有关 Azure 存储空间的客户端加密的概述信息，请参阅 <bpt id="p1">[</bpt>Azure 存储空间的客户端加密入门<ept id="p1">](/documentation/articles/storage-client-side-encryption)</ept></target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>先决条件</source>
          <target state="new">先决条件</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>若要完成本教程，你必须准备好以下各项：</source>
          <target state="new">若要完成本教程，你必须准备好以下各项：</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>Azure 存储帐户</source>
          <target state="new">Azure 存储帐户</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>Visual Studio 2013 或更高版本</source>
          <target state="new">Visual Studio 2013 或更高版本</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>Azure PowerShell</source>
          <target state="new">Azure PowerShell</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>客户端加密概述</source>
          <target state="new">客户端加密概述</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>有关 Azure 存储空间的客户端加密的概述，请参阅 <bpt id="p1">[</bpt>Azure 存储空间的客户端加密入门<ept id="p1">](/documentation/articles/storage-client-side-encryption)</ept></source>
          <target state="new">有关 Azure 存储空间的客户端加密的概述，请参阅 <bpt id="p1">[</bpt>Azure 存储空间的客户端加密入门<ept id="p1">](/documentation/articles/storage-client-side-encryption)</ept></target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>下面是客户端加密的工作原理的简要说明：</source>
          <target state="new">下面是客户端加密的工作原理的简要说明：</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>Azure 存储客户端 SDK 生成内容加密密钥 (CEK)，这是一次性使用对称密钥。</source>
          <target state="new">Azure 存储客户端 SDK 生成内容加密密钥 (CEK)，这是一次性使用对称密钥。</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>使用此 CEK 对客户数据进行加密。</source>
          <target state="new">使用此 CEK 对客户数据进行加密。</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>然后，使用密钥加密密钥 (KEK) 对此 CEK 进行包装（加密）。KEK 由密钥标识符标识，可以是非对称密钥对或对称密钥，还可以在本地托管或存储在 Azure 密钥保管库中。存储空间客户端本身永远无法访问 KEK。它只能调用密钥保管库提供的密钥包装算法。客户可以根据需要选择使用自定义提供程序进行密钥包装/解包。</source>
          <target state="new">然后，使用密钥加密密钥 (KEK) 对此 CEK 进行包装（加密）。KEK 由密钥标识符标识，可以是非对称密钥对或对称密钥，还可以在本地托管或存储在 Azure 密钥保管库中。存储空间客户端本身永远无法访问 KEK。它只能调用密钥保管库提供的密钥包装算法。客户可以根据需要选择使用自定义提供程序进行密钥包装/解包。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>然后，将已加密的数据上载到 Azure 存储服务。</source>
          <target state="new">然后，将已加密的数据上载到 Azure 存储服务。</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>设置你的 Azure 密钥保管库</source>
          <target state="new">设置你的 Azure 密钥保管库</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>若要继续本教程，你需要执行教程 <bpt id="p1">[</bpt>Azure 密钥保管库入门<ept id="p1">](/documentation/articles/key-vault-get-started)</ept>中所述的以下步骤：</source>
          <target state="new">若要继续本教程，你需要执行教程 <bpt id="p1">[</bpt>Azure 密钥保管库入门<ept id="p1">](/documentation/articles/key-vault-get-started)</ept>中所述的以下步骤：</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>创建密钥保管库。</source>
          <target state="new">创建密钥保管库。</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>将密钥或密码添加到密钥保管库。</source>
          <target state="new">将密钥或密码添加到密钥保管库。</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>将应用程序注册到 Azure Active Directory。</source>
          <target state="new">将应用程序注册到 Azure Active Directory。</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>授权应用程序使用密钥或密码。</source>
          <target state="new">授权应用程序使用密钥或密码。</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>记下将应用程序注册到 Azure Active Directory 时生成的 ClientID 和 ClientSecret。</source>
          <target state="new">记下将应用程序注册到 Azure Active Directory 时生成的 ClientID 和 ClientSecret。</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>在密钥保管库中创建这两个密钥。我们在本教程的其余部分将假定使用了以下名称：ContosoKeyVault 和 TestRSAKey1。</source>
          <target state="new">在密钥保管库中创建这两个密钥。我们在本教程的其余部分将假定使用了以下名称：ContosoKeyVault 和 TestRSAKey1。</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>使用程序包和 AppSettings 创建控制台应用程序</source>
          <target state="new">使用程序包和 AppSettings 创建控制台应用程序</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>在 Visual Studio 中创建新的控制台应用程序。</source>
          <target state="new">在 Visual Studio 中创建新的控制台应用程序。</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>在 Package Manager Console 中添加必要的 Nuget 包。</source>
          <target state="new">在 Package Manager Console 中添加必要的 Nuget 包。</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>将 AppSettings 添加到 App.Config。</source>
          <target state="new">将 AppSettings 添加到 App.Config。</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>添加以下 <ph id="ph1">`using`</ph> 语句并确保将对 System.Configuration 的引用添加到项目中。</source>
          <target state="new">添加以下 <ph id="ph1">`using`</ph> 语句并确保将对 System.Configuration 的引用添加到项目中。</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>添加方法以便为控制台应用程序获取令牌</source>
          <target state="new">添加方法以便为控制台应用程序获取令牌</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>以下方法由密钥保管库类使用，这些类需要进行身份验证才能访问你的密钥保管库。</source>
          <target state="new">以下方法由密钥保管库类使用，这些类需要进行身份验证才能访问你的密钥保管库。</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>在你的程序中访问存储和密钥保管库</source>
          <target state="new">在你的程序中访问存储和密钥保管库</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>在 Main 函数中，添加以下代码。</source>
          <target state="new">在 Main 函数中，添加以下代码。</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> 密钥保管库对象模型</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> 密钥保管库对象模型</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>务必了解，实际上有两个密钥保管库对象模型：一个基于 REST API（KeyVault 命名空间），另一个是客户端加密的扩展。</source>
          <target state="new">务必了解，实际上有两个密钥保管库对象模型：一个基于 REST API（KeyVault 命名空间），另一个是客户端加密的扩展。</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>密钥保管库客户端与 REST API 进行交互，并了解密钥保管库中包含的两种模型的 JSON Web 密钥和密码。</source>
          <target state="new">密钥保管库客户端与 REST API 进行交互，并了解密钥保管库中包含的两种模型的 JSON Web 密钥和密码。</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>密钥保管库扩展似乎是专门为 Azure 存储空间中的客户端加密所创建的类。根据密钥解析程序的概念，它们包含密钥 (IKey) 和类的接口。您需要了解两种 IKey 实现：RSAKey 和 SymmetricKey。现在它们碰巧与密钥保管库中包含的内容保持一致，但此时它们是独立的类（因此，密钥保管库客户端检索到的密钥与秘密检索未实现 IKey）。</source>
          <target state="new">密钥保管库扩展似乎是专门为 Azure 存储空间中的客户端加密所创建的类。根据密钥解析程序的概念，它们包含密钥 (IKey) 和类的接口。您需要了解两种 IKey 实现：RSAKey 和 SymmetricKey。现在它们碰巧与密钥保管库中包含的内容保持一致，但此时它们是独立的类（因此，密钥保管库客户端检索到的密钥与秘密检索未实现 IKey）。</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>加密 blob 和上载</source>
          <target state="new">加密 blob 和上载</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>添加以下代码以加密 blob 并将其上载到 Azure 存储帐户。使用的 <bpt id="p1">**</bpt>ResolveKeyAsync<ept id="p1">**</ept> 方法会返回 IKey。</source>
          <target state="new">添加以下代码以加密 blob 并将其上载到 Azure 存储帐户。使用的 <bpt id="p1">**</bpt>ResolveKeyAsync<ept id="p1">**</ept> 方法会返回 IKey。</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>下面是一个 blob 的 <bpt id="p1">[</bpt>Azure 管理门户<ept id="p1">](manage.windowsazure.cn)</ept>的屏幕截图，该 blob 已使用客户端加密通过密钥保管库中存储的密钥进行加密。<bpt id="p2">**</bpt>KeyId<ept id="p2">**</ept> 属性是密钥保管库中充当 KEK 的密钥的 URI。<bpt id="p3">**</bpt>EncryptedKey<ept id="p3">**</ept> 属性包含 CEK 的加密版本。</source>
          <target state="new">下面是一个 blob 的 <bpt id="p1">[</bpt>Azure 管理门户<ept id="p1">](manage.windowsazure.cn)</ept>的屏幕截图，该 blob 已使用客户端加密通过密钥保管库中存储的密钥进行加密。<bpt id="p2">**</bpt>KeyId<ept id="p2">**</ept> 属性是密钥保管库中充当 KEK 的密钥的 URI。<bpt id="p3">**</bpt>EncryptedKey<ept id="p3">**</ept> 属性包含 CEK 的加密版本。</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>显示包含加密元数据的 Blob 元数据的屏幕截图</source>
          <target state="new">显示包含加密元数据的 Blob 元数据的屏幕截图</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>如果您看一下 BlobEncryptionPolicy 构造函数，您将看到它可以接受密钥和/或解析程序。请注意，您现在无法将解析程序用于加密，因为它当前不支持默认密钥。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>如果您看一下 BlobEncryptionPolicy 构造函数，您将看到它可以接受密钥和/或解析程序。请注意，您现在无法将解析程序用于加密，因为它当前不支持默认密钥。</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>解密 blob 并下载</source>
          <target state="new">解密 blob 并下载</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>当使用解析程序类有意义时，实际上就是解密。用于加密的密钥的 ID 与其元数据中的 Blob 相关联，因此你没有理由检索该密钥，请记住密钥与 blob 之间的关联关系。你只需确保该密钥保留在密钥保管库中。</source>
          <target state="new">当使用解析程序类有意义时，实际上就是解密。用于加密的密钥的 ID 与其元数据中的 Blob 相关联，因此你没有理由检索该密钥，请记住密钥与 blob 之间的关联关系。你只需确保该密钥保留在密钥保管库中。</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>RSA 密钥的私钥则保留在密钥保管库中，因此，为了进行解密，来自包含 CEK 的 blob 元数据的加密密钥将发送到密钥保管库进行解密。</source>
          <target state="new">RSA 密钥的私钥则保留在密钥保管库中，因此，为了进行解密，来自包含 CEK 的 blob 元数据的加密密钥将发送到密钥保管库进行解密。</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>添加以下代码以解密刚刚上载的 blob。</source>
          <target state="new">添加以下代码以解密刚刚上载的 blob。</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> 可以通过几个其他类型的解析程序来简化密钥管理，其中包括：AggregateKeyResolver 和 CachingKeyResolver。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> 可以通过几个其他类型的解析程序来简化密钥管理，其中包括：AggregateKeyResolver 和 CachingKeyResolver。</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>使用密钥保管库密码</source>
          <target state="new">使用密钥保管库密码</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>将密码用于客户端加密的方式是通过 SymmetricKey 类，因为密码实际上是一种对称密钥。但是，如上所述，密钥保管库中的密码不会完全映射到 SymmetricKey。这里要注意几个问题：</source>
          <target state="new">将密码用于客户端加密的方式是通过 SymmetricKey 类，因为密码实际上是一种对称密钥。但是，如上所述，密钥保管库中的密码不会完全映射到 SymmetricKey。这里要注意几个问题：</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>SymmetricKey 中的密钥必须是固定长度：128、192、256、384 或 512 位。</source>
          <target state="new">SymmetricKey 中的密钥必须是固定长度：128、192、256、384 或 512 位。</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>SymmetricKey 中的密钥应采用 Base64 编码。</source>
          <target state="new">SymmetricKey 中的密钥应采用 Base64 编码。</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>用作 SymmetricKey 的密钥保管库密钥需要在密钥保管库中具有“application/octet-stream”内容类型。</source>
          <target state="new">用作 SymmetricKey 的密钥保管库密钥需要在密钥保管库中具有“application/octet-stream”内容类型。</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>以下是使用 PowerShell 在密钥保管库中创建可用作 SymmetricKey 的密钥的示例。注意：硬编码值 $key 仅用于演示目的。在你自己的代码中需要生成此密钥。</source>
          <target state="new">以下是使用 PowerShell 在密钥保管库中创建可用作 SymmetricKey 的密钥的示例。注意：硬编码值 $key 仅用于演示目的。在你自己的代码中需要生成此密钥。</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>在控制台应用程序中，可以使用与之前相同的调用将此密钥作为 SymmetricKey 进行检索。</source>
          <target state="new">在控制台应用程序中，可以使用与之前相同的调用将此密钥作为 SymmetricKey 进行检索。</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>就这么简单。请尽情享受其中的乐趣！</source>
          <target state="new">就这么简单。请尽情享受其中的乐趣！</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>后续步骤</source>
          <target state="new">后续步骤</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>有关将  Azure 存储空间与 C# 配合使用的详细信息，请参阅<bpt id="p1">[</bpt>用于 .NET 的  Azure 存储客户端库<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/azure/dn261237.aspx)</ept>。</source>
          <target state="new">有关将  Azure 存储空间与 C# 配合使用的详细信息，请参阅<bpt id="p1">[</bpt>用于 .NET 的  Azure 存储客户端库<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/azure/dn261237.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>有关 Blob REST API 的详细信息，请参阅 <bpt id="p1">[</bpt>Blob 服务 REST API<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/azure/dd135733.aspx)</ept>。</source>
          <target state="new">有关 Blob REST API 的详细信息，请参阅 <bpt id="p1">[</bpt>Blob 服务 REST API<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/azure/dd135733.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>有关  Azure 存储空间的最新信息，请转到 <bpt id="p1">[</bpt>Microsoft Azure 存储空间团队博客<ept id="p1">](http://blogs.msdn.com/b/windowsazurestorage/)</ept>。</source>
          <target state="new">有关  Azure 存储空间的最新信息，请转到 <bpt id="p1">[</bpt>Microsoft Azure 存储空间团队博客<ept id="p1">](http://blogs.msdn.com/b/windowsazurestorage/)</ept>。</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>