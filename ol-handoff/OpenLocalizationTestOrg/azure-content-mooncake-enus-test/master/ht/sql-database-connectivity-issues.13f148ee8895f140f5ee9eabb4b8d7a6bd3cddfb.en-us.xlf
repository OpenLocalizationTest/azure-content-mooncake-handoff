<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ab4e31097ac8f250e737a7c46a2f62bc3a357ffe</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>为解决暂时性连接断开而采取的措施 | Azure</source>
          <target state="new">为解决暂时性连接断开而采取的措施 | Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>在与 Azure SQL 数据库交互时，为了排查、诊断和防止连接错误及其他暂时性故障而采取的措施。</source>
          <target state="new">在与 Azure SQL 数据库交互时，为了排查、诊断和防止连接错误及其他暂时性故障而采取的措施。</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>对 SQL 数据库的暂时性故障和连接错误进行故障排除</source>
          <target state="new">对 SQL 数据库的暂时性故障和连接错误进行故障排除</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>本主题介绍如何防止、排查、诊断和减少客户端程序在与 Azure SQL 数据库交互时发生的连接错误和暂时性故障。</source>
          <target state="new">本主题介绍如何防止、排查、诊断和减少客户端程序在与 Azure SQL 数据库交互时发生的连接错误和暂时性故障。</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>暂时性故障</source>
          <target state="new">暂时性故障</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>暂时性故障是根本原因很快就能自行解决的错误。当 Azure 系统快速地将硬件资源转移到负载平衡更好的各种工作负荷时，偶尔会发生暂时性故障。在进行这种重新配置的过程中，与 Azure SQL 数据库的连接可能会断开。</source>
          <target state="new">暂时性故障是根本原因很快就能自行解决的错误。当 Azure 系统快速地将硬件资源转移到负载平衡更好的各种工作负荷时，偶尔会发生暂时性故障。在进行这种重新配置的过程中，与 Azure SQL 数据库的连接可能会断开。</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>如果客户端程序使用 ADO.NET，系统将会引发 <bpt id="p1">**</bpt>SqlException<ept id="p1">**</ept>，使你的程序知道已发生暂时性故障。你可以将 <bpt id="p2">**</bpt>Number<ept id="p2">**</ept> 属性与 <bpt id="p3">[</bpt>SQL 数据库客户端程序的错误消息<ept id="p3">](/documentation/articles/sql-database-develop-error-messages)</ept>主题顶部附近的暂时性故障列表进行比较。</source>
          <target state="new">如果客户端程序使用 ADO.NET，系统将会引发 <bpt id="p1">**</bpt>SqlException<ept id="p1">**</ept>，使你的程序知道已发生暂时性故障。你可以将 <bpt id="p2">**</bpt>Number<ept id="p2">**</ept> 属性与 <bpt id="p3">[</bpt>SQL 数据库客户端程序的错误消息<ept id="p3">](/documentation/articles/sql-database-develop-error-messages)</ept>主题顶部附近的暂时性故障列表进行比较。</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>连接与命令</source>
          <target state="new">连接与命令</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>如果在尝试连接期间发生暂时性故障，应该延迟数秒后再重试连接。</source>
          <target state="new">如果在尝试连接期间发生暂时性故障，应该延迟数秒后再重试连接。</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>执行某个 SQL 查询命令期间发生暂时性故障时，不应该立即重试该命令。而应在一定的延迟之后建立新的连接。然后可以重试该命令。</source>
          <target state="new">执行某个 SQL 查询命令期间发生暂时性故障时，不应该立即重试该命令。而应在一定的延迟之后建立新的连接。然后可以重试该命令。</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>暂时性故障的重试逻辑</source>
          <target state="new">暂时性故障的重试逻辑</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>在偶尔会遇到暂时性故障的客户端程序中包含重试逻辑可以让它变得更稳健。</source>
          <target state="new">在偶尔会遇到暂时性故障的客户端程序中包含重试逻辑可以让它变得更稳健。</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>如果你的程序通过第三方中间件与 Azure SQL 数据库通信，请咨询供应商该中间件是否包含暂时性故障的重试逻辑。</source>
          <target state="new">如果你的程序通过第三方中间件与 Azure SQL 数据库通信，请咨询供应商该中间件是否包含暂时性故障的重试逻辑。</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>重试原则</source>
          <target state="new">重试原则</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>如果错误是暂时性故障，则应重新尝试打开连接。</source>
          <target state="new">如果错误是暂时性故障，则应重新尝试打开连接。</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>不应直接重试由于暂时性故障而失败的 SQL SELECT 语句。</source>
          <target state="new">不应直接重试由于暂时性故障而失败的 SQL SELECT 语句。</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>而是建立新的连接，然后重试 SELECT。</source>
          <target state="new">而是建立新的连接，然后重试 SELECT。</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>SQL UPDATE 语句由于暂时性故障而失败时，应该先建立新的连接，再重试 UPDATE。</source>
          <target state="new">SQL UPDATE 语句由于暂时性故障而失败时，应该先建立新的连接，再重试 UPDATE。</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>重试逻辑必须确保整个数据库事务完成，或整个事务已回滚。</source>
          <target state="new">重试逻辑必须确保整个数据库事务完成，或整个事务已回滚。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>其他重试注意事项</source>
          <target state="new">其他重试注意事项</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>下班后自动启动的批处理程序以及在凌晨之前完成的批处理程序在每次重试前经过较长的时间间隔。</source>
          <target state="new">下班后自动启动的批处理程序以及在凌晨之前完成的批处理程序在每次重试前经过较长的时间间隔。</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>用户界面程序应该解释用户将在长时间等待后放弃操作的倾向。</source>
          <target state="new">用户界面程序应该解释用户将在长时间等待后放弃操作的倾向。</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>但是，解决方案不得每隔几秒钟重试，因为该策略可能会使系统填满请求。</source>
          <target state="new">但是，解决方案不得每隔几秒钟重试，因为该策略可能会使系统填满请求。</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>增大重试间隔</source>
          <target state="new">增大重试间隔</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>我们建议在第一次重试前延迟 5 秒钟。如果在少于 5 秒的延迟后重试，云服务有超载的风险。对于后续的每次重试，延迟应以指数级增大，最大值为 60 秒。</source>
          <target state="new">我们建议在第一次重试前延迟 5 秒钟。如果在少于 5 秒的延迟后重试，云服务有超载的风险。对于后续的每次重试，延迟应以指数级增大，最大值为 60 秒。</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>SQL Server 连接池 (ADO.NET)<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/8xx3tyca.aspx)</ept> 中提供了有关使用 ADO.NET 的客户端的<bpt id="p2">*</bpt>阻塞期<ept id="p2">*</ept>的说明。</source>
          <target state="new"><bpt id="p1">[</bpt>SQL Server 连接池 (ADO.NET)<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/8xx3tyca.aspx)</ept> 中提供了有关使用 ADO.NET 的客户端的<bpt id="p2">*</bpt>阻塞期<ept id="p2">*</ept>的说明。</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>你还可能想要设置程序在自行终止之前的重试次数上限。</source>
          <target state="new">你还可能想要设置程序在自行终止之前的重试次数上限。</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>重试逻辑代码示例</source>
          <target state="new">重试逻辑代码示例</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>以下位置提供了采用各种编程语言的重试逻辑代码示例：</source>
          <target state="new">以下位置提供了采用各种编程语言的重试逻辑代码示例：</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>快速入门代码示例</source>
          <target state="new">快速入门代码示例</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>测试重试逻辑</source>
          <target state="new">测试重试逻辑</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>若要测试重试逻辑，必须模拟或生成程序仍在运行时可更正的错误。</source>
          <target state="new">若要测试重试逻辑，必须模拟或生成程序仍在运行时可更正的错误。</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>通过断开网络连接进行测试</source>
          <target state="new">通过断开网络连接进行测试</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>可以测试重试逻辑的方法，就是在程序运行时断中客户端计算机与网络的连接。错误将是：</source>
          <target state="new">可以测试重试逻辑的方法，就是在程序运行时断中客户端计算机与网络的连接。错误将是：</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>SqlException.Number<ept id="p1">**</ept> = 11001</source>
          <target state="new"><bpt id="p1">**</bpt>SqlException.Number<ept id="p1">**</ept> = 11001</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>消息：“没有此类已知的主机”</source>
          <target state="new">消息：“没有此类已知的主机”</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>首次重试时，程序可以更正拼写错误，然后尝试连接。</source>
          <target state="new">首次重试时，程序可以更正拼写错误，然后尝试连接。</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>若要使此操作可行，请从网络中断开计算机的连接，再启动你的程序。然后，你的程序将识别导致它执行以下操作的运行时参数：</source>
          <target state="new">若要使此操作可行，请从网络中断开计算机的连接，再启动你的程序。然后，你的程序将识别导致它执行以下操作的运行时参数：</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>暂时将 11001 添加到视为暂时性故障的错误列表。</source>
          <target state="new">暂时将 11001 添加到视为暂时性故障的错误列表。</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>像往常一样尝试首次连接。</source>
          <target state="new">像往常一样尝试首次连接。</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>在捕获该错误后，从列表中删除 11001。</source>
          <target state="new">在捕获该错误后，从列表中删除 11001。</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>显示一条消息，提示用户将计算机接入网络。</source>
          <target state="new">显示一条消息，提示用户将计算机接入网络。</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>使用 <bpt id="p1">**</bpt>Console.ReadLine<ept id="p1">**</ept> 方法或包含“确定”按钮的对话框暂停进一步的执行。将计算机接入网络后，用户按 Enter 键。</source>
          <target state="new">使用 <bpt id="p1">**</bpt>Console.ReadLine<ept id="p1">**</ept> 方法或包含“确定”按钮的对话框暂停进一步的执行。将计算机接入网络后，用户按 Enter 键。</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>重新尝试连接，预期将会成功。</source>
          <target state="new">重新尝试连接，预期将会成功。</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>通过在连接时拼错数据库名称进行测试</source>
          <target state="new">通过在连接时拼错数据库名称进行测试</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>在首次连接尝试之前，程序可以故意拼错用户名。错误将是：</source>
          <target state="new">在首次连接尝试之前，程序可以故意拼错用户名。错误将是：</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>SqlException.Number<ept id="p1">**</ept> = 18456</source>
          <target state="new"><bpt id="p1">**</bpt>SqlException.Number<ept id="p1">**</ept> = 18456</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>消息：“用户 'WRONG\_MyUserName' 登录失败。”</source>
          <target state="new">消息：“用户 'WRONG\_MyUserName' 登录失败。”</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>首次重试时，程序可以更正拼写错误，然后尝试连接。</source>
          <target state="new">首次重试时，程序可以更正拼写错误，然后尝试连接。</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>若要使此操作可行，你的程序可以识别导致它执行以下操作的运行时参数：</source>
          <target state="new">若要使此操作可行，你的程序可以识别导致它执行以下操作的运行时参数：</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>暂时将 18456 添加到视为暂时性故障的错误列表。</source>
          <target state="new">暂时将 18456 添加到视为暂时性故障的错误列表。</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>故意将“WRONG\_”添加到用户名。</source>
          <target state="new">故意将“WRONG\_”添加到用户名。</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>在捕获该错误后，从列表中删除 18456。</source>
          <target state="new">在捕获该错误后，从列表中删除 18456。</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>从用户名中删除“WRONG\_”。</source>
          <target state="new">从用户名中删除“WRONG\_”。</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>重新尝试连接，预期将会成功。</source>
          <target state="new">重新尝试连接，预期将会成功。</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>连接：连接字符串</source>
          <target state="new">连接：连接字符串</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>连接到 Azure SQL 数据库所需的连接字符串与连接到 Microsoft SQL Server 所需的字符串稍有不同。可以从 <bpt id="p1">[</bpt>Azure 门户<ept id="p1">](http://manage.windowsazure.cn)</ept>复制数据库的连接字符串。</source>
          <target state="new">连接到 Azure SQL 数据库所需的连接字符串与连接到 Microsoft SQL Server 所需的字符串稍有不同。可以从 <bpt id="p1">[</bpt>Azure 门户<ept id="p1">](http://manage.windowsazure.cn)</ept>复制数据库的连接字符串。</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>连接重试的 .NET SqlConnection 参数</source>
          <target state="new">连接重试的 .NET SqlConnection 参数</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>如果客户端程序使用 .NET Framework 类 <bpt id="p1">**</bpt>System.Data.SqlClient.SqlConnection<ept id="p1">**</ept> 连接 Azure SQL 数据库，应使用 .NET 4.6.1 或更高版本，以便可以利用其连接重试功能。该功能的详细信息在<bpt id="p2">[</bpt>此处<ept id="p2">](http://go.microsoft.com/fwlink/?linkid=393996)</ept>。</source>
          <target state="new">如果客户端程序使用 .NET Framework 类 <bpt id="p1">**</bpt>System.Data.SqlClient.SqlConnection<ept id="p1">**</ept> 连接 Azure SQL 数据库，应使用 .NET 4.6.1 或更高版本，以便可以利用其连接重试功能。该功能的详细信息在<bpt id="p2">[</bpt>此处<ept id="p2">](http://go.microsoft.com/fwlink/?linkid=393996)</ept>。</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>为 <bpt id="p1">**</bpt>SqlConnection<ept id="p1">**</ept> 对象生成<bpt id="p2">[</bpt>连接字符串<ept id="p2">](http://msdn.microsoft.com/zh-cn/library/System.Data.SqlClient.SqlConnection.connectionstring.aspx)</ept>时，应在以下参数之间协调值：</source>
          <target state="new">为 <bpt id="p1">**</bpt>SqlConnection<ept id="p1">**</ept> 对象生成<bpt id="p2">[</bpt>连接字符串<ept id="p2">](http://msdn.microsoft.com/zh-cn/library/System.Data.SqlClient.SqlConnection.connectionstring.aspx)</ept>时，应在以下参数之间协调值：</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>ConnectRetryCount &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 0。范围是从 0 到 255。）<ept id="p1">*</ept></source>
          <target state="new">ConnectRetryCount &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 0。范围是从 0 到 255。）<ept id="p1">*</ept></target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>ConnectRetryInterval &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 1 秒。范围是从 1 到 60。）<ept id="p1">*</ept></source>
          <target state="new">ConnectRetryInterval &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 1 秒。范围是从 1 到 60。）<ept id="p1">*</ept></target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>连接超时值 &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 15 秒。范围是从 0 到 2147483647）<ept id="p1">*</ept></source>
          <target state="new">连接超时值 &amp;nbsp;&amp;nbsp;<bpt id="p1">*</bpt>（默认值为 15 秒。范围是从 0 到 2147483647）<ept id="p1">*</ept></target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>具体而言，所选的值应使以下等式成立：</source>
          <target state="new">具体而言，所选的值应使以下等式成立：</target>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>连接超时值 = ConnectRetryCount * ConnectionRetryInterval</source>
          <target state="new">连接超时值 = ConnectRetryCount * ConnectionRetryInterval</target>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>例如，如果计数 = 3 且间隔 = 10 秒，超时值仅为 29 秒未给系统足够的时间进行其第三次也是最后一次连接重试，因为：29 &lt; 3 * 10。</source>
          <target state="new">例如，如果计数 = 3 且间隔 = 10 秒，超时值仅为 29 秒未给系统足够的时间进行其第三次也是最后一次连接重试，因为：29 &lt; 3 * 10。</target>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>连接与命令</source>
          <target state="new">连接与命令</target>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>ConnectRetryCount<ept id="p1">**</ept> 和 <bpt id="p2">**</bpt>ConnectRetryInterval<ept id="p2">**</ept> 参数使 <bpt id="p3">**</bpt>SqlConnection<ept id="p3">**</ept> 对象在重试连接操作时不用通知或麻烦你的程序（例如，将控制权返还给你的程序）。在以下情况下可能会进行重试：</source>
          <target state="new"><bpt id="p1">**</bpt>ConnectRetryCount<ept id="p1">**</ept> 和 <bpt id="p2">**</bpt>ConnectRetryInterval<ept id="p2">**</ept> 参数使 <bpt id="p3">**</bpt>SqlConnection<ept id="p3">**</ept> 对象在重试连接操作时不用通知或麻烦你的程序（例如，将控制权返还给你的程序）。在以下情况下可能会进行重试：</target>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>mySqlConnection.Open 方法调用</source>
          <target state="new">mySqlConnection.Open 方法调用</target>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>mySqlConnection.Execute 方法调用</source>
          <target state="new">mySqlConnection.Execute 方法调用</target>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>有个很微妙的地方。如果你正在执行<bpt id="p1">*</bpt>查询<ept id="p1">*</ept>时发生暂时性故障，<bpt id="p2">**</bpt>SqlConnection<ept id="p2">**</ept> 对象不会重试连接操作，因而肯定不会重试你的查询。但是，<bpt id="p3">**</bpt>SqlConnection<ept id="p3">**</ept> 在发送要执行的查询前会非常快速地检查连接。如果快速检查检测到连接问题，<bpt id="p4">**</bpt>SqlConnection<ept id="p4">**</ept> 会重试连接操作。如果重试成功，则会发送查询以执行。</source>
          <target state="new">有个很微妙的地方。如果你正在执行<bpt id="p1">*</bpt>查询<ept id="p1">*</ept>时发生暂时性故障，<bpt id="p2">**</bpt>SqlConnection<ept id="p2">**</ept> 对象不会重试连接操作，因而肯定不会重试你的查询。但是，<bpt id="p3">**</bpt>SqlConnection<ept id="p3">**</ept> 在发送要执行的查询前会非常快速地检查连接。如果快速检查检测到连接问题，<bpt id="p4">**</bpt>SqlConnection<ept id="p4">**</ept> 会重试连接操作。如果重试成功，则会发送查询以执行。</target>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>ConnectRetryCount 是否应结合应用程序重试逻辑？</source>
          <target state="new">ConnectRetryCount 是否应结合应用程序重试逻辑？</target>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>假设你的应用程序具有功能强大的自定义重试逻辑。它可能会重试连接操作 4 次。如果你将 <bpt id="p1">**</bpt>ConnectRetryInterval<ept id="p1">**</ept> 和 <bpt id="p2">**</bpt>ConnectRetryCount<ept id="p2">**</ept> = 3 添加到连接字符串，则将重试计数提高到 4 * 3 = 12 次重试。你可能未打算重试这么多次。</source>
          <target state="new">假设你的应用程序具有功能强大的自定义重试逻辑。它可能会重试连接操作 4 次。如果你将 <bpt id="p1">**</bpt>ConnectRetryInterval<ept id="p1">**</ept> 和 <bpt id="p2">**</bpt>ConnectRetryCount<ept id="p2">**</ept> = 3 添加到连接字符串，则将重试计数提高到 4 * 3 = 12 次重试。你可能未打算重试这么多次。</target>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>连接：IP 地址</source>
          <target state="new">连接：IP 地址</target>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>必须将 SQL 数据库服务器配置为接受来自托管客户端程序的计算机的通信。为此，可以通过 <bpt id="p1">[</bpt>Azure 门户<ept id="p1">](http://manage.windowsazure.cn)</ept>编辑防火墙设置。</source>
          <target state="new">必须将 SQL 数据库服务器配置为接受来自托管客户端程序的计算机的通信。为此，可以通过 <bpt id="p1">[</bpt>Azure 门户<ept id="p1">](http://manage.windowsazure.cn)</ept>编辑防火墙设置。</target>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>如果你忘记了配置 IP 地址，你的程序将失败，并显示简单的错误消息，指出所需的 IP 地址。</source>
          <target state="new">如果你忘记了配置 IP 地址，你的程序将失败，并显示简单的错误消息，指出所需的 IP 地址。</target>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>有关详细信息，请参阅</source>
          <target state="new">有关详细信息，请参阅</target>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>如何：在 SQL 数据库上配置防火墙设置</source>
          <target state="new">如何：在 SQL 数据库上配置防火墙设置</target>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>连接：端口</source>
          <target state="new">连接：端口</target>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>通常，只需确保在托管客户端程序的计算机上已打开端口 1433 进行出站通信。</source>
          <target state="new">通常，只需确保在托管客户端程序的计算机上已打开端口 1433 进行出站通信。</target>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>例如，当客户端程序托管在 Windows 计算机上时，主机上的 Windows 防火墙允许你打开端口 1433：</source>
          <target state="new">例如，当客户端程序托管在 Windows 计算机上时，主机上的 Windows 防火墙允许你打开端口 1433：</target>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>打开“控制面板”</source>
          <target state="new">打开“控制面板”</target>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>&amp;gt;“所有控制面板项”</source>
          <target state="new">&amp;gt;“所有控制面板项”</target>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>&amp;gt;“Windows 防火墙”</source>
          <target state="new">&amp;gt;“Windows 防火墙”</target>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>&amp;gt;“高级设置”</source>
          <target state="new">&amp;gt;“高级设置”</target>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>&amp;gt;“出站规则”</source>
          <target state="new">&amp;gt;“出站规则”</target>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>&amp;gt;“操作”</source>
          <target state="new">&amp;gt;“操作”</target>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>&amp;gt;“新建规则”</source>
          <target state="new">&amp;gt;“新建规则”</target>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>如果你的客户端程序托管在 Azure 虚拟机 (VM) 上，你应该阅读：</source>
          <target state="new">如果你的客户端程序托管在 Azure 虚拟机 (VM) 上，你应该阅读：</target>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>用于 ADO.NET 4.5 和 SQL 数据库 V12 的非 1433 端口<ept id="p1">](/documentation/articles/sql-database-develop-direct-route-ports-adonet-v12)</ept>。</source>
          <target state="new"><bpt id="p1">[</bpt>用于 ADO.NET 4.5 和 SQL 数据库 V12 的非 1433 端口<ept id="p1">](/documentation/articles/sql-database-develop-direct-route-ports-adonet-v12)</ept>。</target>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source>有关配置端口和 IP 地址的背景信息，请参阅：</source>
          <target state="new">有关配置端口和 IP 地址的背景信息，请参阅：</target>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>Azure SQL 数据库防火墙</source>
          <target state="new">Azure SQL 数据库防火墙</target>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>连接：ADO.NET 4.6.1</source>
          <target state="new">连接：ADO.NET 4.6.1</target>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>如果你的程序使用 <bpt id="p1">**</bpt>System.Data.SqlClient.SqlConnection<ept id="p1">**</ept> 等 ADO.NET 类来连接到 Azure SQL 数据库，我们建议使用 .NET Framework 4.6.1 或更高版本。</source>
          <target state="new">如果你的程序使用 <bpt id="p1">**</bpt>System.Data.SqlClient.SqlConnection<ept id="p1">**</ept> 等 ADO.NET 类来连接到 Azure SQL 数据库，我们建议使用 .NET Framework 4.6.1 或更高版本。</target>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>ADO.NET 4.6.1：</source>
          <target state="new">ADO.NET 4.6.1：</target>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>添加了对 TDS 7.4 协议的支持。这包括 4.0 所不具备的连接增强功能。</source>
          <target state="new">添加了对 TDS 7.4 协议的支持。这包括 4.0 所不具备的连接增强功能。</target>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>支持连接池。这包括有效验证提供给程序的连接对象是否正常运行的功能。</source>
          <target state="new">支持连接池。这包括有效验证提供给程序的连接对象是否正常运行的功能。</target>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>如果你要从连接池使用连接对象，我们建议，如果程序未立即使用连接，应暂时关闭连接。重新打开连接比创建新连接的开销更低。</source>
          <target state="new">如果你要从连接池使用连接对象，我们建议，如果程序未立即使用连接，应暂时关闭连接。重新打开连接比创建新连接的开销更低。</target>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>如果使用的是 ADO.NET 4.0 或更旧版本，我们建议升级到最新的 ADO.NET。</source>
          <target state="new">如果使用的是 ADO.NET 4.0 或更旧版本，我们建议升级到最新的 ADO.NET。</target>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source>从 2015年 11 月开始，你可以<bpt id="p1">[</bpt>下载 ADO.NET 4.6.1<ept id="p1">](http://blogs.msdn.com/b/dotnet/archive/2015/11/30/net-framework-4-6-1-is-now-available.aspx)</ept>。</source>
          <target state="new">从 2015年 11 月开始，你可以<bpt id="p1">[</bpt>下载 ADO.NET 4.6.1<ept id="p1">](http://blogs.msdn.com/b/dotnet/archive/2015/11/30/net-framework-4-6-1-is-now-available.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="201" translate="yes" xml:space="preserve">
          <source>诊断：测试实用程序是否可以连接</source>
          <target state="new">诊断：测试实用程序是否可以连接</target>
        </trans-unit>
        <trans-unit id="202" translate="yes" xml:space="preserve">
          <source>如果你的程序无法连接到 Azure SQL 数据库，有一个诊断选项可让你尝试使用一个实用程序来进行连接。理想的情况下，该实用程序将使用你的程序所用的同一个库进行连接。</source>
          <target state="new">如果你的程序无法连接到 Azure SQL 数据库，有一个诊断选项可让你尝试使用一个实用程序来进行连接。理想的情况下，该实用程序将使用你的程序所用的同一个库进行连接。</target>
        </trans-unit>
        <trans-unit id="203" translate="yes" xml:space="preserve">
          <source>在任何 Windows 计算机上，都可以尝试使用这些实用程序：</source>
          <target state="new">在任何 Windows 计算机上，都可以尝试使用这些实用程序：</target>
        </trans-unit>
        <trans-unit id="204" translate="yes" xml:space="preserve">
          <source>SQL Server Management Studio (ssms.exe)，它使用 ADO.NET 进行连接。</source>
          <target state="new">SQL Server Management Studio (ssms.exe)，它使用 ADO.NET 进行连接。</target>
        </trans-unit>
        <trans-unit id="205" translate="yes" xml:space="preserve">
          <source>sqlcmd.exe，它使用 <bpt id="p1">[</bpt>ODBC<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/jj730308.aspx)</ept> 进行连接。</source>
          <target state="new">sqlcmd.exe，它使用 <bpt id="p1">[</bpt>ODBC<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/jj730308.aspx)</ept> 进行连接。</target>
        </trans-unit>
        <trans-unit id="206" translate="yes" xml:space="preserve">
          <source>完成连接后，测试一个简短的 SQL SELECT 查询是否可以正常工作。</source>
          <target state="new">完成连接后，测试一个简短的 SQL SELECT 查询是否可以正常工作。</target>
        </trans-unit>
        <trans-unit id="207" translate="yes" xml:space="preserve">
          <source>诊断：检查打开的端口</source>
          <target state="new">诊断：检查打开的端口</target>
        </trans-unit>
        <trans-unit id="208" translate="yes" xml:space="preserve">
          <source>假设你怀疑连接尝试由于端口问题而失败。在你的计算机上，可以运行报告端口配置的实用程序。</source>
          <target state="new">假设你怀疑连接尝试由于端口问题而失败。在你的计算机上，可以运行报告端口配置的实用程序。</target>
        </trans-unit>
        <trans-unit id="209" translate="yes" xml:space="preserve">
          <source>在 Linux 上，以下实用程序可能很有用：</source>
          <target state="new">在 Linux 上，以下实用程序可能很有用：</target>
        </trans-unit>
        <trans-unit id="210" translate="yes" xml:space="preserve">
          <source>netstat -nap</source>
          <target state="new">netstat -nap</target>
        </trans-unit>
        <trans-unit id="211" translate="yes" xml:space="preserve">
          <source>nmap -sS -O 127.0.0.1</source>
          <target state="new">nmap -sS -O 127.0.0.1</target>
        </trans-unit>
        <trans-unit id="212" translate="yes" xml:space="preserve">
          <source>将示例值更改为你的 IP 地址）。</source>
          <target state="new">将示例值更改为你的 IP 地址）。</target>
        </trans-unit>
        <trans-unit id="213" translate="yes" xml:space="preserve">
          <source>在 Windows 上，<bpt id="p1">[</bpt>PortQry.exe<ept id="p1">](http://www.microsoft.com/en-us/download/details.aspx?id=17148)</ept> 实用程序可能很有用。以下是在 Azure SQL 数据库服务器上查询端口情况，以及在便携式计算机上运行的的示例执行：</source>
          <target state="new">在 Windows 上，<bpt id="p1">[</bpt>PortQry.exe<ept id="p1">](http://www.microsoft.com/en-us/download/details.aspx?id=17148)</ept> 实用程序可能很有用。以下是在 Azure SQL 数据库服务器上查询端口情况，以及在便携式计算机上运行的的示例执行：</target>
        </trans-unit>
        <trans-unit id="214" translate="yes" xml:space="preserve">
          <source>诊断：记录你的错误</source>
          <target state="new">诊断：记录你的错误</target>
        </trans-unit>
        <trans-unit id="215" translate="yes" xml:space="preserve">
          <source>有时，诊断间歇性问题的最好方式是每隔数天或数周检测常规模式。</source>
          <target state="new">有时，诊断间歇性问题的最好方式是每隔数天或数周检测常规模式。</target>
        </trans-unit>
        <trans-unit id="216" translate="yes" xml:space="preserve">
          <source>你的客户端可以通过记录其所遇到的所有错误来帮助你进行诊断。你可以将日志条目与 Azure SQL 数据库本身内部记录的错误数据相关联。</source>
          <target state="new">你的客户端可以通过记录其所遇到的所有错误来帮助你进行诊断。你可以将日志条目与 Azure SQL 数据库本身内部记录的错误数据相关联。</target>
        </trans-unit>
        <trans-unit id="217" translate="yes" xml:space="preserve">
          <source>Enterprise Library 6 (EntLib60) 提供了 .NET 托管类来帮助进行日志记录：</source>
          <target state="new">Enterprise Library 6 (EntLib60) 提供了 .NET 托管类来帮助进行日志记录：</target>
        </trans-unit>
        <trans-unit id="218" translate="yes" xml:space="preserve">
          <source>5 - 像滚圆木一样容易：使用日志记录应用程序块</source>
          <target state="new">5 - 像滚圆木一样容易：使用日志记录应用程序块</target>
        </trans-unit>
        <trans-unit id="219" translate="yes" xml:space="preserve">
          <source>诊断：在系统日志中检查错误</source>
          <target state="new">诊断：在系统日志中检查错误</target>
        </trans-unit>
        <trans-unit id="220" translate="yes" xml:space="preserve">
          <source>下面是在日志中查询错误和其他信息的一些 Transact-SQL SELECT 语句。</source>
          <target state="new">下面是在日志中查询错误和其他信息的一些 Transact-SQL SELECT 语句。</target>
        </trans-unit>
        <trans-unit id="221" translate="yes" xml:space="preserve">
          <source>日志查询</source>
          <target state="new">日志查询</target>
        </trans-unit>
        <trans-unit id="222" translate="yes" xml:space="preserve">
          <source>说明</source>
          <target state="new">说明</target>
        </trans-unit>
        <trans-unit id="223" translate="yes" xml:space="preserve">
          <source>&amp;nbsp;&amp;nbsp;<ph id="ph1">`(hour, e.end_time, GetUtcDate())`</ph></source>
          <target state="new">&amp;nbsp;&amp;nbsp;<ph id="ph1">`(hour, e.end_time, GetUtcDate())`</ph></target>
        </trans-unit>
        <trans-unit id="224" translate="yes" xml:space="preserve">
          <source>&amp;nbsp;&amp;nbsp;<ph id="ph1">`e.event_type, e.end_time;`</ph></source>
          <target state="new">&amp;nbsp;&amp;nbsp;<ph id="ph1">`e.event_type, e.end_time;`</ph></target>
        </trans-unit>
        <trans-unit id="225" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>sys.event\_log<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn270018.aspx)</ept> 视图提供单个事件的相关信息，包括可能导致暂时性故障或连接失败的一些事件。</source>
          <target state="new"><bpt id="p1">[</bpt>sys.event\_log<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn270018.aspx)</ept> 视图提供单个事件的相关信息，包括可能导致暂时性故障或连接失败的一些事件。</target>
        </trans-unit>
        <trans-unit id="226" translate="yes" xml:space="preserve">
          <source>理想的情况下，可以将 <bpt id="p1">**</bpt>start\_time<ept id="p1">**</ept> 或 <bpt id="p2">**</bpt>end\_time<ept id="p2">**</ept> 值与有关客户端程序何时遇到问题的信息相关联。</source>
          <target state="new">理想的情况下，可以将 <bpt id="p1">**</bpt>start\_time<ept id="p1">**</ept> 或 <bpt id="p2">**</bpt>end\_time<ept id="p2">**</ept> 值与有关客户端程序何时遇到问题的信息相关联。</target>
        </trans-unit>
        <trans-unit id="227" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>提示：<ept id="p1">**</ept>必须连接到 <bpt id="p2">**</bpt>master<ept id="p2">**</ept> 数据库才能运行此操作。</source>
          <target state="new"><bpt id="p1">**</bpt>提示：<ept id="p1">**</ept>必须连接到 <bpt id="p2">**</bpt>master<ept id="p2">**</ept> 数据库才能运行此操作。</target>
        </trans-unit>
        <trans-unit id="228" translate="yes" xml:space="preserve">
          <source>&amp;nbsp;&amp;nbsp;<ph id="ph1">`(hour, c.end_time, GetUtcDate())`</ph></source>
          <target state="new">&amp;nbsp;&amp;nbsp;<ph id="ph1">`(hour, c.end_time, GetUtcDate())`</ph></target>
        </trans-unit>
        <trans-unit id="229" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>sys.database\_connection\_stats<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn269986.aspx)</ept> 视图针对其他诊断提供事件类型的聚合计数。</source>
          <target state="new"><bpt id="p1">[</bpt>sys.database\_connection\_stats<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn269986.aspx)</ept> 视图针对其他诊断提供事件类型的聚合计数。</target>
        </trans-unit>
        <trans-unit id="230" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>提示：<ept id="p1">**</ept>必须连接到 <bpt id="p2">**</bpt>master<ept id="p2">**</ept> 数据库才能运行此操作。</source>
          <target state="new"><bpt id="p1">**</bpt>提示：<ept id="p1">**</ept>必须连接到 <bpt id="p2">**</bpt>master<ept id="p2">**</ept> 数据库才能运行此操作。</target>
        </trans-unit>
        <trans-unit id="231" translate="yes" xml:space="preserve">
          <source>诊断：在 SQL 数据库日志中搜索问题事件</source>
          <target state="new">诊断：在 SQL 数据库日志中搜索问题事件</target>
        </trans-unit>
        <trans-unit id="232" translate="yes" xml:space="preserve">
          <source>可以在 Azure SQL 数据库的日志中搜索有关问题事件的条目。在 <bpt id="p1">**</bpt>master<ept id="p1">**</ept> 数据库中尝试运行以下 Transact-SQL SELECT 语句：</source>
          <target state="new">可以在 Azure SQL 数据库的日志中搜索有关问题事件的条目。在 <bpt id="p1">**</bpt>master<ept id="p1">**</ept> 数据库中尝试运行以下 Transact-SQL SELECT 语句：</target>
        </trans-unit>
        <trans-unit id="233" translate="yes" xml:space="preserve">
          <source>将返回 sys.fn\_xe\_telemetry\_blob\_target\_read\_file 中的若干行</source>
          <target state="new">将返回 sys.fn\_xe\_telemetry\_blob\_target\_read\_file 中的若干行</target>
        </trans-unit>
        <trans-unit id="234" translate="yes" xml:space="preserve">
          <source>下面是返回行的类似内容。显示的 null 值在其他行中通常不是 null。</source>
          <target state="new">下面是返回行的类似内容。显示的 null 值在其他行中通常不是 null。</target>
        </trans-unit>
        <trans-unit id="235" translate="yes" xml:space="preserve">
          <source>Enterprise Library 6</source>
          <target state="new">Enterprise Library 6</target>
        </trans-unit>
        <trans-unit id="236" translate="yes" xml:space="preserve">
          <source>Enterprise Library 6 (EntLib60) 是 .NET 类的框架，可帮助你实施云服务（包括 Azure SQL 数据库服务）的稳健客户端。首先，可以访问 <bpt id="p1">[</bpt>Enterprise Library 6 – 2013年 4 月<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn169621%28v=pandp.60%29.aspx)</ept>，找到 EntLib60 可以提供帮助的每个领域的相关专题</source>
          <target state="new">Enterprise Library 6 (EntLib60) 是 .NET 类的框架，可帮助你实施云服务（包括 Azure SQL 数据库服务）的稳健客户端。首先，可以访问 <bpt id="p1">[</bpt>Enterprise Library 6 – 2013年 4 月<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/dn169621%28v=pandp.60%29.aspx)</ept>，找到 EntLib60 可以提供帮助的每个领域的相关专题</target>
        </trans-unit>
        <trans-unit id="237" translate="yes" xml:space="preserve">
          <source>处理暂时性故障的重试逻辑是 EntLib60 可以帮助的一个领域：</source>
          <target state="new">处理暂时性故障的重试逻辑是 EntLib60 可以帮助的一个领域：</target>
        </trans-unit>
        <trans-unit id="238" translate="yes" xml:space="preserve">
          <source>4 - 锲而不舍是所有成功的秘诀：使用暂时性故障处理应用程序块</source>
          <target state="new">4 - 锲而不舍是所有成功的秘诀：使用暂时性故障处理应用程序块</target>
        </trans-unit>
        <trans-unit id="239" translate="yes" xml:space="preserve">
          <source>以下位置提供了在其重试逻辑中使用 EntLib60 的简短 C# 代码示例：</source>
          <target state="new">以下位置提供了在其重试逻辑中使用 EntLib60 的简短 C# 代码示例：</target>
        </trans-unit>
        <trans-unit id="240" translate="yes" xml:space="preserve">
          <source>代码示例：Enterprise Library 6 中用于连接到 SQL 数据库的 C# 重试逻辑</source>
          <target state="new">代码示例：Enterprise Library 6 中用于连接到 SQL 数据库的 C# 重试逻辑</target>
        </trans-unit>
        <trans-unit id="241" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> EntLib60 的源代码可公开<bpt id="p1">[</bpt>下载<ept id="p1">](http://go.microsoft.com/fwlink/p/?LinkID=290898)</ept>。Microsoft 不打算对 EntLib 做进一步的功能或维护更新。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> EntLib60 的源代码可公开<bpt id="p1">[</bpt>下载<ept id="p1">](http://go.microsoft.com/fwlink/p/?LinkID=290898)</ept>。Microsoft 不打算对 EntLib 做进一步的功能或维护更新。</target>
        </trans-unit>
        <trans-unit id="242" translate="yes" xml:space="preserve">
          <source>用于暂时性故障和重试的 EntLib60 类</source>
          <target state="new">用于暂时性故障和重试的 EntLib60 类</target>
        </trans-unit>
        <trans-unit id="243" translate="yes" xml:space="preserve">
          <source>以下 EntLib60 类对重试逻辑特别有用。所有这些类都包含在 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling<ept id="p1">**</ept> 命名空间或其子级中：</source>
          <target state="new">以下 EntLib60 类对重试逻辑特别有用。所有这些类都包含在 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling<ept id="p1">**</ept> 命名空间或其子级中：</target>
        </trans-unit>
        <trans-unit id="244" translate="yes" xml:space="preserve">
          <source>在命名空间 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling<ept id="p1">**</ept> 中：</source>
          <target state="new">在命名空间 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling<ept id="p1">**</ept> 中：</target>
        </trans-unit>
        <trans-unit id="245" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>RetryPolicy<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>RetryPolicy<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="246" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>ExecuteAction<ept id="p1">**</ept> 方法</source>
          <target state="new"><bpt id="p1">**</bpt>ExecuteAction<ept id="p1">**</ept> 方法</target>
        </trans-unit>
        <trans-unit id="247" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>ExponentialBackoff<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>ExponentialBackoff<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="248" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>SqlDatabaseTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>SqlDatabaseTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="249" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>ReliableSqlConnection<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>ReliableSqlConnection<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="250" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>ExecuteCommand<ept id="p1">**</ept> 方法</source>
          <target state="new"><bpt id="p1">**</bpt>ExecuteCommand<ept id="p1">**</ept> 方法</target>
        </trans-unit>
        <trans-unit id="251" translate="yes" xml:space="preserve">
          <source>在命名空间 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling.TestSupport<ept id="p1">**</ept> 中：</source>
          <target state="new">在命名空间 <bpt id="p1">**</bpt>Microsoft.Practices.EnterpriseLibrary.TransientFaultHandling.TestSupport<ept id="p1">**</ept> 中：</target>
        </trans-unit>
        <trans-unit id="252" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>AlwaysTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>AlwaysTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="253" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>NeverTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</source>
          <target state="new"><bpt id="p1">**</bpt>NeverTransientErrorDetectionStrategy<ept id="p1">**</ept> 类</target>
        </trans-unit>
        <trans-unit id="254" translate="yes" xml:space="preserve">
          <source>以下是 EntLib60 相关信息的链接：</source>
          <target state="new">以下是 EntLib60 相关信息的链接：</target>
        </trans-unit>
        <trans-unit id="255" translate="yes" xml:space="preserve">
          <source>免费<bpt id="p1">[</bpt>书籍下载：Microsoft Enterprise Library 版本 2 开发人员指南<ept id="p1">](http://www.microsoft.com/en-us/download/details.aspx?id=41145)</ept></source>
          <target state="new">免费<bpt id="p1">[</bpt>书籍下载：Microsoft Enterprise Library 版本 2 开发人员指南<ept id="p1">](http://www.microsoft.com/en-us/download/details.aspx?id=41145)</ept></target>
        </trans-unit>
        <trans-unit id="256" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Enterprise Library - 暂时性故障处理应用程序块 6.0<ept id="p1">](http://www.nuget.org/packages/EnterpriseLibrary.TransientFaultHandling)</ept> 的 NuGet 下载</source>
          <target state="new"><bpt id="p1">[</bpt>Enterprise Library - 暂时性故障处理应用程序块 6.0<ept id="p1">](http://www.nuget.org/packages/EnterpriseLibrary.TransientFaultHandling)</ept> 的 NuGet 下载</target>
        </trans-unit>
        <trans-unit id="257" translate="yes" xml:space="preserve">
          <source>EntLib60：日志记录块</source>
          <target state="new">EntLib60：日志记录块</target>
        </trans-unit>
        <trans-unit id="258" translate="yes" xml:space="preserve">
          <source>日志记录块是极其灵活且可配置的解决方案，可让你：</source>
          <target state="new">日志记录块是极其灵活且可配置的解决方案，可让你：</target>
        </trans-unit>
        <trans-unit id="259" translate="yes" xml:space="preserve">
          <source>创建日志消息并将其存储在各种不同的位置。</source>
          <target state="new">创建日志消息并将其存储在各种不同的位置。</target>
        </trans-unit>
        <trans-unit id="260" translate="yes" xml:space="preserve">
          <source>分类与筛选消息。</source>
          <target state="new">分类与筛选消息。</target>
        </trans-unit>
        <trans-unit id="261" translate="yes" xml:space="preserve">
          <source>收集有助于调试和跟踪的上下文信息，以及用于满足审核和一般日志记录要求的上下文信息。</source>
          <target state="new">收集有助于调试和跟踪的上下文信息，以及用于满足审核和一般日志记录要求的上下文信息。</target>
        </trans-unit>
        <trans-unit id="262" translate="yes" xml:space="preserve">
          <source>日志记录块可以从日志目标抽象化日志记录功能，使应用程序代码保持一致，无论目标日志记录存储的位置和类型为何。</source>
          <target state="new">日志记录块可以从日志目标抽象化日志记录功能，使应用程序代码保持一致，无论目标日志记录存储的位置和类型为何。</target>
        </trans-unit>
        <trans-unit id="263" translate="yes" xml:space="preserve">
          <source>有关详细信息，请参阅：</source>
          <target state="new">有关详细信息，请参阅：</target>
        </trans-unit>
        <trans-unit id="264" translate="yes" xml:space="preserve">
          <source>5 - 像滚圆木一样容易：使用日志记录应用程序块</source>
          <target state="new">5 - 像滚圆木一样容易：使用日志记录应用程序块</target>
        </trans-unit>
        <trans-unit id="265" translate="yes" xml:space="preserve">
          <source>EntLib60 IsTransient 方法的源代码</source>
          <target state="new">EntLib60 IsTransient 方法的源代码</target>
        </trans-unit>
        <trans-unit id="266" translate="yes" xml:space="preserve">
          <source>接下来，<bpt id="p1">**</bpt>SqlDatabaseTransientErrorDetectionStrategy<ept id="p1">**</ept> 类包含 <bpt id="p2">**</bpt>IsTransient<ept id="p2">**</ept> 方法的 C# 源代码。该源代码阐明了哪些错误被视为暂时性错误并值得重试（从 2013 年 4 月起）。</source>
          <target state="new">接下来，<bpt id="p1">**</bpt>SqlDatabaseTransientErrorDetectionStrategy<ept id="p1">**</ept> 类包含 <bpt id="p2">**</bpt>IsTransient<ept id="p2">**</ept> 方法的 C# 源代码。该源代码阐明了哪些错误被视为暂时性错误并值得重试（从 2013 年 4 月起）。</target>
        </trans-unit>
        <trans-unit id="267" translate="yes" xml:space="preserve">
          <source>为了注重易读性，我们在此副本中删除了大量的 <bpt id="p1">**</bpt>//comment<ept id="p1">**</ept> 行。</source>
          <target state="new">为了注重易读性，我们在此副本中删除了大量的 <bpt id="p1">**</bpt>//comment<ept id="p1">**</ept> 行。</target>
        </trans-unit>
        <trans-unit id="268" translate="yes" xml:space="preserve">
          <source>详细信息</source>
          <target state="new">详细信息</target>
        </trans-unit>
        <trans-unit id="269" translate="yes" xml:space="preserve">
          <source>SQL Server 连接池 (ADO.NET)</source>
          <target state="new">SQL Server 连接池 (ADO.NET)</target>
        </trans-unit>
        <trans-unit id="270" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>重试<ept id="p1">*</ept>是 Apache 2.0 授权的通用重试库，它以 <bpt id="p2">**</bpt>Python<ept id="p2">**</ept> 编写，可以简化向几乎任何程序添加重试行为的任务。</source>
          <target state="new"><bpt id="p1">*</bpt>重试<ept id="p1">*</ept>是 Apache 2.0 授权的通用重试库，它以 <bpt id="p2">**</bpt>Python<ept id="p2">**</ept> 编写，可以简化向几乎任何程序添加重试行为的任务。</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>