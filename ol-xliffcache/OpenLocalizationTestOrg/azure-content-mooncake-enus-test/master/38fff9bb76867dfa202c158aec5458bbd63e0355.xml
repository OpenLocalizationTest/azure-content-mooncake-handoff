{
  "nodes": [
    {
      "content": "使用 Visual Studio 连接到 SQL 数据仓库 | Azure",
      "pos": [
        26,
        63
      ]
    },
    {
      "content": "开始连接到 SQL 数据仓库并运行一些查询。",
      "pos": [
        81,
        103
      ]
    },
    {
      "content": "使用 Visual Studio 连接到 SQL 数据仓库",
      "pos": [
        322,
        351
      ]
    },
    {
      "content": "[AZURE.SELECTOR]",
      "pos": [
        355,
        371
      ]
    },
    {
      "content": "Visual Studio",
      "pos": [
        375,
        388
      ]
    },
    {
      "content": "SQLCMD",
      "pos": [
        457,
        463
      ]
    },
    {
      "content": "本演练说明如何使用 Visual Studio 中的 SQL Server Data Tools 在短时间内连接到 Azure SQL 数据仓库数据库。连接后，你将运行一个简单的查询。",
      "pos": [
        537,
        629
      ]
    },
    {
      "content": "先决条件",
      "pos": [
        634,
        638
      ]
    },
    {
      "content": "SQL 数据仓库中的 AdventureWorksDW 示例数据库。",
      "pos": [
        642,
        676
      ]
    },
    {
      "pos": [
        680,
        827
      ],
      "content": "SQL Server Data Tools for Visual Studio。有关安装指说明和选项，请参阅<bpt id=\"p1\">[</bpt>安装 Visual Studio 和/或 SSDT<ept id=\"p1\">](/documentation/articles/sql-data-warehouse-install-visual-studio)</ept>"
    },
    {
      "content": "步骤 1：查找完全限定的 Azure SQL 服务器名称",
      "pos": [
        832,
        860
      ]
    },
    {
      "pos": [
        862,
        954
      ],
      "content": "你的数据库与 Azure SQL 服务器相关联。若要连接到你的数据库，需要服务器的完全限定名称 (<bpt id=\"p1\">**</bpt>servername<ept id=\"p1\">**</ept>.database.chinacloudapi.cn*)。"
    },
    {
      "content": "若要查找完全限定的服务器名称，请执行以下操作。",
      "pos": [
        956,
        979
      ]
    },
    {
      "content": "步骤 1：通过以下命令查找我们需要的服务器信息。本示例使用 AdventureWorksDW 示例数据库,Group1 资源组。",
      "pos": [
        984,
        1048
      ]
    },
    {
      "content": "步骤 2：连接到你的 SQL 数据库",
      "pos": [
        1151,
        1169
      ]
    },
    {
      "content": "打开 Visual Studio。",
      "pos": [
        1174,
        1191
      ]
    },
    {
      "content": "打开 SQL Server 对象资源管理器。为此，请选择“视图”&gt;“SQL Server 对象资源管理器”。",
      "pos": [
        1195,
        1249
      ]
    },
    {
      "content": "SQL Server 对象资源管理器",
      "pos": [
        1258,
        1276
      ]
    },
    {
      "content": "单击“添加 SQL Server”图标。",
      "pos": [
        1285,
        1305
      ]
    },
    {
      "content": "添加 SQL 服务器",
      "pos": [
        1313,
        1323
      ]
    },
    {
      "content": "填写“连接到服务器”窗口中的字段。",
      "pos": [
        1332,
        1349
      ]
    },
    {
      "content": "连接到服务器",
      "pos": [
        1357,
        1363
      ]
    },
    {
      "pos": [
        1375,
        1402
      ],
      "content": "<bpt id=\"p1\">**</bpt>服务器名称<ept id=\"p1\">**</ept>。输入我们前面找到的<bpt id=\"p2\">*</bpt>服务器名称<ept id=\"p2\">*</ept>。"
    },
    {
      "pos": [
        1409,
        1438
      ],
      "content": "<bpt id=\"p1\">**</bpt>身份验证<ept id=\"p1\">**</ept>。选择“SQL Server 身份验证”。"
    },
    {
      "pos": [
        1445,
        1484
      ],
      "content": "<bpt id=\"p1\">**</bpt>登录名<ept id=\"p1\">**</ept>和<bpt id=\"p2\">**</bpt>密码<ept id=\"p2\">**</ept>。输入 Azure SQL 数据库的登录名和密码。"
    },
    {
      "content": "单击“连接”。",
      "pos": [
        1491,
        1498
      ]
    },
    {
      "content": "若要浏览，请展开你的 Azure SQL 服务器。你可以查看与服务器关联的数据库。展开 AdventureWorksDW 以查看示例数据库中的表。",
      "pos": [
        1503,
        1576
      ]
    },
    {
      "content": "浏览 AdventureWorksDW",
      "pos": [
        1584,
        1603
      ]
    },
    {
      "content": "步骤 3：运行示例查询",
      "pos": [
        1613,
        1624
      ]
    },
    {
      "content": "现在，我们已连接到服务器，接下来继续编写查询。",
      "pos": [
        1626,
        1649
      ]
    },
    {
      "content": "在 SQL Server 对象资源管理器中右键单击你的数据库。",
      "pos": [
        1654,
        1685
      ]
    },
    {
      "content": "选择“新建查询”。此时将打开一个新的查询窗口。",
      "pos": [
        1691,
        1714
      ]
    },
    {
      "content": "新建查询",
      "pos": [
        1722,
        1726
      ]
    },
    {
      "content": "将以下 TSQL 查询复制到查询窗口中：",
      "pos": [
        1735,
        1755
      ]
    },
    {
      "pos": [
        1825,
        1870
      ],
      "content": "运行该查询。为此，请单击绿色箭头，或使用以下快捷键：<ph id=\"ph1\">`CTRL`</ph>+<ph id=\"ph2\">`SHIFT`</ph>+<ph id=\"ph3\">`E`</ph>。"
    },
    {
      "content": "运行查询",
      "pos": [
        1878,
        1882
      ]
    },
    {
      "content": "查看查询结果。在此示例中，FactInternetSales 表包含 60398 行。",
      "pos": [
        1891,
        1934
      ]
    },
    {
      "content": "查询结果",
      "pos": [
        1942,
        1946
      ]
    }
  ],
  "content": "<properties\n   pageTitle=\"使用 Visual Studio 连接到 SQL 数据仓库 | Azure\"\n   description=\"开始连接到 SQL 数据仓库并运行一些查询。\"\n   services=\"sql-data-warehouse\"\n   documentationCenter=\"NA\"\n   authors=\"twounder\"\n   manager=\"barbkess\"\n   editor=\"\"/>\n\n<tags\n   ms.service=\"sql-data-warehouse\"\n   ms.date=\"10/22/2015\"\n   wacn.date=\"01/20/2016\"/>\n\n# 使用 Visual Studio 连接到 SQL 数据仓库\n\n> [AZURE.SELECTOR]\n- [Visual Studio](/documentation/articles/sql-data-warehouse-get-started-connect)\n- [SQLCMD](/documentation/articles/sql-data-warehouse-get-started-connect-sqlcmd)\n\n本演练说明如何使用 Visual Studio 中的 SQL Server Data Tools 在短时间内连接到 Azure SQL 数据仓库数据库。连接后，你将运行一个简单的查询。\n\n## 先决条件\n\n+ SQL 数据仓库中的 AdventureWorksDW 示例数据库。 \n+ SQL Server Data Tools for Visual Studio。有关安装指说明和选项，请参阅[安装 Visual Studio 和/或 SSDT](/documentation/articles/sql-data-warehouse-install-visual-studio)\n\n## 步骤 1：查找完全限定的 Azure SQL 服务器名称\n\n你的数据库与 Azure SQL 服务器相关联。若要连接到你的数据库，需要服务器的完全限定名称 (**servername**.database.chinacloudapi.cn*)。\n\n若要查找完全限定的服务器名称，请执行以下操作。\n\n## 步骤 1：通过以下命令查找我们需要的服务器信息。本示例使用 AdventureWorksDW 示例数据库,Group1 资源组。\n \n    PS C:\\> Get-AzureRmSqlServer -ResourceGroupName \"Group1\" -DatabaseName \"AdventureWorksDW\"  \n\n## 步骤 2：连接到你的 SQL 数据库\n\n1. 打开 Visual Studio。\n2. 打开 SQL Server 对象资源管理器。为此，请选择“视图”>“SQL Server 对象资源管理器”。\n \n    ![SQL Server 对象资源管理器][2]\n\n3. 单击“添加 SQL Server”图标。\n\n    ![添加 SQL 服务器][3]\n\n1. 填写“连接到服务器”窗口中的字段。\n\n    ![连接到服务器][4]\n\n    - **服务器名称**。输入我们前面找到的*服务器名称*。\n    - **身份验证**。选择“SQL Server 身份验证”。\n    - **登录名**和**密码**。输入 Azure SQL 数据库的登录名和密码。\n    - 单击“连接”。\n\n1. 若要浏览，请展开你的 Azure SQL 服务器。你可以查看与服务器关联的数据库。展开 AdventureWorksDW 以查看示例数据库中的表。\n\n    ![浏览 AdventureWorksDW][5]\n\n\n## 步骤 3：运行示例查询\n\n现在，我们已连接到服务器，接下来继续编写查询。\n\n1. 在 SQL Server 对象资源管理器中右键单击你的数据库。 \n\n2. 选择“新建查询”。此时将打开一个新的查询窗口。\n\n    ![新建查询][6]\n\n3. 将以下 TSQL 查询复制到查询窗口中：\n\n    ```\n    SELECT COUNT(*) FROM dbo.FactInternetSales;\n    ```\n\n4. 运行该查询。为此，请单击绿色箭头，或使用以下快捷键：`CTRL`+`SHIFT`+`E`。\n\n    ![运行查询][7]\n\n1. 查看查询结果。在此示例中，FactInternetSales 表包含 60398 行。\n\n    ![查询结果][8]\n\n \n\n\n<!--Image references-->\n\n[1]: ./media/sql-data-warehouse-get-started-connect/get-server-name.png\n[2]: ./media/sql-data-warehouse-get-started-connect/open-ssdt.png\n[3]: ./media/sql-data-warehouse-get-started-connect/add-server.png\n[4]: ./media/sql-data-warehouse-get-started-connect/connection-dialog.png\n[5]: ./media/sql-data-warehouse-get-started-connect/explore-sample.png\n[6]: ./media/sql-data-warehouse-get-started-connect/new-query2.png\n[7]: ./media/sql-data-warehouse-get-started-connect/run-query.png\n[8]: ./media/sql-data-warehouse-get-started-connect/query-results.png\n\n<!---HONumber=Mooncake_1207_2015-->\n"
}