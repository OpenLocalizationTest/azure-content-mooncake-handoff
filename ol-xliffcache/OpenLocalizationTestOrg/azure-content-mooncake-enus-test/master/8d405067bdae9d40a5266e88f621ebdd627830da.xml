{
  "nodes": [
    {
      "content": "SQL 数据库 V12 的新增功能 | Azure",
      "pos": [
        28,
        53
      ]
    },
    {
      "content": "介绍云中使用 Azure SQL 数据库的业务系统在升级到版本 V12 后为何能够受益。",
      "pos": [
        73,
        117
      ]
    },
    {
      "content": "SQL 数据库 V12 的新增功能",
      "pos": [
        341,
        358
      ]
    },
    {
      "content": "本主题介绍 Azure SQL 数据库新版本 V12 相比版本 V11 具有的诸多优点。",
      "pos": [
        361,
        405
      ]
    },
    {
      "content": "我们继续向 V12 添加功能。因此，我们鼓励你访问我们的针对 Azure 的服务更新网页并使用其筛选器：",
      "pos": [
        408,
        460
      ]
    },
    {
      "pos": [
        465,
        539
      ],
      "content": "筛选为 <bpt id=\"p1\">[</bpt>SQL 数据库服务<ept id=\"p1\">](http://azure.microsoft.com/updates/?service=sql-database)</ept>。"
    },
    {
      "pos": [
        542,
        664
      ],
      "content": "筛选为针对 SQL 数据库功能的正式发布 <bpt id=\"p1\">[</bpt>(GA) 公告<ept id=\"p1\">](http://azure.microsoft.com/updates/?service=sql-database&amp;update-type=general-availability)</ept>。"
    },
    {
      "content": "有关 SQL 数据库资源限制的最新信息：",
      "pos": [
        667,
        687
      ]
    },
    {
      "content": "<bpt id=\"p1\">[</bpt>Azure SQL 数据库资源限制<ept id=\"p1\">](/documentation/articles/sql-database-resource-limits)</ept>。",
      "pos": [
        692,
        766
      ]
    },
    {
      "content": "提高了与 SQL Server 的应用程序兼容性",
      "pos": [
        772,
        796
      ]
    },
    {
      "content": "SQL 数据库 V12 的一个主要目标就是提高与 Microsoft SQL Server 2014 的兼容性。另外，在编程性方面，V12 能够与 SQL Server 兼容。例如：",
      "pos": [
        799,
        890
      ]
    },
    {
      "pos": [
        895,
        1022
      ],
      "content": "包括 <bpt id=\"p1\">[</bpt>OVER<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/ms189461.aspx)</ept> 的<bpt id=\"p2\">[</bpt>开窗函数<ept id=\"p2\">](http://msdn.microsoft.com/zh-cn/library/bb934097.aspx)</ept>"
    },
    {
      "pos": [
        1026,
        1157
      ],
      "content": "<bpt id=\"p1\">[</bpt>XML 索引<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/bb934097.aspx)</ept>和<bpt id=\"p2\">[</bpt>选择性 XML 索引<ept id=\"p2\">](http://msdn.microsoft.com/zh-cn/library/jj670104.aspx)</ept>"
    },
    {
      "content": "更改跟踪",
      "pos": [
        1161,
        1165
      ]
    },
    {
      "content": "SELECT...INTO",
      "pos": [
        1225,
        1238
      ]
    },
    {
      "content": "全文搜索",
      "pos": [
        1298,
        1302
      ]
    },
    {
      "pos": [
        1361,
        1453
      ],
      "content": "有关 SQL 数据库尚不支持的少部分功能，请参阅<bpt id=\"p1\">[</bpt>此处<ept id=\"p1\">](/documentation/articles/sql-database-transact-sql-information)</ept>。"
    },
    {
      "content": "更高级的性能，全新的性能级别",
      "pos": [
        1459,
        1473
      ]
    },
    {
      "content": "在 V12 中，我们将分配给所有“高级”性能级别的数据库吞吐量单位 (DTU) 提高了 25% 且不收取额外的费用。使用如下所述的新功能可以进一步提高性能：",
      "pos": [
        1476,
        1554
      ]
    },
    {
      "pos": [
        1559,
        1627
      ],
      "content": "支持内存中<bpt id=\"p1\">[</bpt>列存储索引<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/gg492153.aspx)</ept>。"
    },
    {
      "pos": [
        1630,
        1778
      ],
      "content": "使用 <bpt id=\"p1\">[</bpt>TRUNCATE TABLE<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/ms177570.aspx)</ept> 的相关增强功能，<bpt id=\"p2\">[</bpt>按行进行表分区<ept id=\"p2\">](http://msdn.microsoft.com/zh-cn/library/ms187802.aspx)</ept>。"
    },
    {
      "pos": [
        1781,
        1866
      ],
      "content": "可以使用动态管理视图 <bpt id=\"p1\">[</bpt>(DMV)<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/ms188754.aspx)</ept> 来帮助监视和优化性能。"
    },
    {
      "content": "可靠的性能",
      "pos": [
        1873,
        1878
      ]
    },
    {
      "content": "如果客户端程序连接到 SQL 数据库 V12，而客户端运行在 Azure 虚拟机 (VM) 上，则必须打开 VM 上的以下端口范围：",
      "pos": [
        1881,
        1947
      ]
    },
    {
      "content": "11000-11999",
      "pos": [
        1951,
        1962
      ]
    },
    {
      "content": "14000-14999",
      "pos": [
        1965,
        1976
      ]
    },
    {
      "pos": [
        1979,
        2115
      ],
      "content": "单击<bpt id=\"p1\">[</bpt>此处<ept id=\"p1\">](/documentation/articles/sql-database-develop-direct-route-ports-adonet-v12)</ept>可了解有关 SQL 数据库 V12 的端口的详细信息。SQL 数据库 V12 中的性能增强功能需要这些端口。"
    },
    {
      "content": "更好支持云 SaaS 供应商",
      "pos": [
        2121,
        2135
      ]
    },
    {
      "pos": [
        2138,
        2265
      ],
      "content": "我们只在 V12 中发布了新的标准性能级别 S3 与<bpt id=\"p1\">[</bpt>弹性数据库池<ept id=\"p1\">](/documentation/articles/sql-database-elastic-pool)</ept>公共预览版。这是专门为云 SaaS 供应商设计的解决方案。使用弹性数据库池，你可以："
    },
    {
      "content": "在数据库之间共享 DTU，以降低部署大量数据库所带来的成本。",
      "pos": [
        2270,
        2300
      ]
    },
    {
      "pos": [
        2303,
        2383
      ],
      "content": "执行<bpt id=\"p1\">[</bpt>弹性数据库作业<ept id=\"p1\">](/documentation/articles/sql-database-elastic-jobs-overview)</ept>大规模管理数据库。"
    },
    {
      "content": "安全增强",
      "pos": [
        2389,
        2393
      ]
    },
    {
      "content": "对于在云中运营业务的任何人来说，安全性是一个主要考虑因素。V12 中发布的最新安全功能包括：",
      "pos": [
        2396,
        2442
      ]
    },
    {
      "pos": [
        2447,
        2515
      ],
      "content": "<bpt id=\"p1\">[</bpt>行级安全性<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/dn765131.aspx)</ept> (RLS)"
    },
    {
      "content": "动态数据屏蔽",
      "pos": [
        2519,
        2525
      ]
    },
    {
      "content": "包含的数据库",
      "pos": [
        2601,
        2607
      ]
    },
    {
      "pos": [
        2666,
        2753
      ],
      "content": "使用 GRANT、DENY、REVOKE 管理的<bpt id=\"p1\">[</bpt>应用程序角色<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/ms190998.aspx)</ept>"
    },
    {
      "pos": [
        2756,
        2853
      ],
      "content": "<bpt id=\"p1\">[</bpt>透明数据加密<ept id=\"p1\">](http://msdn.microsoft.com/zh-cn/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx)</ept> (TDE)"
    },
    {
      "content": "通过使用 Azure Active Directory 身份验证连接到 SQL 数据库",
      "pos": [
        2857,
        2900
      ]
    },
    {
      "content": "SQL 数据库现在支持 Azure Active Directory 身份验证，该身份验证是使用 Azure Active Directory (Azure AD) 中的标识连接到 SQL 数据库的一种机制。通过 Azure Active Directory 身份验证，可以在一个中心位置中集中管理数据库用户和其他 Microsoft 服务的标识。",
      "pos": [
        2962,
        3136
      ]
    },
    {
      "pos": [
        3139,
        3265
      ],
      "content": "<bpt id=\"p1\">[</bpt>始终加密<ept id=\"p1\">](https://msdn.microsoft.com/zh-cn/library/mt163865.aspx)</ept>（预览版）使得加密对于应用程序来说是透明的，从而让客户端能够加密客户端应用程序中的敏感数据，不必与 SQL 数据库共享加密密钥。"
    },
    {
      "content": "在需要恢复时提高业务连续性",
      "pos": [
        3271,
        3284
      ]
    },
    {
      "content": "V12 提供大幅提高的恢复点目标 (RPO) 与预计恢复时间 (ERT)：",
      "pos": [
        3287,
        3324
      ]
    },
    {
      "content": "业务连续性功能",
      "pos": [
        3329,
        3336
      ]
    },
    {
      "content": "早期版本",
      "pos": [
        3339,
        3343
      ]
    },
    {
      "content": "V12",
      "pos": [
        3346,
        3349
      ]
    },
    {
      "content": "异地还原",
      "pos": [
        3374,
        3378
      ]
    },
    {
      "content": "• RPO &lt; 24 小时。",
      "pos": [
        3381,
        3395
      ]
    },
    {
      "content": "• ERT &lt; 12 小时。",
      "pos": [
        3400,
        3414
      ]
    },
    {
      "content": "• RPO &lt; 1 小时。",
      "pos": [
        3417,
        3430
      ]
    },
    {
      "content": "• ERT &lt; 12 小时。",
      "pos": [
        3435,
        3449
      ]
    },
    {
      "content": "标准异地复制",
      "pos": [
        3454,
        3460
      ]
    },
    {
      "content": "• RPO &lt; 30 分钟。",
      "pos": [
        3463,
        3477
      ]
    },
    {
      "content": "• ERT &lt; 2 小时。",
      "pos": [
        3482,
        3495
      ]
    },
    {
      "content": "• RPO &lt; 5 秒。",
      "pos": [
        3498,
        3510
      ]
    },
    {
      "content": "• ERT &lt; 30 秒。",
      "pos": [
        3515,
        3528
      ]
    },
    {
      "content": "活动异地复制",
      "pos": [
        3533,
        3539
      ]
    },
    {
      "content": "• RPO &lt; 5 分钟。",
      "pos": [
        3542,
        3555
      ]
    },
    {
      "content": "• ERT &lt; 1 小时。",
      "pos": [
        3560,
        3573
      ]
    },
    {
      "content": "• RPO &lt; 5 秒。",
      "pos": [
        3576,
        3588
      ]
    },
    {
      "content": "• ERT &lt; 30 秒。",
      "pos": [
        3593,
        3606
      ]
    },
    {
      "pos": [
        3611,
        3694
      ],
      "content": "有关详细信息，请参阅 <bpt id=\"p1\">[</bpt>SQL 数据库业务连续<ept id=\"p1\">](/documentation/articles/sql-database-business-continuity)</ept>。"
    },
    {
      "content": "立即升级的更多原因",
      "pos": [
        3700,
        3709
      ]
    },
    {
      "content": "我们可以给出很多有说服力的理由来劝告客户立即从 V11 升级到 Azure SQL 数据库 V12：",
      "pos": [
        3712,
        3762
      ]
    },
    {
      "content": "与 V11 相比，SQL 数据库 V12 中增加了许多新的功能。",
      "pos": [
        3767,
        3799
      ]
    },
    {
      "content": "我们将持续在 V12 中新增功能，但是 V11 不会再新增功能。",
      "pos": [
        3802,
        3834
      ]
    },
    {
      "content": "大多数新功能都会先在 SQL 数据库 V12 中发布，然后再发布到 Microsoft SQL Server。",
      "pos": [
        3837,
        3892
      ]
    },
    {
      "content": "已开始使用 V12 了吗？",
      "pos": [
        3898,
        3911
      ]
    },
    {
      "content": "执行以下操作可以轻松判断你是否在早期版本的 SQL 数据库服务上运行数据库或逻辑服务器：",
      "pos": [
        3914,
        3958
      ]
    },
    {
      "pos": [
        3964,
        4009
      ],
      "content": "转到 <bpt id=\"p1\">[</bpt>Azure 门户<ept id=\"p1\">](http://manage.windowsazure.cn)</ept>。"
    },
    {
      "content": "单击“浏览”。",
      "pos": [
        4013,
        4020
      ]
    },
    {
      "content": "单击“SQL Server”。",
      "pos": [
        4024,
        4039
      ]
    },
    {
      "content": "服务器或数据库旁边的图标会告知实情：",
      "pos": [
        4043,
        4061
      ]
    },
    {
      "pos": [
        4065,
        4141
      ],
      "content": "<ph id=\"ph1\">![</ph>V12 服务器的图标<ph id=\"ph2\">](./media/sql-database-v12-whats-new/v12_icon.png)</ph> <bpt id=\"p1\">**</bpt>V12 逻辑服务器<ept id=\"p1\">**</ept>"
    },
    {
      "pos": [
        4145,
        4226
      ],
      "content": "<ph id=\"ph1\">![</ph>早期版本服务器的图标<ph id=\"ph2\">](./media/sql-database-v12-whats-new/earlier_icon.png)</ph> <bpt id=\"p1\">**</bpt>早期版本的逻辑服务器<ept id=\"p1\">**</ept>"
    },
    {
      "pos": [
        4229,
        4284
      ],
      "content": "确定版本的另一种方法是在数据库中运行 <ph id=\"ph1\">`SELECT @@version;`</ph> 语句，然后查看类似于下面的结果："
    },
    {
      "pos": [
        4289,
        4328
      ],
      "content": "<bpt id=\"p1\">**</bpt>12<ept id=\"p1\">**</ept>.0.2000.10 &amp;nbsp; <bpt id=\"p2\">*</bpt>(version V12)<ept id=\"p2\">*</ept>"
    },
    {
      "pos": [
        4331,
        4370
      ],
      "content": "<bpt id=\"p1\">**</bpt>11<ept id=\"p1\">**</ept>.0.9228.18 &amp;nbsp; <bpt id=\"p2\">*</bpt>(version V11)<ept id=\"p2\">*</ept>"
    },
    {
      "content": "V12 数据库只能托管在 V12 逻辑服务器上。V12 服务器只能托管 V12 数据库。",
      "pos": [
        4373,
        4417
      ]
    },
    {
      "pos": [
        4420,
        4523
      ],
      "content": "如果你尚未在 V12 上运行，可以根据<bpt id=\"p1\">[</bpt>就地升级到 SQL 数据库 V12<ept id=\"p1\">](/documentation/articles/sql-database-v12-upgrade)</ept> 中的步骤升级你的逻辑服务器。"
    },
    {
      "pos": [
        4529,
        4579
      ],
      "content": "<ph id=\"ph1\">&lt;a name=\"V12AzureSqlDbPreviewGaTable\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph> 正式版上市区域"
    },
    {
      "content": "2015 年 7 月 31，所有区域都已发布正式版 (GA)。",
      "pos": [
        4584,
        4615
      ]
    },
    {
      "content": "V12 已于 2014 年 12 月发布，但仅以预览版提供。",
      "pos": [
        4618,
        4648
      ]
    }
  ],
  "content": "<properties \n    pageTitle=\"SQL 数据库 V12 的新增功能 | Azure\" \n    description=\"介绍云中使用 Azure SQL 数据库的业务系统在升级到版本 V12 后为何能够受益。\" \n    services=\"sql-database\" \n    documentationCenter=\"\" \n    authors=\"MightyPen\" \n    manager=\"jeffreyg\" \n    editor=\"\"/>\n\n\n<tags \n    ms.service=\"sql-database\" \n    ms.date=\"11/11/2015\" \n    wacn.date=\"01/29/2016\"/>\n\n\n# SQL 数据库 V12 的新增功能\n\n\n本主题介绍 Azure SQL 数据库新版本 V12 相比版本 V11 具有的诸多优点。\n\n\n我们继续向 V12 添加功能。因此，我们鼓励你访问我们的针对 Azure 的服务更新网页并使用其筛选器：\n\n\n- 筛选为 [SQL 数据库服务](http://azure.microsoft.com/updates/?service=sql-database)。\n- 筛选为针对 SQL 数据库功能的正式发布 [(GA) 公告](http://azure.microsoft.com/updates/?service=sql-database&update-type=general-availability)。\n\n\n有关 SQL 数据库资源限制的最新信息：<br/>[Azure SQL 数据库资源限制](/documentation/articles/sql-database-resource-limits)。\n\n\n## 提高了与 SQL Server 的应用程序兼容性\n\n\nSQL 数据库 V12 的一个主要目标就是提高与 Microsoft SQL Server 2014 的兼容性。另外，在编程性方面，V12 能够与 SQL Server 兼容。例如：\n\n\n- 包括 [OVER](http://msdn.microsoft.com/zh-cn/library/ms189461.aspx) 的[开窗函数](http://msdn.microsoft.com/zh-cn/library/bb934097.aspx) \n- [XML 索引](http://msdn.microsoft.com/zh-cn/library/bb934097.aspx)和[选择性 XML 索引](http://msdn.microsoft.com/zh-cn/library/jj670104.aspx)\n- [更改跟踪](http://msdn.microsoft.com/zh-cn/library/bb933875.aspx)\n- [SELECT...INTO](http://msdn.microsoft.com/zh-cn/library/ms188029.aspx)\n- [全文搜索](http://msdn.microsoft.com/zh-cn/library/ms142571.aspx)\n\n\n有关 SQL 数据库尚不支持的少部分功能，请参阅[此处](/documentation/articles/sql-database-transact-sql-information)。\n\n\n## 更高级的性能，全新的性能级别\n\n\n在 V12 中，我们将分配给所有“高级”性能级别的数据库吞吐量单位 (DTU) 提高了 25% 且不收取额外的费用。使用如下所述的新功能可以进一步提高性能：\n\n\n- 支持内存中[列存储索引](http://msdn.microsoft.com/zh-cn/library/gg492153.aspx)。\n- 使用 [TRUNCATE TABLE](http://msdn.microsoft.com/zh-cn/library/ms177570.aspx) 的相关增强功能，[按行进行表分区](http://msdn.microsoft.com/zh-cn/library/ms187802.aspx)。\n- 可以使用动态管理视图 [(DMV)](http://msdn.microsoft.com/zh-cn/library/ms188754.aspx) 来帮助监视和优化性能。\n\n\n### 可靠的性能\n\n\n如果客户端程序连接到 SQL 数据库 V12，而客户端运行在 Azure 虚拟机 (VM) 上，则必须打开 VM 上的以下端口范围：\n\n- 11000-11999\n- 14000-14999\n\n\n单击[此处](/documentation/articles/sql-database-develop-direct-route-ports-adonet-v12)可了解有关 SQL 数据库 V12 的端口的详细信息。SQL 数据库 V12 中的性能增强功能需要这些端口。\n\n\n## 更好支持云 SaaS 供应商\n\n\n我们只在 V12 中发布了新的标准性能级别 S3 与[弹性数据库池](/documentation/articles/sql-database-elastic-pool)公共预览版。这是专门为云 SaaS 供应商设计的解决方案。使用弹性数据库池，你可以：\n\n\n- 在数据库之间共享 DTU，以降低部署大量数据库所带来的成本。\n- 执行[弹性数据库作业](/documentation/articles/sql-database-elastic-jobs-overview)大规模管理数据库。\n\n\n## 安全增强\n\n\n对于在云中运营业务的任何人来说，安全性是一个主要考虑因素。V12 中发布的最新安全功能包括：\n\n\n- [行级安全性](http://msdn.microsoft.com/zh-cn/library/dn765131.aspx) (RLS)\n- [动态数据屏蔽](/documentation/articles/sql-database-dynamic-data-masking-get-started)\n- [包含的数据库](http://msdn.microsoft.com/zh-cn/library/ff929188.aspx)\n- 使用 GRANT、DENY、REVOKE 管理的[应用程序角色](http://msdn.microsoft.com/zh-cn/library/ms190998.aspx)\n- [透明数据加密](http://msdn.microsoft.com/zh-cn/library/0bf7e8ff-1416-4923-9c4c-49341e208c62.aspx) (TDE)\n- [通过使用 Azure Active Directory 身份验证连接到 SQL 数据库](/documentation/articles/sql-database-aad-authentication)\n - SQL 数据库现在支持 Azure Active Directory 身份验证，该身份验证是使用 Azure Active Directory (Azure AD) 中的标识连接到 SQL 数据库的一种机制。通过 Azure Active Directory 身份验证，可以在一个中心位置中集中管理数据库用户和其他 Microsoft 服务的标识。\n- [始终加密](https://msdn.microsoft.com/zh-cn/library/mt163865.aspx)（预览版）使得加密对于应用程序来说是透明的，从而让客户端能够加密客户端应用程序中的敏感数据，不必与 SQL 数据库共享加密密钥。\n\n\n## 在需要恢复时提高业务连续性\n\n\nV12 提供大幅提高的恢复点目标 (RPO) 与预计恢复时间 (ERT)：\n\n\n| 业务连续性功能 | 早期版本 | V12 |\n| :-- | :-- | :-- |\n| 异地还原 | • RPO < 24 小时。<br/>• ERT < 12 小时。 | • RPO < 1 小时。<br/>• ERT < 12 小时。 |\n| 标准异地复制 | • RPO < 30 分钟。<br/>• ERT < 2 小时。 | • RPO < 5 秒。<br/>• ERT < 30 秒。 |\n| 活动异地复制 | • RPO < 5 分钟。<br/>• ERT < 1 小时。 | • RPO < 5 秒。<br/>• ERT < 30 秒。 |\n\n\n有关详细信息，请参阅 [SQL 数据库业务连续](/documentation/articles/sql-database-business-continuity)。\n\n\n## 立即升级的更多原因\n\n\n我们可以给出很多有说服力的理由来劝告客户立即从 V11 升级到 Azure SQL 数据库 V12：\n\n\n- 与 V11 相比，SQL 数据库 V12 中增加了许多新的功能。\n- 我们将持续在 V12 中新增功能，但是 V11 不会再新增功能。\n- 大多数新功能都会先在 SQL 数据库 V12 中发布，然后再发布到 Microsoft SQL Server。\n\n\n## 已开始使用 V12 了吗？\n\n\n执行以下操作可以轻松判断你是否在早期版本的 SQL 数据库服务上运行数据库或逻辑服务器：\n\n\n1. 转到 [Azure 门户](http://manage.windowsazure.cn)。\n2. 单击“浏览”。\n3. 单击“SQL Server”。\n4. 服务器或数据库旁边的图标会告知实情：\n - ![V12 服务器的图标](./media/sql-database-v12-whats-new/v12_icon.png) **V12 逻辑服务器**\n - ![早期版本服务器的图标](./media/sql-database-v12-whats-new/earlier_icon.png) **早期版本的逻辑服务器**\n\n\n确定版本的另一种方法是在数据库中运行 `SELECT @@version;` 语句，然后查看类似于下面的结果：\n\n\n- **12**.0.2000.10 &nbsp; *(version V12)*\n- **11**.0.9228.18 &nbsp; *(version V11)*\n\n\nV12 数据库只能托管在 V12 逻辑服务器上。V12 服务器只能托管 V12 数据库。\n\n\n如果你尚未在 V12 上运行，可以根据[就地升级到 SQL 数据库 V12](/documentation/articles/sql-database-v12-upgrade) 中的步骤升级你的逻辑服务器。\n\n\n## <a name=\"V12AzureSqlDbPreviewGaTable\"></a> 正式版上市区域\n\n\n- 2015 年 7 月 31，所有区域都已发布正式版 (GA)。\n- V12 已于 2014 年 12 月发布，但仅以预览版提供。\n\n<!---HONumber=Mooncake_0118_2016-->\n"
}