{
  "nodes": [
    {
      "content": "How to use the Azure Command-Line Tools for Mac and Linux",
      "pos": [
        1,
        58
      ]
    },
    {
      "content": "This guide describes how to use the Azure Command-Line Tools for Mac and Linux to create and manage services in Azure.",
      "pos": [
        60,
        178
      ]
    },
    {
      "content": "The scenarios covered include <bpt id=\"p1\">**</bpt>installing the tools<ept id=\"p1\">**</ept>, <bpt id=\"p2\">**</bpt>importing your publishing settings<ept id=\"p2\">**</ept>, <bpt id=\"p3\">**</bpt>creating and managing Azure Web Sites<ept id=\"p3\">**</ept>, and <bpt id=\"p4\">**</bpt>creating and managing Azure Virtual Machines<ept id=\"p4\">**</ept>.",
      "pos": [
        179,
        371
      ]
    },
    {
      "content": "For comprehensive reference documentation, see <bpt id=\"p1\">[</bpt>Azure command-line tool for Mac and Linux Documentation<ept id=\"p1\">][reference-docs]</ept>.",
      "pos": [
        372,
        493
      ]
    },
    {
      "content": "Table of contents",
      "pos": [
        498,
        515
      ]
    },
    {
      "content": "What are the Azure Command-Line Tools for Mac and Linux",
      "pos": [
        519,
        574
      ]
    },
    {
      "content": "How to install the Azure Command-Line Tools for Mac and Linux",
      "pos": [
        590,
        651
      ]
    },
    {
      "content": "How to create an Azure account",
      "pos": [
        667,
        697
      ]
    },
    {
      "content": "How to download and import publish settings",
      "pos": [
        718,
        761
      ]
    },
    {
      "content": "How to create and manage an Azure Web Site",
      "pos": [
        776,
        818
      ]
    },
    {
      "content": "How to create and manage an Azure Virtual Machine",
      "pos": [
        834,
        883
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"Overview\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>What are the Azure Command-Line Tools for Mac and Linux",
      "pos": [
        897,
        973
      ]
    },
    {
      "content": "The Azure Command-Line Tools for Mac and Linux are a set of command-line tools for deploying and managing Azure services.",
      "pos": [
        980,
        1101
      ]
    },
    {
      "content": "The supported tasks include the following:",
      "pos": [
        1104,
        1146
      ]
    },
    {
      "content": "Import publishing settings.",
      "pos": [
        1150,
        1177
      ]
    },
    {
      "content": "Create and manage Azure Web Sites.",
      "pos": [
        1180,
        1214
      ]
    },
    {
      "content": "Create and manage Azure Virtual Machines.",
      "pos": [
        1217,
        1258
      ]
    },
    {
      "pos": [
        1260,
        1423
      ],
      "content": "For a complete list of supported commands, type <ph id=\"ph1\">`azure -help`</ph> at the command line after installing the tools, or see the <bpt id=\"p1\">[</bpt>reference documentation<ept id=\"p1\">][reference-docs]</ept>."
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"Download\"&gt;</ph>How to install the Azure Command-Line Tools for Mac and Linux<ph id=\"ph2\">&lt;/a&gt;</ph>",
      "pos": [
        1429,
        1511
      ]
    },
    {
      "content": "The following list contains information for installing the command-line tools, depending on your operating system:",
      "pos": [
        1518,
        1632
      ]
    },
    {
      "content": "<bpt id=\"p1\">**</bpt>Mac<ept id=\"p1\">**</ept>: Download the <bpt id=\"p2\">[</bpt>Azure SDK Installer<ept id=\"p2\">][mac-installer]</ept>.",
      "pos": [
        1636,
        1695
      ]
    },
    {
      "content": "Open the downloaded .pkg file and complete the installation steps as you are prompted.",
      "pos": [
        1696,
        1782
      ]
    },
    {
      "pos": [
        1786,
        1945
      ],
      "content": "<bpt id=\"p1\">**</bpt>Linux<ept id=\"p1\">**</ept>: Install the latest version of <bpt id=\"p2\">[</bpt>Node.js<ept id=\"p2\">][nodejs-org]</ept> (see <bpt id=\"p3\">[</bpt>Install Node.js via Package Manager<ept id=\"p3\">][install-node-linux]</ept>), then run the following command:"
    },
    {
      "pos": [
        1985,
        2053
      ],
      "content": "<bpt id=\"p1\">**</bpt>Note<ept id=\"p1\">**</ept>: You may need to run this command with elevated privileges:"
    },
    {
      "pos": [
        2096,
        2218
      ],
      "content": "<bpt id=\"p1\">**</bpt>Windows<ept id=\"p1\">**</ept>: Run the Winows installer (.msi file), which is available here: <bpt id=\"p2\">[</bpt>Azure Command Line Tools<ept id=\"p2\">][windows-installer]</ept>."
    },
    {
      "content": "To test the installation, type <ph id=\"ph1\">`azure`</ph> at the command prompt.",
      "pos": [
        2221,
        2282
      ]
    },
    {
      "content": "If the installation was successful, you will see a list of all the available <ph id=\"ph1\">`azure`</ph> commands.",
      "pos": [
        2283,
        2377
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"CreateAccount\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>How to create an Azure account",
      "pos": [
        2383,
        2439
      ]
    },
    {
      "content": "To use the Azure Command-Line Tools for Mac and Linux, you will need an Azure account.",
      "pos": [
        2446,
        2532
      ]
    },
    {
      "pos": [
        2534,
        2666
      ],
      "content": "Open a web browser and browse to <bpt id=\"p1\">[</bpt>http://www.windowsazure.cn<ept id=\"p1\">][windowsazuredotcn]</ept> and click <bpt id=\"p2\">**</bpt>free trial<ept id=\"p2\">**</ept> in the upper right corner."
    },
    {
      "content": "Azure Web Site",
      "pos": [
        2670,
        2684
      ]
    },
    {
      "content": "Follow the instructions for creating an account.",
      "pos": [
        2703,
        2751
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"Account\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>How to download and import publish settings",
      "pos": [
        2757,
        2820
      ]
    },
    {
      "content": "To get started, you need to first download and import your publish settings.",
      "pos": [
        2827,
        2903
      ]
    },
    {
      "content": "This will allow you to use the tools to create and manage Azure Services.",
      "pos": [
        2904,
        2977
      ]
    },
    {
      "content": "To download your publish settings, use the <ph id=\"ph1\">`account download`</ph> command:",
      "pos": [
        2978,
        3048
      ]
    },
    {
      "content": "This will open your default browser and prompt you to sign in to the Management Portal.",
      "pos": [
        3078,
        3165
      ]
    },
    {
      "content": "After signing in, your <ph id=\"ph1\">`.publishsettings`</ph> file will be downloaded.",
      "pos": [
        3166,
        3232
      ]
    },
    {
      "content": "Make note of where this file is saved.",
      "pos": [
        3233,
        3271
      ]
    },
    {
      "pos": [
        3273,
        3438
      ],
      "content": "Next, import the <ph id=\"ph1\">`.publishsettings`</ph> file by running the following command, replacing <ph id=\"ph2\">`{path to .publishsettings file}`</ph> with the path to your <ph id=\"ph3\">`.publishsettings`</ph> file:"
    },
    {
      "pos": [
        3498,
        3626
      ],
      "content": "You can remove all of the information stored by the <ph id=\"ph1\">&lt;code&gt;</ph><ph id=\"ph2\">import</ph><ph id=\"ph3\">&lt;/code&gt;</ph> command by using the <ph id=\"ph4\">&lt;code&gt;</ph><ph id=\"ph5\">account clear</ph><ph id=\"ph6\">&lt;/code&gt;</ph> command:"
    },
    {
      "pos": [
        3653,
        3725
      ],
      "content": "To see a list of options for <ph id=\"ph1\">`account`</ph> commands, use the <ph id=\"ph2\">`-help`</ph> option:"
    },
    {
      "pos": [
        3752,
        3858
      ],
      "content": "After importing your publish settings, you should delete the <ph id=\"ph1\">`.publishsettings`</ph> file for security reasons."
    },
    {
      "content": "<ph id=\"ph1\"> \n&lt;b&gt;</ph>Note<ph id=\"ph2\">&lt;/b&gt;</ph><ph id=\"ph3\"> \n</ph>",
      "pos": [
        3885,
        3900
      ]
    },
    {
      "content": "When you import publish settings, credentials for accessing your Azure subscription are stored inside your",
      "pos": [
        3903,
        4009
      ]
    },
    {
      "content": "folder.",
      "pos": [
        4028,
        4035
      ]
    },
    {
      "content": "Your",
      "pos": [
        4036,
        4040
      ]
    },
    {
      "content": "folder is protected by your operating system.",
      "pos": [
        4059,
        4104
      ]
    },
    {
      "content": "However, it is recommended that you take additional steps to encrypt your",
      "pos": [
        4105,
        4178
      ]
    },
    {
      "content": "folder.",
      "pos": [
        4197,
        4204
      ]
    },
    {
      "content": "You can do so in the following ways:",
      "pos": [
        4205,
        4241
      ]
    },
    {
      "content": "On Windows, modify the folder properties or use BitLocker.",
      "pos": [
        4256,
        4314
      ]
    },
    {
      "content": "On Mac, turn on FileVault for the folder.",
      "pos": [
        4324,
        4365
      ]
    },
    {
      "content": "On Ubuntu, use the Encrypted Home directory feature.",
      "pos": [
        4375,
        4427
      ]
    },
    {
      "content": "Other Linux distributions offer equivalent features.",
      "pos": [
        4428,
        4480
      ]
    },
    {
      "content": "You are now ready to being creating and managing Azure Web Sites and Azure Virtual Machines.",
      "pos": [
        4501,
        4593
      ]
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"WebSites\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>How to create and manage an Azure Web Site",
      "pos": [
        4601,
        4664
      ]
    },
    {
      "content": "Create a Web Site",
      "pos": [
        4674,
        4691
      ]
    },
    {
      "pos": [
        4693,
        4801
      ],
      "content": "To create an Azure web site, first create an empty directory called <ph id=\"ph1\">`MySite`</ph> and browse into that directory."
    },
    {
      "content": "Then, run the following command:",
      "pos": [
        4803,
        4835
      ]
    },
    {
      "content": "The output from this command will contain the default URL for the newly created web site.",
      "pos": [
        4873,
        4962
      ]
    },
    {
      "content": "The <ph id=\"ph1\">`--git`</ph> option allows you to use git to publish to your web site by creating git repositories in both your local application directory and in your web site's data center.",
      "pos": [
        4963,
        5137
      ]
    },
    {
      "content": "Note that if your local folder is already a git repository, the command will add a new remote to the existing repository, pointing to the repository in your web site's data center.",
      "pos": [
        5138,
        5318
      ]
    },
    {
      "pos": [
        5320,
        5412
      ],
      "content": "Note that you can execute the <ph id=\"ph1\">`azure site create`</ph> command with any of the following options:"
    },
    {
      "content": "<ph id=\"ph1\">`--location [location name]`</ph>.",
      "pos": [
        5416,
        5445
      ]
    },
    {
      "content": "This option allows you to specify the location of the data center in which your web site is created (e.g. \"China East\").",
      "pos": [
        5446,
        5566
      ]
    },
    {
      "content": "If you omit this option, you will be promted to choose a location.",
      "pos": [
        5567,
        5633
      ]
    },
    {
      "content": "<ph id=\"ph1\">`--hostname [custom host name]`</ph>.",
      "pos": [
        5636,
        5668
      ]
    },
    {
      "content": "This option allows you to specify a custom hostname for your web site.",
      "pos": [
        5669,
        5739
      ]
    },
    {
      "content": "You can then add content to your web site directory.",
      "pos": [
        5741,
        5793
      ]
    },
    {
      "content": "Use the regular git flow (<ph id=\"ph1\">`git add`</ph>, <ph id=\"ph2\">`git commit`</ph>) to commit your content.",
      "pos": [
        5794,
        5868
      ]
    },
    {
      "content": "Use the following git command to push your web site content to Azure:",
      "pos": [
        5869,
        5938
      ]
    },
    {
      "content": "Set up publishing from GitHub",
      "pos": [
        5971,
        6000
      ]
    },
    {
      "pos": [
        6002,
        6107
      ],
      "content": "To set up continuous publishing from a GitHub repository, use the <ph id=\"ph1\">`--GitHub`</ph> option when creating a site:"
    },
    {
      "content": "If you have a local clone of a GitHub repository or if you have a repository with a single remote reference to a GitHub repository, this command will automatically publish code in the GitHub repository to your site.",
      "pos": [
        6239,
        6454
      ]
    },
    {
      "content": "From then on, any changes pushed to the GitHub repository will automatically be published to your site.",
      "pos": [
        6455,
        6558
      ]
    },
    {
      "content": "When you set up publishing from GitHub, the default branch used is the master branch.",
      "pos": [
        6560,
        6645
      ]
    },
    {
      "content": "To specify a different branch, execute the following command from your local repository:",
      "pos": [
        6646,
        6734
      ]
    },
    {
      "content": "Configure app settings",
      "pos": [
        6780,
        6802
      ]
    },
    {
      "content": "App settings are key-value pairs that are available to your application at runtime.",
      "pos": [
        6804,
        6887
      ]
    },
    {
      "content": "When set for an Azure Web Site, app setting values will override settings with the same key that are defined in your site's Web.config file.",
      "pos": [
        6888,
        7028
      ]
    },
    {
      "content": "For Node.js and PHP applications, app settings are available as environment variables.",
      "pos": [
        7029,
        7115
      ]
    },
    {
      "content": "The following example shows you how to set a key-value pair:",
      "pos": [
        7116,
        7176
      ]
    },
    {
      "content": "To see a list of all key/value pairs, use the following:",
      "pos": [
        7220,
        7276
      ]
    },
    {
      "content": "Or if you know the key and want to see the value, you can use:",
      "pos": [
        7307,
        7369
      ]
    },
    {
      "content": "If you want to change the value of an existing key you must first clear the existing key and then re-add it.",
      "pos": [
        7405,
        7513
      ]
    },
    {
      "content": "The clear command is:",
      "pos": [
        7514,
        7535
      ]
    },
    {
      "content": "List and show sites",
      "pos": [
        7576,
        7595
      ]
    },
    {
      "content": "To list your web sites, use the following command:",
      "pos": [
        7597,
        7647
      ]
    },
    {
      "content": "To get detailed information about a site, use the <ph id=\"ph1\">`site show`</ph> command.",
      "pos": [
        7670,
        7740
      ]
    },
    {
      "content": "The following example shows details for <ph id=\"ph1\">`MySite`</ph>:",
      "pos": [
        7741,
        7790
      ]
    },
    {
      "content": "Stop, start, or restart a site",
      "pos": [
        7823,
        7853
      ]
    },
    {
      "pos": [
        7855,
        7957
      ],
      "content": "You can stop, start, or restart a site with the <ph id=\"ph1\">`site stop`</ph>, <ph id=\"ph2\">`site start`</ph>, or <ph id=\"ph3\">`site restart`</ph> commands:"
    },
    {
      "content": "Delete a site",
      "pos": [
        8048,
        8061
      ]
    },
    {
      "pos": [
        8063,
        8125
      ],
      "content": "Finally, you can delete a site with the <ph id=\"ph1\">`site delete`</ph> command:"
    },
    {
      "pos": [
        8157,
        8332
      ],
      "content": "Note that if you are running any of above commands from inside the folder where you ran <ph id=\"ph1\">`site create`</ph>, you do not need to specify the site name <ph id=\"ph2\">`MySite`</ph> as the last parameter."
    },
    {
      "pos": [
        8334,
        8400
      ],
      "content": "To see a complete list of <ph id=\"ph1\">`site`</ph> commands, use the <ph id=\"ph2\">`-help`</ph> option:"
    },
    {
      "content": "<ph id=\"ph1\">&lt;a id=\"VMs\"&gt;</ph><ph id=\"ph2\">&lt;/a&gt;</ph>How to create and manage an Azure Virtual Machine",
      "pos": [
        8429,
        8494
      ]
    },
    {
      "content": "an Azure Virtual Machine is created from a virtual machine image (a .vhd file) that you provide or that is available in the Image Gallery.",
      "pos": [
        8501,
        8639
      ]
    },
    {
      "content": "To see images that are available, use the <ph id=\"ph1\">`vm image list`</ph> command:",
      "pos": [
        8640,
        8706
      ]
    },
    {
      "content": "You can provision and start a virtual machine from one of the available images with the <ph id=\"ph1\">`vm create`</ph> command.",
      "pos": [
        8733,
        8841
      ]
    },
    {
      "content": "The following example shows how to create a Linux virtual machine (called <ph id=\"ph1\">`myVM`</ph>) from an image in the Image Gallery (CentOS 6.2).",
      "pos": [
        8842,
        8972
      ]
    },
    {
      "content": "The root user name and password for the virtual machine are <ph id=\"ph1\">`myusername`</ph> and <ph id=\"ph2\">`Mypassw0rd`</ph> respectively.",
      "pos": [
        8973,
        9076
      ]
    },
    {
      "content": "(Note that the <ph id=\"ph1\">`--location`</ph> parameter specifies the data center in which the virtual machine is created.",
      "pos": [
        9077,
        9181
      ]
    },
    {
      "content": "If you omit the <ph id=\"ph1\">`--location`</ph> parameter, you will be prompted to choose a location.)",
      "pos": [
        9182,
        9265
      ]
    },
    {
      "pos": [
        9383,
        9540
      ],
      "content": "You may consider passing the <ph id=\"ph1\">`--ssh`</ph> flag (Linux) or <ph id=\"ph2\">`--rdp`</ph> flag (Windows) to <ph id=\"ph3\">`vm create`</ph> to enable remote connections to the newly-created virtual machine."
    },
    {
      "content": "If you would rather provision a virtual machine from a custom image, you can create an image from a .vhd file with the <ph id=\"ph1\">`vm image create`</ph> command, then use the <ph id=\"ph2\">`vm create`</ph> command to provision the virtual machine.",
      "pos": [
        9542,
        9754
      ]
    },
    {
      "content": "The following example shows how to create a Linux image (called <ph id=\"ph1\">`myImage`</ph>) from a local .vhd file.",
      "pos": [
        9755,
        9853
      ]
    },
    {
      "content": "(The <ph id=\"ph1\">`--location`</ph> parameter specifies the data in which the image is stored.)",
      "pos": [
        9854,
        9931
      ]
    },
    {
      "content": "Instead of creating an image from a local .vhd, you can create an image from a .vhd stored in Azure Blob Storage.",
      "pos": [
        10024,
        10137
      ]
    },
    {
      "content": "You can do this with the <ph id=\"ph1\">`blob-url`</ph> parameter:",
      "pos": [
        10138,
        10184
      ]
    },
    {
      "content": "After creating an image, you can provision a virtual machine from the image by using <ph id=\"ph1\">`vm create`</ph>.",
      "pos": [
        10273,
        10370
      ]
    },
    {
      "content": "The command below creates a virtual machine called <ph id=\"ph1\">`myVM`</ph> from the image created above (<ph id=\"ph2\">`myImage`</ph>).",
      "pos": [
        10371,
        10470
      ]
    },
    {
      "content": "After you have provisioned a virtual machine, you may want to create endpoints to allow remote access to your virtual machine (for example).",
      "pos": [
        10541,
        10681
      ]
    },
    {
      "content": "The following example uses the <ph id=\"ph1\">`vm create endpoint`</ph> command to open external port 22 and local port 22 on <ph id=\"ph2\">`myVM`</ph>:",
      "pos": [
        10682,
        10795
      ]
    },
    {
      "pos": [
        10838,
        10981
      ],
      "content": "You can get detailed information about a virtual machine (including IP address, DNS name, and endpoint information) with the <ph id=\"ph1\">`vm show`</ph> command:"
    },
    {
      "content": "To shutdown, start, or restart the virtual machine, use one of the following commands:",
      "pos": [
        11007,
        11093
      ]
    },
    {
      "pos": [
        11173,
        11232
      ],
      "content": "And finally, to delete the VM, use the <ph id=\"ph1\">`vm delete`</ph> command:"
    },
    {
      "pos": [
        11260,
        11356
      ],
      "content": "For a complete list of commands for creating and managing virtual machines, use the <ph id=\"ph1\">`-h`</ph> option:"
    }
  ],
  "content": "#How to use the Azure Command-Line Tools for Mac and Linux\n\nThis guide describes how to use the Azure Command-Line Tools for Mac and Linux to create and manage services in Azure. The scenarios covered include **installing the tools**, **importing your publishing settings**, **creating and managing Azure Web Sites**, and **creating and managing Azure Virtual Machines**. For comprehensive reference documentation, see [Azure command-line tool for Mac and Linux Documentation][reference-docs]. \n\n##Table of contents\n* [What are the Azure Command-Line Tools for Mac and Linux](#Overview)\n* [How to install the Azure Command-Line Tools for Mac and Linux](#Download)\n* [How to create an Azure account](#CreateAccount)\n* [How to download and import publish settings](#Account)\n* [How to create and manage an Azure Web Site](#WebSites)\n* [How to create and manage an Azure Virtual Machine](#VMs)\n\n\n<h2><a id=\"Overview\"></a>What are the Azure Command-Line Tools for Mac and Linux</h2>\n\nThe Azure Command-Line Tools for Mac and Linux are a set of command-line tools for deploying and managing Azure services.\n \nThe supported tasks include the following:\n\n* Import publishing settings.\n* Create and manage Azure Web Sites.\n* Create and manage Azure Virtual Machines.\n\nFor a complete list of supported commands, type `azure -help` at the command line after installing the tools, or see the [reference documentation][reference-docs].\n\n<h2><a id=\"Download\">How to install the Azure Command-Line Tools for Mac and Linux</a></h2>\n\nThe following list contains information for installing the command-line tools, depending on your operating system:\n\n* **Mac**: Download the [Azure SDK Installer][mac-installer]. Open the downloaded .pkg file and complete the installation steps as you are prompted.\n\n* **Linux**: Install the latest version of [Node.js][nodejs-org] (see [Install Node.js via Package Manager][install-node-linux]), then run the following command:\n\n        npm install azure-cli -g\n\n    **Note**: You may need to run this command with elevated privileges:\n\n        sudo npm install azure-cli -g\n\n* **Windows**: Run the Winows installer (.msi file), which is available here: [Azure Command Line Tools][windows-installer].\n\n\nTo test the installation, type `azure` at the command prompt. If the installation was successful, you will see a list of all the available `azure` commands.\n\n<h2><a id=\"CreateAccount\"></a>How to create an Azure account</h2>\n\nTo use the Azure Command-Line Tools for Mac and Linux, you will need an Azure account.\n\nOpen a web browser and browse to [http://www.windowsazure.cn][windowsazuredotcn] and click **free trial** in the upper right corner.\n\n![Azure Web Site][Azure Web Site]\n\nFollow the instructions for creating an account.\n\n<h2><a id=\"Account\"></a>How to download and import publish settings</h2>\n\nTo get started, you need to first download and import your publish settings. This will allow you to use the tools to create and manage Azure Services. To download your publish settings, use the `account download` command:\n\n    azure account download\n\nThis will open your default browser and prompt you to sign in to the Management Portal. After signing in, your `.publishsettings` file will be downloaded. Make note of where this file is saved.\n\nNext, import the `.publishsettings` file by running the following command, replacing `{path to .publishsettings file}` with the path to your `.publishsettings` file:\n\n    azure account import {path to .publishsettings file}\n\nYou can remove all of the information stored by the <code>import</code> command by using the <code>account clear</code> command:\n\n    azure account clear\n\nTo see a list of options for `account` commands, use the `-help` option:\n\n    azure account -help\n\nAfter importing your publish settings, you should delete the `.publishsettings` file for security reasons.\n\n<div class=\"dev-callout\"> \n<b>Note</b> \n<p>When you import publish settings, credentials for accessing your Azure subscription are stored inside your <code>user</code> folder. Your <code>user</code> folder is protected by your operating system. However, it is recommended that you take additional steps to encrypt your <code>user</code> folder. You can do so in the following ways:</p>\n\n<ul>\n<li>On Windows, modify the folder properties or use BitLocker.</li>\n<li>On Mac, turn on FileVault for the folder.</li>\n<li>On Ubuntu, use the Encrypted Home directory feature. Other Linux distributions offer equivalent features.</li>\n</ul>\n\n</div>\n\nYou are now ready to being creating and managing Azure Web Sites and Azure Virtual Machines.  \n\n<h2><a id=\"WebSites\"></a>How to create and manage an Azure Web Site</h2>\n\n###Create a Web Site\n\nTo create an Azure web site, first create an empty directory called `MySite` and browse into that directory.\n\nThen, run the following command:\n\n    azure site create MySite --git\n\nThe output from this command will contain the default URL for the newly created web site. The `--git` option allows you to use git to publish to your web site by creating git repositories in both your local application directory and in your web site's data center. Note that if your local folder is already a git repository, the command will add a new remote to the existing repository, pointing to the repository in your web site's data center.\n\nNote that you can execute the `azure site create` command with any of the following options:\n\n* `--location [location name]`. This option allows you to specify the location of the data center in which your web site is created (e.g. \"China East\"). If you omit this option, you will be promted to choose a location.\n* `--hostname [custom host name]`. This option allows you to specify a custom hostname for your web site.\n\nYou can then add content to your web site directory. Use the regular git flow (`git add`, `git commit`) to commit your content. Use the following git command to push your web site content to Azure: \n\n    git push azure master\n\n###Set up publishing from GitHub\n\nTo set up continuous publishing from a GitHub repository, use the `--GitHub` option when creating a site:\n\n    auzre site create MySite --github --githubusername username --githubpassword password --githubrepository githubuser/reponame\n\nIf you have a local clone of a GitHub repository or if you have a repository with a single remote reference to a GitHub repository, this command will automatically publish code in the GitHub repository to your site. From then on, any changes pushed to the GitHub repository will automatically be published to your site.\n\nWhen you set up publishing from GitHub, the default branch used is the master branch. To specify a different branch, execute the following command from your local repository:\n\n    azure site repository <branch name>\n\n###Configure app settings\n\nApp settings are key-value pairs that are available to your application at runtime. When set for an Azure Web Site, app setting values will override settings with the same key that are defined in your site's Web.config file. For Node.js and PHP applications, app settings are available as environment variables. The following example shows you how to set a key-value pair:\n\n    azure site config add <key>=<value> \n\nTo see a list of all key/value pairs, use the following:\n\n    azure site config list \n\nOr if you know the key and want to see the value, you can use:\n\n    azure site config get <key> \n\nIf you want to change the value of an existing key you must first clear the existing key and then re-add it. The clear command is:\n\n    azure site config clear <key> \n\n###List and show sites\n\nTo list your web sites, use the following command:\n\n    azure site list\n\nTo get detailed information about a site, use the `site show` command. The following example shows details for `MySite`:\n\n    azure site show MySite\n\n###Stop, start, or restart a site\n\nYou can stop, start, or restart a site with the `site stop`, `site start`, or `site restart` commands:\n\n    azure site stop MySite\n    azure site start MySite\n    azure site restart MySite\n\n###Delete a site\n\nFinally, you can delete a site with the `site delete` command:\n\n    azure site delete MySite\n\nNote that if you are running any of above commands from inside the folder where you ran `site create`, you do not need to specify the site name `MySite` as the last parameter.\n\nTo see a complete list of `site` commands, use the `-help` option:\n\n    azure site -help \n\n<h2><a id=\"VMs\"></a>How to create and manage an Azure Virtual Machine</h2>\n\nan Azure Virtual Machine is created from a virtual machine image (a .vhd file) that you provide or that is available in the Image Gallery. To see images that are available, use the `vm image list` command:\n\n    azure vm image list\n\nYou can provision and start a virtual machine from one of the available images with the `vm create` command. The following example shows how to create a Linux virtual machine (called `myVM`) from an image in the Image Gallery (CentOS 6.2). The root user name and password for the virtual machine are `myusername` and `Mypassw0rd` respectively. (Note that the `--location` parameter specifies the data center in which the virtual machine is created. If you omit the `--location` parameter, you will be prompted to choose a location.)\n\n    azure vm create myVM OpenLogic__OpenLogic-CentOS-62-20120509-zh-cn-30GB.vhd myusername --location \"China East\"\n\nYou may consider passing the `--ssh` flag (Linux) or `--rdp` flag (Windows) to `vm create` to enable remote connections to the newly-created virtual machine.\n\nIf you would rather provision a virtual machine from a custom image, you can create an image from a .vhd file with the `vm image create` command, then use the `vm create` command to provision the virtual machine. The following example shows how to create a Linux image (called `myImage`) from a local .vhd file. (The `--location` parameter specifies the data in which the image is stored.)\n\n    azure vm image create myImage /path/to/myImage.vhd --os linux --location \"China East\"\n\nInstead of creating an image from a local .vhd, you can create an image from a .vhd stored in Azure Blob Storage. You can do this with the `blob-url` parameter:\n\n    azure vm image create myImage --blob-url <url to .vhd in Blob Storage> --os linux\n\nAfter creating an image, you can provision a virtual machine from the image by using `vm create`. The command below creates a virtual machine called `myVM` from the image created above (`myImage`).\n\n    azure vm create myVM myImage myusername --location \"China East\"\n\nAfter you have provisioned a virtual machine, you may want to create endpoints to allow remote access to your virtual machine (for example). The following example uses the `vm create endpoint` command to open external port 22 and local port 22 on `myVM`:\n\n    azure vm endpoint create myVM 22 22\n\nYou can get detailed information about a virtual machine (including IP address, DNS name, and endpoint information) with the `vm show` command:\n\n    azure vm show myVM\n\nTo shutdown, start, or restart the virtual machine, use one of the following commands:\n\n    azure vm shutdown myVM\n    azure vm start myVM\n    azure vm restart myVM\n\nAnd finally, to delete the VM, use the `vm delete` command:\n\n    azure vm delete myVM\n\nFor a complete list of commands for creating and managing virtual machines, use the `-h` option:\n\n    azure vm -h\n\n<!-- IMAGES -->\n[Azure Web Site]: ./media/crossplat-cmd-tools/freetrial.png\n\n<!-- LINKS -->\n[nodejs-org]: http://nodejs.org/\n[install-node-linux]: https://github.com/joyent/node/wiki/Installing-Node.js-via-package-manager\n[mac-installer]: http://go.microsoft.com/fwlink/?LinkId=252249\n[windows-installer]: http://go.microsoft.com/fwlink/?LinkID=275464\n[reference-docs]: http://go.microsoft.com/fwlink/?LinkId=252246\n[windowsazuredotcn]: http://www.windowsazure.cn\n\n"
}