{
  "nodes": [
    {
      "content": "VM 任务的等效 Azure CLI 命令 | Azure",
      "pos": [
        27,
        56
      ]
    },
    {
      "content": "用于在 Azure 资源管理器和 Azure 服务管理模式下创建和管理 Azure VM 的等效 Azure CLI 命令",
      "pos": [
        75,
        136
      ]
    },
    {
      "content": "适合使用 Azure 命令行界面执行 VM 任务的等效资源管理器和服务管理命令",
      "pos": [
        412,
        451
      ]
    },
    {
      "content": "本文介绍用于在 Azure 服务管理和 Azure 资源管理器中创建和管理 Azure VM 的等效 Azure 命令行界面 (Azure CLI) 命令。在将脚本从一个命令模式迁移到其他命令模式时，请使用本文作为简易指南。",
      "pos": [
        452,
        564
      ]
    },
    {
      "pos": [
        566,
        649
      ],
      "content": "[AZURE.INCLUDE <bpt id=\"p1\">[</bpt>了解部署模型<ept id=\"p1\">](../includes/learn-about-deployment-models-both-include.md)</ept>]"
    },
    {
      "pos": [
        655,
        841
      ],
      "content": "如果你尚未安装 Azure CLI 并连接到订阅，请参阅<bpt id=\"p1\">[</bpt>安装 Azure CLI<ept id=\"p1\">](/documentation/articles/xplat-cli-install)</ept> 和<bpt id=\"p2\">[</bpt>从 Azure CLI 连接到 Azure 订阅<ept id=\"p2\">](/documentation/articles/xplat-cli-connect)</ept>。如果你想要使用资源管理器模式命令，请务必使用登录方法连接。"
    },
    {
      "pos": [
        845,
        984
      ],
      "content": "若要开始在 Azure CLI 中使用资源管理器模式，可能需要切换命令模式。默认情况下，CLI 在服务管理模式下启动。若要更改为资源管理器模式，请运行 <ph id=\"ph1\">`azure config mode arm`</ph>。若要回到服务管理模式，请运行 <ph id=\"ph2\">`azure config mode asm`</ph>。"
    },
    {
      "pos": [
        988,
        1080
      ],
      "content": "如需联机命令帮助和选项，请键入 <ph id=\"ph1\">`azure &lt;command&gt; &lt;subcommand&gt; --help`</ph> 或 <ph id=\"ph2\">`azure help &lt;command&gt; &lt;subcommand&gt;`</ph>。"
    },
    {
      "content": "VM 任务",
      "pos": [
        1085,
        1090
      ]
    },
    {
      "content": "下表比较了你可以在服务管理和资源管理器中使用 Azure CLI 命令执行的常见 VM 任务。使用许多资源管理器命令时，你需要传递现有资源组的名称。",
      "pos": [
        1091,
        1165
      ]
    },
    {
      "content": "任务",
      "pos": [
        1167,
        1169
      ]
    },
    {
      "content": "服务管理",
      "pos": [
        1172,
        1176
      ]
    },
    {
      "content": "资源管理器",
      "pos": [
        1179,
        1184
      ]
    },
    {
      "content": "创建最基本的 VM",
      "pos": [
        1242,
        1251
      ]
    },
    {
      "content": "（从 <ph id=\"ph1\">`azure vm image list`</ph> 命令获取 <ph id=\"ph2\">`image-urn`</ph>。有关示例，请参阅<bpt id=\"p1\">[</bpt>本文<ept id=\"p1\">](/documentation/articles/resource-groups-vm-searching)</ept>。）",
      "pos": [
        1459,
        1569
      ]
    },
    {
      "content": "创建 Linux VM",
      "pos": [
        1570,
        1581
      ]
    },
    {
      "content": "创建 Windows VM",
      "pos": [
        1730,
        1743
      ]
    },
    {
      "content": "列出 VM",
      "pos": [
        1894,
        1899
      ]
    },
    {
      "content": "获取有关 VM 的信息",
      "pos": [
        1958,
        1969
      ]
    },
    {
      "content": "启动 VM",
      "pos": [
        2062,
        2067
      ]
    },
    {
      "content": "停止 VM",
      "pos": [
        2157,
        2162
      ]
    },
    {
      "content": "释放 VM",
      "pos": [
        2254,
        2259
      ]
    },
    {
      "content": "不可用",
      "pos": [
        2262,
        2265
      ]
    },
    {
      "content": "重新启动 VM",
      "pos": [
        2324,
        2331
      ]
    },
    {
      "content": "删除 VM",
      "pos": [
        2426,
        2431
      ]
    },
    {
      "content": "捕获 VM",
      "pos": [
        2523,
        2528
      ]
    },
    {
      "content": "从用户映像创建 VM",
      "pos": [
        2622,
        2632
      ]
    },
    {
      "content": "从专用磁盘创建 VM",
      "pos": [
        2797,
        2807
      ]
    },
    {
      "content": "将数据磁盘添加到 VM",
      "pos": [
        2985,
        2996
      ]
    },
    {
      "content": "<ph id=\"ph1\">`azure  vm disk attach [options] &lt;vm-name&gt; &lt;disk-image-name&gt;`</ph> -或-",
      "pos": [
        2999,
        3064
      ]
    },
    {
      "content": "从 VM 中删除数据磁盘",
      "pos": [
        3227,
        3239
      ]
    },
    {
      "content": "将泛型扩展添加到 VM",
      "pos": [
        3361,
        3372
      ]
    },
    {
      "content": "将 VM 访问扩展添加到 VM",
      "pos": [
        3564,
        3579
      ]
    },
    {
      "content": "不可用",
      "pos": [
        3582,
        3585
      ]
    },
    {
      "content": "将 Docker 扩展添加到 VM",
      "pos": [
        3646,
        3663
      ]
    },
    {
      "content": "将 Chef 扩展添加到 VM",
      "pos": [
        3827,
        3842
      ]
    },
    {
      "content": "不可用",
      "pos": [
        3898,
        3901
      ]
    },
    {
      "content": "禁用 VM 扩展",
      "pos": [
        3902,
        3910
      ]
    },
    {
      "content": "不可用",
      "pos": [
        4008,
        4011
      ]
    },
    {
      "content": "删除 VM 扩展",
      "pos": [
        4012,
        4020
      ]
    },
    {
      "content": "列出 VM 扩展",
      "pos": [
        4218,
        4226
      ]
    },
    {
      "content": "不可用",
      "pos": [
        4267,
        4270
      ]
    },
    {
      "content": "显示 VM 映像",
      "pos": [
        4271,
        4279
      ]
    },
    {
      "content": "不可用",
      "pos": [
        4316,
        4319
      ]
    },
    {
      "content": "获取 VM 资源的使用情况",
      "pos": [
        4320,
        4333
      ]
    },
    {
      "content": "不可用",
      "pos": [
        4336,
        4339
      ]
    },
    {
      "content": "获取所有可用 VM 大小",
      "pos": [
        4385,
        4397
      ]
    },
    {
      "content": "不可用",
      "pos": [
        4400,
        4403
      ]
    },
    {
      "content": "后续步骤",
      "pos": [
        4438,
        4442
      ]
    },
    {
      "pos": [
        4446,
        4631
      ],
      "content": "如需 CLI 命令的其他示例，请参阅<bpt id=\"p1\">[</bpt>将 Azure 命令行接口用于 Azure 服务管理<ept id=\"p1\">](/documentation/articles/virtual-machines-command-line-tools)</ept>和<bpt id=\"p2\">[</bpt>将 Azure CLI 用于 Azure 资源管理器<ept id=\"p2\">](/documentation/articles/azure-cli-arm-commands)</ept>。"
    }
  ],
  "content": "<properties\n    pageTitle=\"VM 任务的等效 Azure CLI 命令 | Azure\"\n    description=\"用于在 Azure 资源管理器和 Azure 服务管理模式下创建和管理 Azure VM 的等效 Azure CLI 命令\"\n    services=\"virtual-machines\"\n    documentationCenter=\"\"\n    authors=\"dlepow\"\n    manager=\"timlt\"\n    editor=\"\"\n    tags=\"azure-resource-manager,azure-service-management\"/>\n\n<tags\n    ms.service=\"virtual-machines\"\n    ms.date=\"12/14/2015\"\n    wacn.date=\"02/26/2016\"/>\n\n\n# 适合使用 Azure 命令行界面执行 VM 任务的等效资源管理器和服务管理命令\n本文介绍用于在 Azure 服务管理和 Azure 资源管理器中创建和管理 Azure VM 的等效 Azure 命令行界面 (Azure CLI) 命令。在将脚本从一个命令模式迁移到其他命令模式时，请使用本文作为简易指南。\n\n[AZURE.INCLUDE [了解部署模型](../includes/learn-about-deployment-models-both-include.md)]\n\n\n\n* 如果你尚未安装 Azure CLI 并连接到订阅，请参阅[安装 Azure CLI](/documentation/articles/xplat-cli-install) 和[从 Azure CLI 连接到 Azure 订阅](/documentation/articles/xplat-cli-connect)。如果你想要使用资源管理器模式命令，请务必使用登录方法连接。\n\n* 若要开始在 Azure CLI 中使用资源管理器模式，可能需要切换命令模式。默认情况下，CLI 在服务管理模式下启动。若要更改为资源管理器模式，请运行 `azure config mode arm`。若要回到服务管理模式，请运行 `azure config mode asm`。\n\n* 如需联机命令帮助和选项，请键入 `azure <command> <subcommand> --help` 或 `azure help <command> <subcommand>`。\n\n## VM 任务\n下表比较了你可以在服务管理和资源管理器中使用 Azure CLI 命令执行的常见 VM 任务。使用许多资源管理器命令时，你需要传递现有资源组的名称。\n\n任务 | 服务管理 | 资源管理器\n-------------- | ----------- | -------------------------\n创建最基本的 VM | `azure vm create [options] <dns-name> <image> [userName] [password]` | `azure vm quick-create [options] <resource-group> <name> <location> <os-type> <image-urn> <admin-username> <admin-password>`<br/><br/>（从 `azure vm image list` 命令获取 `image-urn`。有关示例，请参阅[本文](/documentation/articles/resource-groups-vm-searching)。）\n创建 Linux VM | `azure vm create [options] <dns-name> <image> [userName] [password]` | `azure  vm create [options] <resource-group> <name> <location> -y \"Linux\"`\n创建 Windows VM | `azure vm create [options] <dns-name> <image> [userName] [password]` | `azure  vm create [options] <resource-group> <name> <location> -y \"Windows\"`\n列出 VM | `azure  vm list [options]` | `azure  vm list [options]`\n获取有关 VM 的信息 | `azure  vm show [options] <vm_name>` | `azure  vm show [options] <resource_group> <name>`\n启动 VM | `azure vm start [options] <name>` | `azure vm start [options] <resource_group> <name>`\n停止 VM | `azure vm shutdown [options] <name>` | `azure vm stop [options] <resource_group> <name>`\n释放 VM | 不可用 | `azure vm deallocate [options] <resource-group> <name>`\n重新启动 VM | `azure vm restart [options] <vname>` | `azure vm restart [options] <resource_group> <name>`\n删除 VM | `azure vm delete [options] <name>` | `azure vm delete [options] <resource_group> <name>`\n捕获 VM | `azure vm capture [options] <name>` | `azure vm capture [options] <resource_group> <name>`\n从用户映像创建 VM | `azure  vm create [options] <dns-name> <image> [userName] [password]` | `azure  vm create [options] -q <image-name> <resource-group> <name> <location> <os-type>`\n从专用磁盘创建 VM | `azure  vm create [options]-d <custom-data-file> <dns-name> [userName] [password]` | `azue  vm create [options] -d <os-disk-vhd> <resource-group> <name> <location> <os-type>`\n将数据磁盘添加到 VM | `azure  vm disk attach [options] <vm-name> <disk-image-name>` -或- <br/> `vm disk attach-new [options] <vm-name> <size-in-gb> [blob-url]` | `azure  vm disk attach-new [options] <resource-group> <vm-name> <size-in-gb> [vhd-name]`\n从 VM 中删除数据磁盘 | `azure  vm disk detach [options] <vm-name> <lun>` | `azure  vm disk detach [options] <resource-group> <vm-name> <lun>`\n将泛型扩展添加到 VM | `azure  vm extension set [options] <vm-name> <extension-name> <publisher-name> <version>` | `azure  vm extension set [options] <resource-group> <vm-name> <name> <publisher-name> <version>`\n将 VM 访问扩展添加到 VM | 不可用 | `azure vm reset-access [options] <resource-group> <name>`\n将 Docker 扩展添加到 VM | `azure  vm docker create [options] <dns-name> <image> <user-name> [password]` | `azure  vm docker create [options] <resource-group> <name> <location> <os-type>`\n将 Chef 扩展添加到 VM | `azure  vm extension get-chef [options] <vm-name>` | 不可用\n禁用 VM 扩展 | `azure  vm extension set [options] -b <vm-name> <extension-name> <publisher-name> <version>` | 不可用\n删除 VM 扩展 | `azure  vm extension set [options] -u <vm-name> <extension-name> <publisher-name> <version>` | `azure  vm extension set [options] -u <resource-group> <vm-name> <name> <publisher-name> <version>`\n列出 VM 扩展 | `azure vm extension list [options]` | 不可用\n显示 VM 映像 | `azure vm image show [options]` | 不可用\n获取 VM 资源的使用情况 | 不可用 | `azure vm list-usage [options] <location>`\n获取所有可用 VM 大小 | 不可用 | `azure vm sizes [options]`\n\n\n## 后续步骤\n\n* 如需 CLI 命令的其他示例，请参阅[将 Azure 命令行接口用于 Azure 服务管理](/documentation/articles/virtual-machines-command-line-tools)和[将 Azure CLI 用于 Azure 资源管理器](/documentation/articles/azure-cli-arm-commands)。\n\n<!---HONumber=Mooncake_0215_2016-->"
}