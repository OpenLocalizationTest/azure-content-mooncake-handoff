{
  "nodes": [
    {
      "content": "实时流式处理故障排除指南",
      "pos": [
        28,
        40
      ]
    },
    {
      "content": "本主题提供有关如何排查实时流式处理问题的建议。",
      "pos": [
        60,
        83
      ]
    },
    {
      "content": "实时流式处理故障排除指南",
      "pos": [
        301,
        313
      ]
    },
    {
      "content": "本主题提供有关如何排查某些实时流式处理问题的建议。",
      "pos": [
        315,
        340
      ]
    },
    {
      "content": "与本地编码器相关的问题",
      "pos": [
        345,
        356
      ]
    },
    {
      "content": "本部分提供有关如何排查本地编码器相关问题的建议，这些编码器配置为向启用了实时编码的 AMS 通道发送单比特率流。",
      "pos": [
        359,
        415
      ]
    },
    {
      "content": "问题：没有输出渐进式流式处理的选项",
      "pos": [
        420,
        437
      ]
    },
    {
      "pos": [
        441,
        466
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：使用的编码器不自动取消隔行扫描。"
    },
    {
      "pos": [
        473,
        524
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：在编码器界面中查找取消隔行扫描选项。启用取消隔行扫描后，再次检查渐进式输出设置。"
    },
    {
      "content": "问题：已尝试多种编码器输出设置，但仍然无法连接。",
      "pos": [
        530,
        554
      ]
    },
    {
      "pos": [
        559,
        585
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：未正确重置 Azure 编码通道。"
    },
    {
      "pos": [
        592,
        691
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：确保编码器不再推送到 AMS，停止并重置通道。再次运行后，尝试使用新的设置连接到编码器。如果这样仍无法更正问题，请尝试创建新通道，因为有时通道在经过几次失败的尝试后可能会损失。"
    },
    {
      "pos": [
        695,
        722
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：GOP 大小或关键帧设置不是最佳的。"
    },
    {
      "pos": [
        728,
        819
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：建议的 GOP 大小或关键帧间隔为 2 秒。有些编码器以帧数计算此设置，而有些则以秒计算。例如：输出 30fps 时，GOP 大小是 60 帧，相当于 2 秒。"
    },
    {
      "pos": [
        828,
        847
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：关闭的端口阻止了流。"
    },
    {
      "pos": [
        853,
        945
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：通过 RTMP 流式处理时，请检查防火墙和/或代理设置，确认出站端口 1935 和 1936 已打开。使用 RTP 流式处理时，请确认出站端口 2010 已打开。"
    },
    {
      "content": "问题：在配置编码器以使用 RTP 协议流式处理时，没有可用于输入主机名的位置。",
      "pos": [
        951,
        990
      ]
    },
    {
      "pos": [
        995,
        1032
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：许多 RTP 编码器不允许主机名，需要获取 IP 地址。"
    },
    {
      "pos": [
        1040,
        1134
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：若要查找 IP 地址，请在任一计算机上打开命令提示符。若要在 Windows 中执行此操作，请打开“运行”启动器 (WIN + R) 并输入“cmd”打开命令提示符。"
    },
    {
      "content": "打开命令提示符后，键入“Ping [AMS 主机名]”。",
      "pos": [
        1140,
        1168
      ]
    },
    {
      "content": "通过通过在 Azure 引入 URL 中省略端口号来派生主机名，如以下示例中突出显示的部分所示：",
      "pos": [
        1174,
        1222
      ]
    },
    {
      "content": "rtp://test2-amstest009.rtp.channel.mediaservices.chinacloudapi.cn:2010/",
      "pos": [
        1228,
        1299
      ]
    },
    {
      "content": "fmle",
      "pos": [
        1307,
        1311
      ]
    },
    {
      "content": "问题：无法播放发布的流。",
      "pos": [
        1385,
        1397
      ]
    },
    {
      "pos": [
        1402,
        1445
      ],
      "content": "<bpt id=\"p1\">**</bpt>潜在问题<ept id=\"p1\">**</ept>：没有流式处理终结点正在运行，或者未分配任何流式处理单位（缩放单位）。"
    },
    {
      "pos": [
        1452,
        1514
      ],
      "content": "<bpt id=\"p1\">**</bpt>故障排除步骤<ept id=\"p1\">**</ept>：浏览到 AMSE 工具中的“流式处理终结点”选项卡，确认正在运行的流式处理终结点具有一个流式处理单位。"
    },
    {
      "pos": [
        1521,
        1576
      ],
      "content": "<ph id=\"ph1\">[AZURE.NOTE]</ph>如果遵循故障排除步骤后仍然无法成功流式处理，请使用 Azure 管理门户提交支持票证。"
    }
  ],
  "content": "<properties \n    pageTitle=\"实时流式处理故障排除指南\" \n    description=\"本主题提供有关如何排查实时流式处理问题的建议。\" \n    services=\"media-services\" \n    documentationCenter=\"\" \n    authors=\"juliako\" \n    manager=\"dwrede\" \n    editor=\"\"/>\n\n<tags\n    ms.service=\"media-services\"\n    ms.date=\"12/05/2015\"\n    wacn.date=\"01/14/2016\"/>\n\n#实时流式处理故障排除指南\n\n本主题提供有关如何排查某些实时流式处理问题的建议。\n\n## 与本地编码器相关的问题 \n\n本部分提供有关如何排查本地编码器相关问题的建议，这些编码器配置为向启用了实时编码的 AMS 通道发送单比特率流。\n\n###问题：没有输出渐进式流式处理的选项\n\n- **潜在问题**：使用的编码器不自动取消隔行扫描。 \n\n    **故障排除步骤**：在编码器界面中查找取消隔行扫描选项。启用取消隔行扫描后，再次检查渐进式输出设置。\n \n###问题：已尝试多种编码器输出设置，但仍然无法连接。 \n\n- **潜在问题**：未正确重置 Azure 编码通道。 \n\n    **故障排除步骤**：确保编码器不再推送到 AMS，停止并重置通道。再次运行后，尝试使用新的设置连接到编码器。如果这样仍无法更正问题，请尝试创建新通道，因为有时通道在经过几次失败的尝试后可能会损失。\n\n- **潜在问题**：GOP 大小或关键帧设置不是最佳的。\n\n    **故障排除步骤**：建议的 GOP 大小或关键帧间隔为 2 秒。有些编码器以帧数计算此设置，而有些则以秒计算。例如：输出 30fps 时，GOP 大小是 60 帧，相当于 2 秒。\n     \n- **潜在问题**：关闭的端口阻止了流。\n\n    **故障排除步骤**：通过 RTMP 流式处理时，请检查防火墙和/或代理设置，确认出站端口 1935 和 1936 已打开。使用 RTP 流式处理时，请确认出站端口 2010 已打开。\n\n\n###问题：在配置编码器以使用 RTP 协议流式处理时，没有可用于输入主机名的位置。 \n\n- **潜在问题**：许多 RTP 编码器不允许主机名，需要获取 IP 地址。  \n\n    **故障排除步骤**：若要查找 IP 地址，请在任一计算机上打开命令提示符。若要在 Windows 中执行此操作，请打开“运行”启动器 (WIN + R) 并输入“cmd”打开命令提示符。\n\n    打开命令提示符后，键入“Ping [AMS 主机名]”。\n\n    通过通过在 Azure 引入 URL 中省略端口号来派生主机名，如以下示例中突出显示的部分所示：\n\n    rtp://test2-amstest009.rtp.channel.mediaservices.chinacloudapi.cn:2010/\n\n    ![fmle](./media/media-services-fmle-live-encoder/media-services-fmle10.png)\n\n###问题：无法播放发布的流。\n \n- **潜在问题**：没有流式处理终结点正在运行，或者未分配任何流式处理单位（缩放单位）。 \n\n    **故障排除步骤**：浏览到 AMSE 工具中的“流式处理终结点”选项卡，确认正在运行的流式处理终结点具有一个流式处理单位。\n    \n>[AZURE.NOTE]如果遵循故障排除步骤后仍然无法成功流式处理，请使用 Azure 管理门户提交支持票证。\n\n<!---HONumber=82-->"
}