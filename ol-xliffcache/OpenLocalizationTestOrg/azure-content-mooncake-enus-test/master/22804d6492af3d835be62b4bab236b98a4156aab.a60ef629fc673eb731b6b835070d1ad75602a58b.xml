{"nodes":[{"content":"具有 Python Tools 2.1 for Visual Studio 的 Azure 上的 Django 和 MySQL","pos":[28,91]},{"content":"了解如何使用 Python Tools for Visual Studio 来创建在 MySQL 数据库实例中存储数据的 Django Web 应用，以及将应用部署到 Azure 中。","pos":[111,203]},{"content":"具有 Python Tools 2.2 for Visual Studio 的 Azure 上的 Django 和 MySQL","pos":[427,490]},{"content":".Net","pos":[515,519]},{"content":"Node.js","pos":[578,585]},{"content":"Java","pos":[651,655]},{"content":"PHP - Git","pos":[712,721]},{"content":"PHP - FTP","pos":[786,795]},{"content":"Python","pos":[860,866]},{"pos":[929,1003],"content":"在本教程中，我们将使用 <bpt id=\"p1\">[</bpt>Python Tools for Visual Studio<ept id=\"p1\">]</ept> 通过一个 PTVS 样本模板创建简单的轮询 Web 应用。","source":"在本教程中，我们将使用 [Python Tools for Visual Studio] 通过一个 PTVS 样本模板创建简单的轮询 Web 应用。"},{"pos":[1005,1126],"content":"我们将了解如何使用在 Azure 上托管的 MySQL 服务、如何将 Web 应用配置为使用 MySQL，以及如何将 Web 应用发布到 <bpt id=\"p1\">[</bpt>Azure Web 应用<ept id=\"p1\">](/documentation/services/web-sites/)</ept>中。","source":"我们将了解如何使用在 Azure 上托管的 MySQL 服务、如何将 Web 应用配置为使用 MySQL，以及如何将 Web 应用发布到 [Azure Web 应用](/documentation/services/web-sites/)中。"},{"content":"请参阅 <bpt id=\"p1\">[</bpt>Python 开发人员中心<ept id=\"p1\">]</ept>以获取更多文章，这些文章介绍了如何通过 PTVS（使用 Bottle、Flask 和 Django Web 框架）、MongoDB、Azure 表存储、MySQL 和 SQL 数据库服务来开发 Azure Web 应用。","pos":[1128,1257],"source":"请参阅 [Python 开发人员中心]以获取更多文章，这些文章介绍了如何通过 PTVS（使用 Bottle、Flask 和 Django Web 框架）、MongoDB、Azure 表存储、MySQL 和 SQL 数据库服务来开发 Azure Web 应用。"},{"content":"虽然本文将着重介绍 Azure Web 应用，但 <bpt id=\"p1\">[</bpt>Azure 云服务<ept id=\"p1\">]</ept>的开发步骤也是类似的。","pos":[1257,1304],"source":"虽然本文将着重介绍 Azure Web 应用，但 [Azure 云服务]的开发步骤也是类似的。"},{"pos":[1336,1340],"content":"先决条件"},{"content":"Visual Studio 2013 或 2015","pos":[1345,1370]},{"content":"Python Tools 2.2 for Visual Studio","pos":[1375,1409]},{"content":"Python Tools 2.2 for Visual Studio 示例 VSIX","pos":[1415,1457]},{"pos":[1462,1523],"content":"<bpt id=\"p1\">[</bpt>Azure SDK Tools for VS 2013<ept id=\"p1\">]</ept> 或 <bpt id=\"p2\">[</bpt>Azure SDK Tools for VS 2015<ept id=\"p2\">]</ept>","source":"[Azure SDK Tools for VS 2013] 或 [Azure SDK Tools for VS 2015]"},{"content":"Python 2.7（32 位）","pos":[1528,1544]},{"content":"创建项目","pos":[1651,1655]},{"content":"在此部分中，我们将使用样本模板创建 Visual Studio 项目。","pos":[1657,1692]},{"content":"我们将创建虚拟环境并安装所需软件包。","pos":[1692,1710]},{"content":"我们将创建一个使用 sqlite 的本地数据库。","pos":[1710,1734]},{"content":"然后我们将在本地运行应用程序。","pos":[1734,1749]},{"content":"在 Visual Studio 中，依次选择“文件”和“新建项目”。","pos":[1755,1789]},{"content":"您可以在“Python”&gt;“样本”下获得 PTVS 样本 VSIX 中的项目模板。","pos":[1795,1836],"source":"您可以在“Python”>“样本”下获得 PTVS 样本 VSIX 中的项目模板。"},{"content":"选择“轮询 Django Web 项目”，然后单击“确定”创建项目。","pos":[1836,1870]},{"content":"新建项目对话框","pos":[1878,1885]},{"content":"系统将提示您安装外部软件包。","pos":[1962,1976]},{"content":"选择<bpt id=\"p1\">**</bpt>安装到虚拟环境<ept id=\"p1\">**</ept>。","pos":[1976,1990],"source":"选择**安装到虚拟环境**。"},{"content":"外部包对话框","pos":[1998,2004]},{"content":"选择“Python 2.7”作为基础解释器。","pos":[2087,2109]},{"content":"添加虚拟环境对话框","pos":[2117,2126]},{"content":"右键单击项目节点，然后依次选择“Python”和“Django 同步数据库”。","pos":[2206,2245]},{"content":"Django 同步数据库命令","pos":[2253,2267]},{"content":"这将打开 Django 管理控制台。","pos":[2340,2358]},{"content":"按照提示操作以创建一个用户。","pos":[2358,2372]},{"content":"这将在项目文件夹中创建一个 sqlite 数据库。","pos":[2378,2403]},{"content":"Django 管理控制台窗口","pos":[2411,2425]},{"pos":[2499,2528],"content":"按 <ph id=\"ph1\">&lt;kbd&gt;</ph>F5<ph id=\"ph2\">&lt;/kbd&gt;</ph> 确认应用程序能否正常运行。","source":"按 <kbd>F5</kbd> 确认应用程序能否正常运行。"},{"content":"单击顶部导航栏中的“登录”。","pos":[2534,2548]},{"content":"Web 浏览器","pos":[2556,2563]},{"content":"输入您同步数据库时创建的用户的凭证。","pos":[2652,2670]},{"content":"Web 浏览器","pos":[2678,2685]},{"content":"单击“创建样本轮询”。","pos":[2775,2786]},{"content":"Web 浏览器","pos":[2794,2801]},{"content":"单击轮询并进行投票。","pos":[2888,2898]},{"content":"Web 浏览器","pos":[2906,2913]},{"content":"创建 MySQL 数据库","pos":[2992,3004]},{"content":"对于数据库，我们将在 Azure 上创建 ClearDB MySQL 托管数据库。","pos":[3006,3047]},{"content":"作为替代方法，也可以在 Azure 上创建自己的虚拟机，然后亲自安装和管理 MySQL。","pos":[3049,3093]},{"content":"可以通过执行以下步骤创建数据库。","pos":[3095,3111]},{"pos":[3117,3131],"content":"登录 <bpt id=\"p1\">[</bpt>Azure 门户<ept id=\"p1\">]</ept>。","source":"登录 [Azure 门户]。"},{"pos":[3137,3155],"content":"在导航窗格的底部，单击<bpt id=\"p1\">**</bpt>新建<ept id=\"p1\">**</ept>。","source":"在导航窗格的底部，单击**新建**。"},{"content":"依次单击“数据服务”、“MYSQL DATABASE ON AZURE”和“快速创建”。","pos":[3161,3205]},{"content":"使用名称、版本等进行填充，然后单击“创建”。","pos":[3211,3233]},{"content":"配置项目","pos":[3238,3242]},{"content":"在此部分中，我们将把 Web 应用配置为使用我们刚刚创建的 MySQL 数据库。","pos":[3244,3284]},{"content":"我们还将安装使用具有 Django 的 MySQL 数据库所需的其他 Python 软件包。","pos":[3284,3330]},{"content":"然后，我们将在本地运行 Web 应用。","pos":[3330,3349]},{"content":"在 Visual Studio 中，打开“项目名称” 文件夹中的 <bpt id=\"p1\">**</bpt>settings.py<ept id=\"p1\">**</ept>。","pos":[3355,3404],"source":"在 Visual Studio 中，打开“项目名称” 文件夹中的 **settings.py**。"},{"content":"暂时将连接字符串粘贴在编辑器中。","pos":[3404,3420]},{"content":"连接字符串是按以下格式：","pos":[3420,3432]},{"pos":[3517,3576],"content":"将默认数据库<bpt id=\"p1\">**</bpt>引擎<ept id=\"p1\">**</ept>更改为使用 MySQL，然后在“连接字符串”中设置“名称”、“用户”、“密码”和“主机”的值。","source":"将默认数据库**引擎**更改为使用 MySQL，然后在“连接字符串”中设置“名称”、“用户”、“密码”和“主机”的值。"},{"content":"在“解决方案资源管理器”的“Python 环境”下，右键单击虚拟环境，然后选择“安装 Python 包”。","pos":[3895,3948]},{"pos":[3953,3992],"content":"使用 <bpt id=\"p1\">**</bpt>easy_install<ept id=\"p1\">**</ept> 安装包 <ph id=\"ph1\">`mysql-python`</ph>。","source":"使用 **easy_install** 安装包 `mysql-python`。"},{"content":"安装包对话框","pos":[4000,4006]},{"content":"右键单击项目节点，然后依次选择“Python”和“Django 同步数据库”。","pos":[4092,4131]},{"content":"这将创建我们在上一节中创建的 MySQL 数据库的表。","pos":[4137,4164]},{"content":"按照提示操作以创建用户，其并不一定要匹配第一节中创建的 sqlite 数据库中的用户。","pos":[4164,4207]},{"content":"Django 管理控制台窗口","pos":[4215,4229]},{"content":"使用 <ph id=\"ph1\">`F5`</ph> 运行应用程序。","pos":[4303,4318],"source":"使用 `F5` 运行应用程序。"},{"content":"使用“创建样本轮询”创建的轮询以及通过投票提交的数据会在 MySQL 数据库中进行序列化。","pos":[4318,4363]},{"content":"将 Web 应用发布到 Azure Web 应用","pos":[4368,4392]},{"content":"借助 Azure.NET SDK，你可以轻松地将 Web 应用部署到 Azure 中。","pos":[4394,4437]},{"content":"在“解决方案资源管理器”中，右键单击项目节点，然后选择“发布”。","pos":[4443,4475]},{"content":"发布 Web 对话框","pos":[4483,4493]},{"content":"单击“导入”，选择已下载的“发布配置文件”。","pos":[4580,4602]},{"pos":[4608,4704],"content":"如果还没有创建 Web 应用，可以登录 <bpt id=\"p1\">[</bpt>Azure 管理门户<ept id=\"p1\">](https://manage.windowsazure.cn/)</ept>创建一个，然后再“仪表板”的“速览”下，下载“发布配置文件”。","source":"如果还没有创建 Web 应用，可以登录 [Azure 管理门户](https://manage.windowsazure.cn/)创建一个，然后再“仪表板”的“速览”下，下载“发布配置文件”。"},{"pos":[4710,4731],"content":"接受其他所有默认值，然后单击<bpt id=\"p1\">**</bpt>发布<ept id=\"p1\">**</ept>。","source":"接受其他所有默认值，然后单击**发布**。"},{"content":"此时，您的 Web 浏览器会自动打开已发布的 Web 应用。","pos":[4737,4767]},{"content":"您应该会看到 Web 应用使用在 Azure 上托管的 <bpt id=\"p1\">**</bpt>MySQL<ept id=\"p1\">**</ept> 数据库按预期方式运行。","pos":[4767,4816],"source":"您应该会看到 Web 应用使用在 Azure 上托管的 **MySQL** 数据库按预期方式运行。"},{"content":"祝贺你！","pos":[4822,4826]},{"content":"Web 浏览器","pos":[4834,4841]},{"content":"后续步骤","pos":[4919,4923]},{"content":"请按照下面的链接以了解有关 Python Tools for Visual Studio、Django 和 MySQL 的更多信息。","pos":[4925,4991]},{"content":"Python Tools for Visual Studio 文档","pos":[4996,5029]},{"content":"Web 项目","pos":[5036,5042]},{"content":"云服务项目","pos":[5049,5054]},{"content":"在 Azure 上进行远程调试","pos":[5061,5076]},{"content":"Django 文档","pos":[5081,5090]},{"content":"MySQL","pos":[5095,5100]},{"content":"Python 开发人员中心","pos":[5128,5141]},{"content":"Azure 云服务","pos":[5162,5171]},{"content":"Azure 门户","pos":[5258,5266]},{"content":"Python Tools for Visual Studio","pos":[5301,5331]},{"content":"Python Tools 2.2 for Visual Studio","pos":[5354,5388]},{"content":"Python Tools 2.2 for Visual Studio 示例 VSIX","pos":[5438,5480]},{"content":"Azure SDK Tools for VS 2013","pos":[5530,5557]},{"content":"Azure SDK Tools for VS 2015","pos":[5607,5634]},{"content":"Python 2.7（32 位）","pos":[5684,5700]},{"content":"Python Tools for Visual Studio 文档","pos":[5750,5783]},{"content":"在 Azure 上进行远程调试","pos":[5829,5844]},{"content":"Web 项目","pos":[5929,5935]},{"content":"云服务项目","pos":[6007,6012]},{"content":"Django 文档","pos":[6086,6095]},{"content":"MySQL","pos":[6130,6135]}],"content":"<properties \n    pageTitle=\"具有 Python Tools 2.1 for Visual Studio 的 Azure 上的 Django 和 MySQL\" \n    description=\"了解如何使用 Python Tools for Visual Studio 来创建在 MySQL 数据库实例中存储数据的 Django Web 应用，以及将应用部署到 Azure 中。\" \n    services=\"app-service\\web\" \n    documentationCenter=\"python\" \n    authors=\"huguesv\" \n    manager=\"wpickett\" \n    editor=\"\"/>\n\n<tags \n    ms.service=\"web-sites\" \n    ms.date=\"11/17/2015\"\n    wacn.date=\"01/21/2016\"/>\n# 具有 Python Tools 2.2 for Visual Studio 的 Azure 上的 Django 和 MySQL \n\n> [AZURE.SELECTOR]\n- [.Net](/documentation/articles/web-sites-dotnet-get-started)\n- [Node.js](/documentation/articles/web-sites-nodejs-develop-deploy-mac)\n- [Java](/documentation/articles/web-sites-java-get-started)\n- [PHP - Git](/documentation/articles/web-sites-php-mysql-deploy-use-git)\n- [PHP - FTP](/documentation/articles/web-sites-php-mysql-deploy-use-ftp)\n- [Python](/documentation/articles/web-sites-python-ptvs-django-mysql)\n\n在本教程中，我们将使用 [Python Tools for Visual Studio] 通过一个 PTVS 样本模板创建简单的轮询 Web 应用。\n\n我们将了解如何使用在 Azure 上托管的 MySQL 服务、如何将 Web 应用配置为使用 MySQL，以及如何将 Web 应用发布到 [Azure Web 应用](/documentation/services/web-sites/)中。\n\n请参阅 [Python 开发人员中心]以获取更多文章，这些文章介绍了如何通过 PTVS（使用 Bottle、Flask 和 Django Web 框架）、MongoDB、Azure 表存储、MySQL 和 SQL 数据库服务来开发 Azure Web 应用。虽然本文将着重介绍 Azure Web 应用，但 [Azure 云服务]的开发步骤也是类似的。\n\n##<a name=\"prerequisites\"></a>先决条件\n\n - Visual Studio 2013 或 2015\n - [Python Tools 2.2 for Visual Studio]\n - [Python Tools 2.2 for Visual Studio 示例 VSIX]\n - [Azure SDK Tools for VS 2013] 或 [Azure SDK Tools for VS 2015]\n - [Python 2.7（32 位）]\n\n[AZURE.INCLUDE [create-account-and-websites-note](../includes/create-account-and-websites-note.md)]\n\n## 创建项目\n\n在此部分中，我们将使用样本模板创建 Visual Studio 项目。我们将创建虚拟环境并安装所需软件包。我们将创建一个使用 sqlite 的本地数据库。然后我们将在本地运行应用程序。\n\n1.  在 Visual Studio 中，依次选择“文件”和“新建项目”。\n\n1.  您可以在“Python”>“样本”下获得 PTVS 样本 VSIX 中的项目模板。选择“轮询 Django Web 项目”，然后单击“确定”创建项目。\n\n    ![新建项目对话框](./media/web-sites-python-ptvs-django-mysql/PollsDjangoNewProject.png)\n\n1.  系统将提示您安装外部软件包。选择**安装到虚拟环境**。\n\n    ![外部包对话框](./media/web-sites-python-ptvs-django-mysql/PollsDjangoExternalPackages.png)\n\n1.  选择“Python 2.7”作为基础解释器。\n\n    ![添加虚拟环境对话框](./media/web-sites-python-ptvs-django-mysql/PollsCommonAddVirtualEnv.png)\n\n1.  右键单击项目节点，然后依次选择“Python”和“Django 同步数据库”。\n\n    ![Django 同步数据库命令](./media/web-sites-python-ptvs-django-mysql/PollsDjangoSyncDB.png)\n\n1.  这将打开 Django 管理控制台。按照提示操作以创建一个用户。\n\n    这将在项目文件夹中创建一个 sqlite 数据库。\n\n    ![Django 管理控制台窗口](./media/web-sites-python-ptvs-django-mysql/PollsDjangoConsole.png)\n\n1.  按 <kbd>F5</kbd> 确认应用程序能否正常运行。\n\n1.  单击顶部导航栏中的“登录”。\n\n    ![Web 浏览器](./media/web-sites-python-ptvs-django-mysql/PollsDjangoCommonBrowserLocalMenu.png)\n\n1.  输入您同步数据库时创建的用户的凭证。\n\n    ![Web 浏览器](./media/web-sites-python-ptvs-django-mysql/PollsDjangoCommonBrowserLocalLogin.png)\n\n1.  单击“创建样本轮询”。\n\n    ![Web 浏览器](./media/web-sites-python-ptvs-django-mysql/PollsDjangoCommonBrowserNoPolls.png)\n\n1.  单击轮询并进行投票。\n\n    ![Web 浏览器](./media/web-sites-python-ptvs-django-mysql/PollsDjangoSqliteBrowser.png)\n\n## 创建 MySQL 数据库\n\n对于数据库，我们将在 Azure 上创建 ClearDB MySQL 托管数据库。\n\n作为替代方法，也可以在 Azure 上创建自己的虚拟机，然后亲自安装和管理 MySQL。\n\n可以通过执行以下步骤创建数据库。\n\n1.  登录 [Azure 门户]。\n\n1.  在导航窗格的底部，单击**新建**。\n\n1.  依次单击“数据服务”、“MYSQL DATABASE ON AZURE”和“快速创建”。\n\n1.  使用名称、版本等进行填充，然后单击“创建”。\n\n## 配置项目\n\n在此部分中，我们将把 Web 应用配置为使用我们刚刚创建的 MySQL 数据库。我们还将安装使用具有 Django 的 MySQL 数据库所需的其他 Python 软件包。然后，我们将在本地运行 Web 应用。\n\n1.  在 Visual Studio 中，打开“项目名称” 文件夹中的 **settings.py**。暂时将连接字符串粘贴在编辑器中。连接字符串是按以下格式：\n\n        Database=<NAME>;Data Source=<HOST>;User Id=<USER>;Password=<PASSWORD>\n\n    将默认数据库**引擎**更改为使用 MySQL，然后在“连接字符串”中设置“名称”、“用户”、“密码”和“主机”的值。\n\n        DATABASES = {\n            'default': {\n                'ENGINE': 'django.db.backends.mysql',\n                'NAME': '<Database>',\n                'USER': '<User Id>',\n                'PASSWORD': '<Password>',\n                'HOST': '<Data Source>',\n                'PORT': '',\n            }\n        }\n\n\n1.  在“解决方案资源管理器”的“Python 环境”下，右键单击虚拟环境，然后选择“安装 Python 包”。\n\n1. 使用 **easy_install** 安装包 `mysql-python`。\n\n    ![安装包对话框](./media/web-sites-python-ptvs-django-mysql/PollsDjangoMySQLInstallPackage.png)\n\n1.  右键单击项目节点，然后依次选择“Python”和“Django 同步数据库”。\n\n    这将创建我们在上一节中创建的 MySQL 数据库的表。按照提示操作以创建用户，其并不一定要匹配第一节中创建的 sqlite 数据库中的用户。\n\n    ![Django 管理控制台窗口](./media/web-sites-python-ptvs-django-mysql/PollsDjangoConsole.png)\n\n1.  使用 `F5` 运行应用程序。使用“创建样本轮询”创建的轮询以及通过投票提交的数据会在 MySQL 数据库中进行序列化。\n\n## 将 Web 应用发布到 Azure Web 应用\n\n借助 Azure.NET SDK，你可以轻松地将 Web 应用部署到 Azure 中。\n\n1.  在“解决方案资源管理器”中，右键单击项目节点，然后选择“发布”。\n\n    ![发布 Web 对话框](./media/web-sites-python-ptvs-django-mysql/PollsCommonPublishWebSiteDialog.png)\n\n1.  单击“导入”，选择已下载的“发布配置文件”。\n\n    如果还没有创建 Web 应用，可以登录 [Azure 管理门户](https://manage.windowsazure.cn/)创建一个，然后再“仪表板”的“速览”下，下载“发布配置文件”。\n\n1.  接受其他所有默认值，然后单击**发布**。\n\n1.  此时，您的 Web 浏览器会自动打开已发布的 Web 应用。您应该会看到 Web 应用使用在 Azure 上托管的 **MySQL** 数据库按预期方式运行。\n\n    祝贺你！\n\n    ![Web 浏览器](./media/web-sites-python-ptvs-django-mysql/PollsDjangoAzureBrowser.png)\n\n## 后续步骤\n\n请按照下面的链接以了解有关 Python Tools for Visual Studio、Django 和 MySQL 的更多信息。\n\n- [Python Tools for Visual Studio 文档]\n  - [Web 项目]\n  - [云服务项目]\n  - [在 Azure 上进行远程调试]\n- [Django 文档]\n- [MySQL]\n\n\n<!--Link references-->\n[Python 开发人员中心]: /develop/python/\n[Azure 云服务]: /documentation/articles/cloud-services-python-ptvs\n<!--External Link references-->\n[Azure 门户]: https://manage.windowsazure.cn\n[Python Tools for Visual Studio]: http://aka.ms/ptvs\n[Python Tools 2.2 for Visual Studio]: http://go.microsoft.com/fwlink/?LinkID=624025\n[Python Tools 2.2 for Visual Studio 示例 VSIX]: http://go.microsoft.com/fwlink/?LinkID=624025\n[Azure SDK Tools for VS 2013]: http://go.microsoft.com/fwlink/?LinkId=323510\n[Azure SDK Tools for VS 2015]: http://go.microsoft.com/fwlink/?LinkId=518003\n[Python 2.7（32 位）]: http://go.microsoft.com/fwlink/?LinkId=517190\n[Python Tools for Visual Studio 文档]: http://pytools.codeplex.com/documentation\n[在 Azure 上进行远程调试]: http://pytools.codeplex.com/wikipage?title=Features%20Azure%20Remote%20Debugging\n[Web 项目]: http://pytools.codeplex.com/wikipage?title=Features%20Web%20Project\n[云服务项目]: http://pytools.codeplex.com/wikipage?title=Features%20Cloud%20Project\n[Django 文档]: https://www.djangoproject.com/\n[MySQL]: http://www.mysql.com/\n \n\n<!---HONumber=76-->"}