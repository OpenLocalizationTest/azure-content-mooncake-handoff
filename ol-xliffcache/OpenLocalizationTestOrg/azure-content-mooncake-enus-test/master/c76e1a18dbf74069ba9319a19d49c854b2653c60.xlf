<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">c76e1a18dbf74069ba9319a19d49c854b2653c60</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>准备 AKV 集成</source>
          <target state="new">准备 AKV 集成</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>若要使用 Azure 密钥保管库集成来配置 SQL Server VM，有以下几个先决条件：</source>
          <target state="new">若要使用 Azure 密钥保管库集成来配置 SQL Server VM，有以下几个先决条件：</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>安装 Azure Powershell</source>
          <target state="new">安装 Azure Powershell</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>创建 Azure Active Directory</source>
          <target state="new">创建 Azure Active Directory</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>创建密钥保管库</source>
          <target state="new">创建密钥保管库</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>以下各节描述了这些先决条件，以及稍后运行 PowerShell cmdlet 需要收集的信息。</source>
          <target state="new">以下各节描述了这些先决条件，以及稍后运行 PowerShell cmdlet 需要收集的信息。</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>安装 Azure PowerShell</source>
          <target state="new">安装 Azure PowerShell</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>请确保已安装最新的 Azure PowerShell SDK。有关详细信息，请参阅<bpt id="p1">[</bpt>如何安装和配置 Azure PowerShell<ept id="p1">](/documentation/articles/powershell-install-configure)</ept>。</source>
          <target state="new">请确保已安装最新的 Azure PowerShell SDK。有关详细信息，请参阅<bpt id="p1">[</bpt>如何安装和配置 Azure PowerShell<ept id="p1">](/documentation/articles/powershell-install-configure)</ept>。</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>创建 Azure Active Directory</source>
          <target state="new">创建 Azure Active Directory</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>首先，你的订阅中需要具有 <bpt id="p1">[</bpt>Azure Active Directory<ept id="p1">](/pricing/1rmb-trial/)</ept> (AAD)。其优点之一是允许你为特定用户和应用程序授予对密钥保管库的权限。</source>
          <target state="new">首先，你的订阅中需要具有 <bpt id="p1">[</bpt>Azure Active Directory<ept id="p1">](/pricing/1rmb-trial/)</ept> (AAD)。其优点之一是允许你为特定用户和应用程序授予对密钥保管库的权限。</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>然后，将应用程序注册到 Azure AAD。这将为你提供一个服务主体帐户，使你有权访问 VM 所需的密钥保管库。在 Azure 密钥保管库文章中，你可以在<bpt id="p1">[</bpt>将应用程序注册到 Azure Active Directory<ept id="p1">](/documentation/articles/key-vault-get-started#register)</ept> 部分中找到这些步骤，或者可以在<bpt id="p2">[</bpt>此博客文章<ept id="p2">](http://blogs.technet.com/b/kv/archive/2015/01/09/azure-key-vault-step-by-step.aspx)</ept>的<bpt id="p3">**</bpt>获取应用程序的标识<ept id="p3">**</ept>部分中看到这些步骤以及屏幕截图。请注意，在完成这些步骤之前，你需要在注册期间收集以下信息，之后在 SQL VM 上启用 Azure 密钥保管库集成时需要这些信息。</source>
          <target state="new">然后，将应用程序注册到 Azure AAD。这将为你提供一个服务主体帐户，使你有权访问 VM 所需的密钥保管库。在 Azure 密钥保管库文章中，你可以在<bpt id="p1">[</bpt>将应用程序注册到 Azure Active Directory<ept id="p1">](/documentation/articles/key-vault-get-started#register)</ept> 部分中找到这些步骤，或者可以在<bpt id="p2">[</bpt>此博客文章<ept id="p2">](http://blogs.technet.com/b/kv/archive/2015/01/09/azure-key-vault-step-by-step.aspx)</ept>的<bpt id="p3">**</bpt>获取应用程序的标识<ept id="p3">**</ept>部分中看到这些步骤以及屏幕截图。请注意，在完成这些步骤之前，你需要在注册期间收集以下信息，之后在 SQL VM 上启用 Azure 密钥保管库集成时需要这些信息。</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>添加应用程序后，在“配置”选项卡上找到<bpt id="p1">**</bpt>客户端 ID<ept id="p1">**</ept>。</source>
          <target state="new">添加应用程序后，在“配置”选项卡上找到<bpt id="p1">**</bpt>客户端 ID<ept id="p1">**</ept>。</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source><ph id="ph1">  ![</ph>Azure Active Directory 客户端 ID<ph id="ph2">](./media/virtual-machines-sql-server-akv-prepare/aad-client-id.png)</ph></source>
          <target state="new"><ph id="ph1">  ![</ph>Azure Active Directory 客户端 ID<ph id="ph2">](./media/virtual-machines-sql-server-akv-prepare/aad-client-id.png)</ph></target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>稍后会将该客户端 ID 分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$spName<ept id="p1">**</ept>（服务主体名称）参数，以启用 Azure 密钥保管库集成。</source>
          <target state="new">稍后会将该客户端 ID 分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$spName<ept id="p1">**</ept>（服务主体名称）参数，以启用 Azure 密钥保管库集成。</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>此外，在执行这些步骤期间，请在创建密钥时复制密钥的密码，如下面的屏幕截图中所示。稍后会将此密钥密码分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$spSecret<ept id="p1">**</ept>（服务主体密码）参数。</source>
          <target state="new">此外，在执行这些步骤期间，请在创建密钥时复制密钥的密码，如下面的屏幕截图中所示。稍后会将此密钥密码分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$spSecret<ept id="p1">**</ept>（服务主体密码）参数。</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source><ph id="ph1">  ![</ph>Azure Active Directory 密码<ph id="ph2">](./media/virtual-machines-sql-server-akv-prepare/aad-sp-secret.png)</ph></source>
          <target state="new"><ph id="ph1">  ![</ph>Azure Active Directory 密码<ph id="ph2">](./media/virtual-machines-sql-server-akv-prepare/aad-sp-secret.png)</ph></target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>必须为此新的客户端 ID 授予以下访问权限：<bpt id="p1">**</bpt>加密<ept id="p1">**</ept>、<bpt id="p2">**</bpt>解密<ept id="p2">**</ept>、<bpt id="p3">**</bpt>密钥换行<ept id="p3">**</ept>、<bpt id="p4">**</bpt>取消密钥换行<ept id="p4">**</ept>、<bpt id="p5">**</bpt>签名<ept id="p5">**</ept>和<bpt id="p6">**</bpt>验证<ept id="p6">**</ept>。可通过 <bpt id="p7">[</bpt>Set-AzureRmKeyVaultAccessPolicy<ept id="p7">](https://msdn.microsoft.com/zh-cn/library/azure/mt603625.aspx)</ept> cmdlet 实现此操作。有关详细信息，请参阅<bpt id="p8">[</bpt>授权应用程序使用密钥或密码<ept id="p8">](/documentation/articles/key-vault-get-started#authorize)</ept>。</source>
          <target state="new">必须为此新的客户端 ID 授予以下访问权限：<bpt id="p1">**</bpt>加密<ept id="p1">**</ept>、<bpt id="p2">**</bpt>解密<ept id="p2">**</ept>、<bpt id="p3">**</bpt>密钥换行<ept id="p3">**</ept>、<bpt id="p4">**</bpt>取消密钥换行<ept id="p4">**</ept>、<bpt id="p5">**</bpt>签名<ept id="p5">**</ept>和<bpt id="p6">**</bpt>验证<ept id="p6">**</ept>。可通过 <bpt id="p7">[</bpt>Set-AzureRmKeyVaultAccessPolicy<ept id="p7">](https://msdn.microsoft.com/zh-cn/library/azure/mt603625.aspx)</ept> cmdlet 实现此操作。有关详细信息，请参阅<bpt id="p8">[</bpt>授权应用程序使用密钥或密码<ept id="p8">](/documentation/articles/key-vault-get-started#authorize)</ept>。</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>创建密钥保管库</source>
          <target state="new">创建密钥保管库</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>若要使用 Azure 密钥保管库来存储将用于在 VM 中加密的密钥，你将需要对密钥保管库的访问权限。如果你尚未设置密钥保管库，请按照<bpt id="p1">[</bpt>开始使用 Azure 密钥保管库<ept id="p1">](/documentation/articles/key-vault-get-started)</ept>主题中的步骤创建一个。请注意，在完成这些步骤之前，你需要在设置期间收集一些信息，之后在 SQL VM 上启用 Azure 密钥保管库集成时需要这些信息。</source>
          <target state="new">若要使用 Azure 密钥保管库来存储将用于在 VM 中加密的密钥，你将需要对密钥保管库的访问权限。如果你尚未设置密钥保管库，请按照<bpt id="p1">[</bpt>开始使用 Azure 密钥保管库<ept id="p1">](/documentation/articles/key-vault-get-started)</ept>主题中的步骤创建一个。请注意，在完成这些步骤之前，你需要在设置期间收集一些信息，之后在 SQL VM 上启用 Azure 密钥保管库集成时需要这些信息。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>进行创建密钥保管库的步骤时，请注意返回的 <bpt id="p1">**</bpt>vaultUri<ept id="p1">**</ept> 属性，它是密钥保管库 URL。下面显示了该步骤中提供的示例，其中的密钥保管库名称是 ContosoKeyVault，因此密钥保管库 URL 将为 https://contosokeyvault.vault.chinacloudapi.cn/。</source>
          <target state="new">进行创建密钥保管库的步骤时，请注意返回的 <bpt id="p1">**</bpt>vaultUri<ept id="p1">**</ept> 属性，它是密钥保管库 URL。下面显示了该步骤中提供的示例，其中的密钥保管库名称是 ContosoKeyVault，因此密钥保管库 URL 将为 https://contosokeyvault.vault.chinacloudapi.cn/。</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>稍后会将该密钥保管库 URL 分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$akvURL<ept id="p1">**</ept> 参数，以启用 Azure 密钥保管库集成。</source>
          <target state="new">稍后会将该密钥保管库 URL 分配给 PowerShell 脚本中的 <bpt id="p1">**</bpt>$akvURL<ept id="p1">**</ept> 参数，以启用 Azure 密钥保管库集成。</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>