<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">4012bf3c177135df2ffd01d6ce8395d5f008467d</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>捕获 Linux VM 的映像| Azure</source>
          <target state="new">捕获 Linux VM 的映像| Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>了解如何使用经典部署模型捕获基于 Linux 的 Azure 虚拟机 (VM) 的映像。</source>
          <target state="new">了解如何使用经典部署模型捕获基于 Linux 的 Azure 虚拟机 (VM) 的映像。</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>如何捕获经典 Linux 虚拟机以用作映像</source>
          <target state="new">如何捕获经典 Linux 虚拟机以用作映像</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>[AZURE.INCLUDE <bpt id="p1">[</bpt>了解部署模型<ept id="p1">](../includes/learn-about-deployment-models-classic-include.md)</ept>]</source>
          <target state="new">[AZURE.INCLUDE <bpt id="p1">[</bpt>了解部署模型<ept id="p1">](../includes/learn-about-deployment-models-classic-include.md)</ept>]</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>本文将演示如何捕获运行 Linux 的经典 Azure 虚拟机，以用作映像来创建其他虚拟机。此映像包括操作系统磁盘和附加到虚拟机的数据磁盘。它不包括网络配置，因此你在使用此映像创建其他虚拟机时需要进行网络配置。</source>
          <target state="new">本文将演示如何捕获运行 Linux 的经典 Azure 虚拟机，以用作映像来创建其他虚拟机。此映像包括操作系统磁盘和附加到虚拟机的数据磁盘。它不包括网络配置，因此你在使用此映像创建其他虚拟机时需要进行网络配置。</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>Azure 将映像存储在“映像”下。这也是你上载和存储任何映像的地方。有关映像的详细信息，请参阅<bpt id="p1">[</bpt>关于 Azure 中的虚拟机映像<ept id="p1">][]</ept>。</source>
          <target state="new">Azure 将映像存储在“映像”下。这也是你上载和存储任何映像的地方。有关映像的详细信息，请参阅<bpt id="p1">[</bpt>关于 Azure 中的虚拟机映像<ept id="p1">][]</ept>。</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>开始之前</source>
          <target state="new">开始之前</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>这些步骤假定你已使用经典部署模式创建了 Azure 虚拟机并配置了操作系统，包括附加任何数据磁盘。如果你尚未执行此操作，请参阅以下说明：</source>
          <target state="new">这些步骤假定你已使用经典部署模式创建了 Azure 虚拟机并配置了操作系统，包括附加任何数据磁盘。如果你尚未执行此操作，请参阅以下说明：</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>如何创建运行 Linux 的虚拟机</source>
          <target state="new">如何创建运行 Linux 的虚拟机</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>捕获虚拟机</source>
          <target state="new">捕获虚拟机</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>使用所选 SSH 客户端连接到虚拟机。有关详细信息，请参阅<bpt id="p1">[</bpt>如何登录到运行 Linux 的虚拟机<ept id="p1">][]</ept>。</source>
          <target state="new">使用所选 SSH 客户端连接到虚拟机。有关详细信息，请参阅<bpt id="p1">[</bpt>如何登录到运行 Linux 的虚拟机<ept id="p1">][]</ept>。</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>在 SSH 窗口中，键入以下命令。请注意，<ph id="ph1">`waagent`</ph> 的输出结果可能会因此实用程序的版本而略有差异：</source>
          <target state="new">在 SSH 窗口中，键入以下命令。请注意，<ph id="ph1">`waagent`</ph> 的输出结果可能会因此实用程序的版本而略有差异：</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>此命令将尝试清除系统并使其适用于重新预配。此操作执行以下任务：</source>
          <target state="new">此命令将尝试清除系统并使其适用于重新预配。此操作执行以下任务：</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>删除 SSH 主机密钥（如果在配置文件中 Provisioning.RegenerateSshHostKeyPair 为“y”）</source>
          <target state="new">删除 SSH 主机密钥（如果在配置文件中 Provisioning.RegenerateSshHostKeyPair 为“y”）</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>清除 /etc/resolv.conf 中的 nameserver 配置</source>
          <target state="new">清除 /etc/resolv.conf 中的 nameserver 配置</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>从 /etc/shadow 中删除 <ph id="ph1">`root`</ph> 用户的密码（如果在配置文件中 Provisioning.DeleteRootPassword 为“y”）</source>
          <target state="new">从 /etc/shadow 中删除 <ph id="ph1">`root`</ph> 用户的密码（如果在配置文件中 Provisioning.DeleteRootPassword 为“y”）</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>删除缓存的 DHCP 客户端租赁</source>
          <target state="new">删除缓存的 DHCP 客户端租赁</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>将主机名重置为 localhost.localdomain</source>
          <target state="new">将主机名重置为 localhost.localdomain</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>删除上次预配的用户帐户（从 /var/lib/waagent 获得）<bpt id="p1">**</bpt>和关联数据<ept id="p1">**</ept>。</source>
          <target state="new">删除上次预配的用户帐户（从 /var/lib/waagent 获得）<bpt id="p1">**</bpt>和关联数据<ept id="p1">**</ept>。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>取消预配会删除文件和数据，目的是使映像“一般化”。仅在需要捕获以用作新映像模板的虚拟机上运行此命令。无法确保映像中的所有敏感信息均已清除，或者说无法确保该映像适合再分发给第三方。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>取消预配会删除文件和数据，目的是使映像“一般化”。仅在需要捕获以用作新映像模板的虚拟机上运行此命令。无法确保映像中的所有敏感信息均已清除，或者说无法确保该映像适合再分发给第三方。</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>键入 <bpt id="p1">**</bpt>y<ept id="p1">**</ept> 继续。添加 <ph id="ph1">`-force`</ph> 参数即可免除此确认步骤。</source>
          <target state="new">键入 <bpt id="p1">**</bpt>y<ept id="p1">**</ept> 继续。添加 <ph id="ph1">`-force`</ph> 参数即可免除此确认步骤。</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>键入 <bpt id="p1">**</bpt>Exit<ept id="p1">**</ept> 关闭 SSH 客户端。</source>
          <target state="new">键入 <bpt id="p1">**</bpt>Exit<ept id="p1">**</ept> 关闭 SSH 客户端。</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>后续步骤假定你已在客户端计算机上<bpt id="p1">[</bpt>安装 Azure CLI<ept id="p1">](/documentation/articles/xplat-cli-install)</ept>。以下所有步骤也可以在<bpt id="p2">[</bpt>管理门户<ept id="p2">][]</ept>中执行。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>后续步骤假定你已在客户端计算机上<bpt id="p1">[</bpt>安装 Azure CLI<ept id="p1">](/documentation/articles/xplat-cli-install)</ept>。以下所有步骤也可以在<bpt id="p2">[</bpt>管理门户<ept id="p2">][]</ept>中执行。</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>从客户端计算机中打开 Azure CLI 并登录到你的 Azure 订阅。有关详细信息，请阅读<bpt id="p1">[</bpt>从 Azure CLI 连接到 Azure 订阅<ept id="p1">](/documentation/articles/xplat-cli-connect)</ept>。</source>
          <target state="new">从客户端计算机中打开 Azure CLI 并登录到你的 Azure 订阅。有关详细信息，请阅读<bpt id="p1">[</bpt>从 Azure CLI 连接到 Azure 订阅<ept id="p1">](/documentation/articles/xplat-cli-connect)</ept>。</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>请确保你是在服务管理模式下：</source>
          <target state="new">请确保你是在服务管理模式下：</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>使用以下命令关闭已在上述步骤中预配的虚拟机：</source>
          <target state="new">使用以下命令关闭已在上述步骤中预配的虚拟机：</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>你可以使用 <ph id="ph2">`azure vm list`</ph> 找出在订阅中创建的所有虚拟机</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>你可以使用 <ph id="ph2">`azure vm list`</ph> 找出在订阅中创建的所有虚拟机</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>在虚拟机停止后，使用以下命令捕获映像：</source>
          <target state="new">在虚拟机停止后，使用以下命令捕获映像：</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>键入你需要的映像名称以替换 <bpt id="p1">_</bpt>new-image-name<ept id="p1">_</ept>。此命令创建通用 OS 映像。<ph id="ph1">`-t`</ph> 子命令将删除原始虚拟机。</source>
          <target state="new">键入你需要的映像名称以替换 <bpt id="p1">_</bpt>new-image-name<ept id="p1">_</ept>。此命令创建通用 OS 映像。<ph id="ph1">`-t`</ph> 子命令将删除原始虚拟机。</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>新映像现在会出现在映像列表中，可以用于配置任何新的虚拟机。你可以使用以下命令来查看它：</source>
          <target state="new">新映像现在会出现在映像列表中，可以用于配置任何新的虚拟机。你可以使用以下命令来查看它：</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>在“管理门户”中，它会显示在“映像”列表中。<bpt id="p1">[</bpt><ept id="p1">][]</ept></source>
          <target state="new">在“管理门户”中，它会显示在“映像”列表中。<bpt id="p1">[</bpt><ept id="p1">][]</ept></target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>成功捕获映像</source>
          <target state="new">成功捕获映像</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>后续步骤</source>
          <target state="new">后续步骤</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>该映像已就绪，可用于创建虚拟机了。你可以使用 Azure CLI 命令 <ph id="ph1">`azure vm create`</ph> 并提供刚创建的映像名称。有关该命令的详细信息，请参阅<bpt id="p1">[</bpt>将适用于 Mac、Linux 和 Windows 的 Azure CLI 与 Azure 服务管理配合使用<ept id="p1">](/documentation/articles/virtual-machines-command-line-tools)</ept>。此外，你也可以使用<bpt id="p2">[</bpt>管理门户<ept id="p2">][]</ept>来创建自定义虚拟机，只需使用“从库中”方法并选择刚刚创建的映像即可。如需更多详细信息，请参阅<bpt id="p3">[</bpt>如何创建自定义虚拟机<ept id="p3">][]</ept>。</source>
          <target state="new">该映像已就绪，可用于创建虚拟机了。你可以使用 Azure CLI 命令 <ph id="ph1">`azure vm create`</ph> 并提供刚创建的映像名称。有关该命令的详细信息，请参阅<bpt id="p1">[</bpt>将适用于 Mac、Linux 和 Windows 的 Azure CLI 与 Azure 服务管理配合使用<ept id="p1">](/documentation/articles/virtual-machines-command-line-tools)</ept>。此外，你也可以使用<bpt id="p2">[</bpt>管理门户<ept id="p2">][]</ept>来创建自定义虚拟机，只需使用“从库中”方法并选择刚刚创建的映像即可。如需更多详细信息，请参阅<bpt id="p3">[</bpt>如何创建自定义虚拟机<ept id="p3">][]</ept>。</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source><bpt id="p1">**</bpt>另请参阅：<ept id="p1">**</ept><bpt id="p2">[</bpt>Azure Linux 代理用户指南<ept id="p2">](/documentation/articles/virtual-machines-linux-agent-user-guide)</ept></source>
          <target state="new"><bpt id="p1">**</bpt>另请参阅：<ept id="p1">**</ept><bpt id="p2">[</bpt>Azure Linux 代理用户指南<ept id="p2">](/documentation/articles/virtual-machines-linux-agent-user-guide)</ept></target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>