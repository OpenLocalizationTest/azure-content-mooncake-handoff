<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">24c8ad549cff1b2712411bd0e73a99fea080e4a0</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>Azure 云服务和 ASP.NET 入门 | Azure</source>
          <target state="new">Azure 云服务和 ASP.NET 入门 | Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>了解如何使用 ASP.NET MVC 和 Azure 创建多层应用程序。该应用程序运行在云服务中，带有 web 角色和辅助角色。它使用实体框架、SQL 数据库和 Azure 存储队列和 Blob。</source>
          <target state="new">了解如何使用 ASP.NET MVC 和 Azure 创建多层应用程序。该应用程序运行在云服务中，带有 web 角色和辅助角色。它使用实体框架、SQL 数据库和 Azure 存储队列和 Blob。</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>Azure 云服务和 ASP.NET 入门</source>
          <target state="new">Azure 云服务和 ASP.NET 入门</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>[AZURE.SELECTOR]</source>
          <target state="new">[AZURE.SELECTOR]</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>Node.js</source>
          <target state="new">Node.js</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>.NET</source>
          <target state="new">.NET</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>概述</source>
          <target state="new">概述</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>本教程演示如何使用 ASP.NET MVC 前端创建多层.NET 应用程序，并将其部署到 <bpt id="p1">[</bpt>Azure 云服务<ept id="p1">](/documentation/articles/fundamentals-application-models/#CloudServices)</ept>。应用程序使用 <bpt id="p2">[</bpt>Azure SQL 数据库<ept id="p2">](http://msdn.microsoft.com/zh-cn/library/azure/ee336279)</ept>、<bpt id="p3">[</bpt>Azure Blob 服务<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage)</ept>和 <bpt id="p4">[</bpt>Azure 队列服务<ept id="p4">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern)</ept>。你可以从 MSDN 代码库<bpt id="p5">[</bpt>下载 Visual Studio 项目<ept id="p5">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>。</source>
          <target state="new">本教程演示如何使用 ASP.NET MVC 前端创建多层.NET 应用程序，并将其部署到 <bpt id="p1">[</bpt>Azure 云服务<ept id="p1">](/documentation/articles/fundamentals-application-models/#CloudServices)</ept>。应用程序使用 <bpt id="p2">[</bpt>Azure SQL 数据库<ept id="p2">](http://msdn.microsoft.com/zh-cn/library/azure/ee336279)</ept>、<bpt id="p3">[</bpt>Azure Blob 服务<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage)</ept>和 <bpt id="p4">[</bpt>Azure 队列服务<ept id="p4">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern)</ept>。你可以从 MSDN 代码库<bpt id="p5">[</bpt>下载 Visual Studio 项目<ept id="p5">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>。</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>本教程介绍如何生成并本地运行应用程序、如何将其部署到 Azure 并在云中运行，以及最终如何从头构建。您可以从头构建然后进行测试，之后根据您的喜好部署步骤。</source>
          <target state="new">本教程介绍如何生成并本地运行应用程序、如何将其部署到 Azure 并在云中运行，以及最终如何从头构建。您可以从头构建然后进行测试，之后根据您的喜好部署步骤。</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Contoso 广告应用程序</source>
          <target state="new">Contoso 广告应用程序</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>该应用程序是广告公告板。用户通过输入文本和上载图像创建一个广告。它们可以通过缩略图查看一个广告列表，当用户选择广告以查看详细信息时，它们可以查看完整尺寸的图像。</source>
          <target state="new">该应用程序是广告公告板。用户通过输入文本和上载图像创建一个广告。它们可以通过缩略图查看一个广告列表，当用户选择广告以查看详细信息时，它们可以查看完整尺寸的图像。</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>广告列表</source>
          <target state="new">广告列表</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>应用程序使用<bpt id="p1">[</bpt>以队列为中心的工作模式<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern)</ept>来减轻创建缩略图到后端进程的 CPU 密集型工作。</source>
          <target state="new">应用程序使用<bpt id="p1">[</bpt>以队列为中心的工作模式<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern)</ept>来减轻创建缩略图到后端进程的 CPU 密集型工作。</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>替代体系结构： Web 应用和 Web 作业</source>
          <target state="new">替代体系结构： Web 应用和 Web 作业</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>本教程演示如何在 Azure 云服务中运行前端和后端。一种替代方法是在 <bpt id="p1">[</bpt>Azure Web 应用<ept id="p1">](/services/web-sites)</ept>中运行前端，并为后端使用 <bpt id="p2">[</bpt>Web 作业<ept id="p2">](/documentation/articles/websites-webjobs-resources)</ept>功能（目前以预览版提供）。有关如何使用 Web 作业的教程，请参阅 <bpt id="p3">[</bpt>Azure WebJobs SDK 入门<ept id="p3">](/documentation/articles/websites-dotnet-webjobs-sdk-get-started)</ept>。有关如何选择最适合你方案的服务信息，请参阅 <bpt id="p4">[</bpt>Azure Web 应用、云服务和虚拟机的比较<ept id="p4">](/documentation/articles/choose-web-site-cloud-service-vm)</ept>。</source>
          <target state="new">本教程演示如何在 Azure 云服务中运行前端和后端。一种替代方法是在 <bpt id="p1">[</bpt>Azure Web 应用<ept id="p1">](/services/web-sites)</ept>中运行前端，并为后端使用 <bpt id="p2">[</bpt>Web 作业<ept id="p2">](/documentation/articles/websites-webjobs-resources)</ept>功能（目前以预览版提供）。有关如何使用 Web 作业的教程，请参阅 <bpt id="p3">[</bpt>Azure WebJobs SDK 入门<ept id="p3">](/documentation/articles/websites-dotnet-webjobs-sdk-get-started)</ept>。有关如何选择最适合你方案的服务信息，请参阅 <bpt id="p4">[</bpt>Azure Web 应用、云服务和虚拟机的比较<ept id="p4">](/documentation/articles/choose-web-site-cloud-service-vm)</ept>。</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>学习内容</source>
          <target state="new">学习内容</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>如何通过安装 Azure SDK 来让你的计算机可以进行 Azure 开发。</source>
          <target state="new">如何通过安装 Azure SDK 来让你的计算机可以进行 Azure 开发。</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>如何通过 ASP.NET MVC web 角色和辅助角色创建一个 Visual Studio 云服务项目。</source>
          <target state="new">如何通过 ASP.NET MVC web 角色和辅助角色创建一个 Visual Studio 云服务项目。</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>如何使用 Azure 存储仿真程序测试本地云服务项目。</source>
          <target state="new">如何使用 Azure 存储仿真程序测试本地云服务项目。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>如何将云项目发布到 Azure 云服务并使用 Azure 存储帐户测试。</source>
          <target state="new">如何将云项目发布到 Azure 云服务并使用 Azure 存储帐户测试。</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>如何上传文件并将其存储在 Azure Blob 服务中。</source>
          <target state="new">如何上传文件并将其存储在 Azure Blob 服务中。</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>如何将 Azure 队列服务用于各层之间的通信。</source>
          <target state="new">如何将 Azure 队列服务用于各层之间的通信。</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>先决条件</source>
          <target state="new">先决条件</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>本教程假定你了解<bpt id="p1">[</bpt>有关 Azure 云服务的基本概念<ept id="p1">](/documentation/articles/fundamentals-application-models/#CloudServices)</ept>，例如 <bpt id="p2">*</bpt>Web 角色<ept id="p2">*</ept>和<bpt id="p3">*</bpt>辅助角色<ept id="p3">*</ept>术语。此外，还假设你知道如何处理 Visual Studio 中的 <bpt id="p4">[</bpt>ASP.NET MVC<ept id="p4">](http://www.asp.net/mvc/tutorials/mvc-5/introduction/getting-started)</ept> 或 <bpt id="p5">[</bpt>Web 窗体<ept id="p5">](http://www.asp.net/web-forms/tutorials/aspnet-45/getting-started-with-aspnet-45-web-forms/introduction-and-overview)</ept>项目。示例应用程序使用 MVC，但在本教程的大部分也适用于 Web 窗体。</source>
          <target state="new">本教程假定你了解<bpt id="p1">[</bpt>有关 Azure 云服务的基本概念<ept id="p1">](/documentation/articles/fundamentals-application-models/#CloudServices)</ept>，例如 <bpt id="p2">*</bpt>Web 角色<ept id="p2">*</ept>和<bpt id="p3">*</bpt>辅助角色<ept id="p3">*</ept>术语。此外，还假设你知道如何处理 Visual Studio 中的 <bpt id="p4">[</bpt>ASP.NET MVC<ept id="p4">](http://www.asp.net/mvc/tutorials/mvc-5/introduction/getting-started)</ept> 或 <bpt id="p5">[</bpt>Web 窗体<ept id="p5">](http://www.asp.net/web-forms/tutorials/aspnet-45/getting-started-with-aspnet-45-web-forms/introduction-and-overview)</ept>项目。示例应用程序使用 MVC，但在本教程的大部分也适用于 Web 窗体。</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>您可以本地运行该应用程序，无需订阅 Azure，但要将应用程序部署到云则需要订阅。如果你没有帐户，可以<bpt id="p1">[</bpt>注册试用版<ept id="p1">](/pricing/1rmb-trial)</ept>。</source>
          <target state="new">您可以本地运行该应用程序，无需订阅 Azure，但要将应用程序部署到云则需要订阅。如果你没有帐户，可以<bpt id="p1">[</bpt>注册试用版<ept id="p1">](/pricing/1rmb-trial)</ept>。</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>教程说明使用以下产品之一：</source>
          <target state="new">教程说明使用以下产品之一：</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>Visual Studio 2013</source>
          <target state="new">Visual Studio 2013</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>Visual Studio 2015</source>
          <target state="new">Visual Studio 2015</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>上述产品中，只要缺少其中任意一个，安装 Azure SDK 时就将自动安装 Visual Studio 2015。</source>
          <target state="new">上述产品中，只要缺少其中任意一个，安装 Azure SDK 时就将自动安装 Visual Studio 2015。</target>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>应用程序体系结构</source>
          <target state="new">应用程序体系结构</target>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>该应用程序将广告存储在 SQL 数据库中，通过使用实体框架 Code First 创建表和访问数据。对于每个广告，数据库存储两个 URL，一个用于完全尺寸的图像，一个用于缩略图。</source>
          <target state="new">该应用程序将广告存储在 SQL 数据库中，通过使用实体框架 Code First 创建表和访问数据。对于每个广告，数据库存储两个 URL，一个用于完全尺寸的图像，一个用于缩略图。</target>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>广告表</source>
          <target state="new">广告表</target>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>当用户上载一个图像时，Web 角色中运行的前端在 <bpt id="p1">[</bpt>Azure Blob<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage)</ept> 中存储图像，并将广告信息存储在带有指向 Blob 的 URL 的数据库中。同时，它将一条消息写入 Azure 队列。在辅助角色中定期运行的后端进程轮询队列是否有新消息。显示新消息时，辅助角色将创建该图像的缩略图，并为该广告更新缩略图 URL 数据库字段。下图演示了应用程序各部分之间如何交互：</source>
          <target state="new">当用户上载一个图像时，Web 角色中运行的前端在 <bpt id="p1">[</bpt>Azure Blob<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/unstructured-blob-storage)</ept> 中存储图像，并将广告信息存储在带有指向 Blob 的 URL 的数据库中。同时，它将一条消息写入 Azure 队列。在辅助角色中定期运行的后端进程轮询队列是否有新消息。显示新消息时，辅助角色将创建该图像的缩略图，并为该广告更新缩略图 URL 数据库字段。下图演示了应用程序各部分之间如何交互：</target>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>Contoso 广告体系结构</source>
          <target state="new">Contoso 广告体系结构</target>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>下载并运行已完成的解决方案</source>
          <target state="new">下载并运行已完成的解决方案</target>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>下载并解压缩<bpt id="p1">[</bpt>已完成的解决方案<ept id="p1">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>。</source>
          <target state="new">下载并解压缩<bpt id="p1">[</bpt>已完成的解决方案<ept id="p1">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>。</target>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>启动 Visual Studio。</source>
          <target state="new">启动 Visual Studio。</target>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>从“文件”菜单中，选择“打开项目”，导航到下载解决方案的位置，然后打开解决方案文件。</source>
          <target state="new">从“文件”菜单中，选择“打开项目”，导航到下载解决方案的位置，然后打开解决方案文件。</target>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>按 CTRL+SHIFT+B 生成解决方案。</source>
          <target state="new">按 CTRL+SHIFT+B 生成解决方案。</target>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>默认情况下，Visual Studio 会自动还原 NuGet 包的内容，它未包括在 <bpt id="p1">*</bpt>.zip<ept id="p1">*</ept> 文件中。如果包未还原，请通过转到“管理解决方案的 NuGet 包”对话框并单击右上角的“还原”按钮手动安装。</source>
          <target state="new">默认情况下，Visual Studio 会自动还原 NuGet 包的内容，它未包括在 <bpt id="p1">*</bpt>.zip<ept id="p1">*</ept> 文件中。如果包未还原，请通过转到“管理解决方案的 NuGet 包”对话框并单击右上角的“还原”按钮手动安装。</target>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>在“解决方案资源管理器”中，确保 <bpt id="p1">**</bpt>ContosoAdsCloudService<ept id="p1">**</ept> 被选为启动项目。</source>
          <target state="new">在“解决方案资源管理器”中，确保 <bpt id="p1">**</bpt>ContosoAdsCloudService<ept id="p1">**</ept> 被选为启动项目。</target>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>如果你使用 Visual Studio 2015，请在 ContosoAdsWeb 项目的应用程序 <bpt id="p1">*</bpt>Web.config<ept id="p1">*</ept> 文件以及 ContosoAdsCloudService 项目的 <bpt id="p2">*</bpt>ServiceConfiguration.Local.cscfg<ept id="p2">*</ept> 文件中，更改 SQL Server 连接字符串。对于每种情况，请将“(localdb)\\v11.0”更改为“(localdb)\\MSSQLLocalDB”。</source>
          <target state="new">如果你使用 Visual Studio 2015，请在 ContosoAdsWeb 项目的应用程序 <bpt id="p1">*</bpt>Web.config<ept id="p1">*</ept> 文件以及 ContosoAdsCloudService 项目的 <bpt id="p2">*</bpt>ServiceConfiguration.Local.cscfg<ept id="p2">*</ept> 文件中，更改 SQL Server 连接字符串。对于每种情况，请将“(localdb)\\v11.0”更改为“(localdb)\\MSSQLLocalDB”。</target>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>按 Ctrl+F5 运行应用程序。</source>
          <target state="new">按 Ctrl+F5 运行应用程序。</target>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>在本地运行云服务项目时，Visual Studio 会自动调用 Azure <bpt id="p1">*</bpt>计算模拟器<ept id="p1">*</ept>和 Azure <bpt id="p2">*</bpt>存储模拟器<ept id="p2">*</ept>。计算仿真程序使用您的计算机资源，以模拟 web 角色和辅助角色环境。存储模拟器使用 <bpt id="p3">[</bpt>SQL Server Express LocalDB<ept id="p3">](http://msdn.microsoft.com/zh-cn/library/hh510202.aspx)</ept> 数据库模拟 Azure 云存储。</source>
          <target state="new">在本地运行云服务项目时，Visual Studio 会自动调用 Azure <bpt id="p1">*</bpt>计算模拟器<ept id="p1">*</ept>和 Azure <bpt id="p2">*</bpt>存储模拟器<ept id="p2">*</ept>。计算仿真程序使用您的计算机资源，以模拟 web 角色和辅助角色环境。存储模拟器使用 <bpt id="p3">[</bpt>SQL Server Express LocalDB<ept id="p3">](http://msdn.microsoft.com/zh-cn/library/hh510202.aspx)</ept> 数据库模拟 Azure 云存储。</target>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>首次运行云服务项目时，模拟器将会花费大约一分钟来启动。模拟器完成启动后，默认浏览器中会打开应用程序的主页。</source>
          <target state="new">首次运行云服务项目时，模拟器将会花费大约一分钟来启动。模拟器完成启动后，默认浏览器中会打开应用程序的主页。</target>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>Contoso 广告体系结构</source>
          <target state="new">Contoso 广告体系结构</target>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>单击“创建广告”。</source>
          <target state="new">单击“创建广告”。</target>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>输入一些测试数据并选择一个要上载的“.jpg”图像，然后单击“创建”。</source>
          <target state="new">输入一些测试数据并选择一个要上载的“.jpg”图像，然后单击“创建”。</target>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>创建页面</source>
          <target state="new">创建页面</target>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>该应用程序转到索引页，但它不显示新广告的缩略图，因为该处理尚未发生。</source>
          <target state="new">该应用程序转到索引页，但它不显示新广告的缩略图，因为该处理尚未发生。</target>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>稍等片刻，然后刷新该索引页查看缩略图。</source>
          <target state="new">稍等片刻，然后刷新该索引页查看缩略图。</target>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>索引页面</source>
          <target state="new">索引页面</target>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>单击广告的“详细信息”查看实际尺寸的图像。</source>
          <target state="new">单击广告的“详细信息”查看实际尺寸的图像。</target>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>详细信息页</source>
          <target state="new">详细信息页</target>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>你已在本地计算机上完全运行应用程序，但未连接到云。存储模拟器将队列和 Blob 数据存储在 SQL Server Express LocalDB 数据库中，应用程序将广告数据存储在另一个 LocalDB 数据库中。在 Web 应用首次尝试访问它时，实体框架 Code First 自动创建广告数据库。</source>
          <target state="new">你已在本地计算机上完全运行应用程序，但未连接到云。存储模拟器将队列和 Blob 数据存储在 SQL Server Express LocalDB 数据库中，应用程序将广告数据存储在另一个 LocalDB 数据库中。在 Web 应用首次尝试访问它时，实体框架 Code First 自动创建广告数据库。</target>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>下一部分中，你要将解决方案配置为在云中运行时对队列、Blob 和应用程序数据库使用 Azure 云资源。如果想要继续在本地运行但使用云存储和数据库资源，你可以这样做；这只需要设置连接字符串即可。</source>
          <target state="new">下一部分中，你要将解决方案配置为在云中运行时对队列、Blob 和应用程序数据库使用 Azure 云资源。如果想要继续在本地运行但使用云存储和数据库资源，你可以这样做；这只需要设置连接字符串即可。</target>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>将应用程序部署到 Azure</source>
          <target state="new">将应用程序部署到 Azure</target>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>你将执行以下步骤，以便在云中运行应用程序：</source>
          <target state="new">你将执行以下步骤，以便在云中运行应用程序：</target>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>创建 Azure 云服务。</source>
          <target state="new">创建 Azure 云服务。</target>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>创建 Azure SQL 数据库。</source>
          <target state="new">创建 Azure SQL 数据库。</target>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>创建 Azure 存储帐户。</source>
          <target state="new">创建 Azure 存储帐户。</target>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>配置解决方案，以便在 Azure 中运行时使用你的 Azure SQL 数据库。</source>
          <target state="new">配置解决方案，以便在 Azure 中运行时使用你的 Azure SQL 数据库。</target>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>配置解决方案以便在 Azure 中运行时使用你的 Azure 存储帐户。</source>
          <target state="new">配置解决方案以便在 Azure 中运行时使用你的 Azure 存储帐户。</target>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>将项目部署到 Azure 云服务。</source>
          <target state="new">将项目部署到 Azure 云服务。</target>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>创建 Azure 云服务</source>
          <target state="new">创建 Azure 云服务</target>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>Azure 云服务是该应用程序将运行的环境。</source>
          <target state="new">Azure 云服务是该应用程序将运行的环境。</target>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>在浏览器中，打开 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>。</source>
          <target state="new">在浏览器中，打开 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>。</target>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>单击“新建”&gt;“计算”&gt;“云服务”&gt;“快速创建”。</source>
          <target state="new">单击“新建”&gt;“计算”&gt;“云服务”&gt;“快速创建”。</target>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>在 URL 输入框中，输入 URL 前缀。</source>
          <target state="new">在 URL 输入框中，输入 URL 前缀。</target>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>此 URL 必须是唯一的。如果您选择的前缀已被其他人使用，将获得一条错误消息。</source>
          <target state="new">此 URL 必须是唯一的。如果您选择的前缀已被其他人使用，将获得一条错误消息。</target>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>选择您要在其中部署该应用程序的区域。</source>
          <target state="new">选择您要在其中部署该应用程序的区域。</target>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>此字段指定你的云服务将托管在哪个数据中心。对于生产应用程序，你可以选择离客户最近的区域。对于本教程，选择离您最近的区域。</source>
          <target state="new">此字段指定你的云服务将托管在哪个数据中心。对于生产应用程序，你可以选择离客户最近的区域。对于本教程，选择离您最近的区域。</target>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>单击“创建云服务”。</source>
          <target state="new">单击“创建云服务”。</target>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>在下图中，使用 URL contosoads.chinacloudapp.cn 创建一个云服务。</source>
          <target state="new">在下图中，使用 URL contosoads.chinacloudapp.cn 创建一个云服务。</target>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>新的云服务</source>
          <target state="new">新的云服务</target>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>创建 Azure SQL 数据库</source>
          <target state="new">创建 Azure SQL 数据库</target>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>在云中运行应用程序时，它将使用基于云的数据库。</source>
          <target state="new">在云中运行应用程序时，它将使用基于云的数据库。</target>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>在 Azure 经典门户中，单击“新建”&gt;“数据服务”&gt;“SQL 数据库”&gt;“快速创建”。<bpt id="p1">[</bpt><ept id="p1">](http://manage.windowsazure.cn)</ept></source>
          <target state="new">在 Azure 经典门户中，单击“新建”&gt;“数据服务”&gt;“SQL 数据库”&gt;“快速创建”。<bpt id="p1">[</bpt><ept id="p1">](http://manage.windowsazure.cn)</ept></target>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>在“数据库名称”框中，输入 <bpt id="p1">*</bpt>contosoads<ept id="p1">*</ept>。</source>
          <target state="new">在“数据库名称”框中，输入 <bpt id="p1">*</bpt>contosoads<ept id="p1">*</ept>。</target>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>从“服务器”下拉列表中选择“新建 SQL 数据库服务器”。</source>
          <target state="new">从“服务器”下拉列表中选择“新建 SQL 数据库服务器”。</target>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>或者，如果你的订阅已有一台服务器，可从下拉列表中选择该服务器。</source>
          <target state="new">或者，如果你的订阅已有一台服务器，可从下拉列表中选择该服务器。</target>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>选择的<bpt id="p1">**</bpt>区域<ept id="p1">**</ept>与你为云服务所选择的相同。</source>
          <target state="new">选择的<bpt id="p1">**</bpt>区域<ept id="p1">**</ept>与你为云服务所选择的相同。</target>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>当云服务和数据库位于不同的数据中心（不同区域）时，延迟将增加，并且您将支付带宽数据中心之外的费用。数据中心内的带宽是免费的。</source>
          <target state="new">当云服务和数据库位于不同的数据中心（不同区域）时，延迟将增加，并且您将支付带宽数据中心之外的费用。数据中心内的带宽是免费的。</target>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>输入管理员“登录名”和“密码”。</source>
          <target state="new">输入管理员“登录名”和“密码”。</target>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>如果你选择了“新建 SQL 数据库服务器”，则在此处不要输入现有名称和密码。你应输入新的名称和密码，你现在定义的名称和密码将在你以后访问数据库时使用。如果你选择之前创建的服务器，系统将提示你已创建的管理用户帐户的密码。</source>
          <target state="new">如果你选择了“新建 SQL 数据库服务器”，则在此处不要输入现有名称和密码。你应输入新的名称和密码，你现在定义的名称和密码将在你以后访问数据库时使用。如果你选择之前创建的服务器，系统将提示你已创建的管理用户帐户的密码。</target>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>单击“创建 SQL 数据库”。</source>
          <target state="new">单击“创建 SQL 数据库”。</target>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>新 SQL 数据库</source>
          <target state="new">新 SQL 数据库</target>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>Azure 完成创建数据库后，在门户的左窗格中单击“SQL 数据库”选项卡，然后单击新数据库的名称。</source>
          <target state="new">Azure 完成创建数据库后，在门户的左窗格中单击“SQL 数据库”选项卡，然后单击新数据库的名称。</target>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>单击“仪表板”选项卡。</source>
          <target state="new">单击“仪表板”选项卡。</target>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source>单击“管理允许的 IP 地址”。</source>
          <target state="new">单击“管理允许的 IP 地址”。</target>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source>在“允许的服务”下，将“Azure 服务”更改为“是”。</source>
          <target state="new">在“允许的服务”下，将“Azure 服务”更改为“是”。</target>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>单击“保存”。</source>
          <target state="new">单击“保存”。</target>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>创建 Azure 存储帐户</source>
          <target state="new">创建 Azure 存储帐户</target>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>Azure 存储帐户提供在云中存储队列和 Blob 数据的资源。</source>
          <target state="new">Azure 存储帐户提供在云中存储队列和 Blob 数据的资源。</target>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>在实际应用程序中，您通常会为记录数据的应用程序数据创建单独的帐户，并且为生产数据的测试数据创建单独帐户。对于本教程，你将只使用一个帐户。</source>
          <target state="new">在实际应用程序中，您通常会为记录数据的应用程序数据创建单独的帐户，并且为生产数据的测试数据创建单独帐户。对于本教程，你将只使用一个帐户。</target>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>在 Azure 经典门户中，单击“新建”&gt;“数据服务”&gt;“存储”&gt;“快速创建”。<bpt id="p1">[</bpt><ept id="p1">](http://manage.windowsazure.cn)</ept></source>
          <target state="new">在 Azure 经典门户中，单击“新建”&gt;“数据服务”&gt;“存储”&gt;“快速创建”。<bpt id="p1">[</bpt><ept id="p1">](http://manage.windowsazure.cn)</ept></target>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>在“URL”框中，输入 URL 前缀。</source>
          <target state="new">在“URL”框中，输入 URL 前缀。</target>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>此前缀加上在框下看到的文本将是你的存储帐户的唯一 URL。如果其他人已使用您输入的前缀，您必须选择不同的前缀。</source>
          <target state="new">此前缀加上在框下看到的文本将是你的存储帐户的唯一 URL。如果其他人已使用您输入的前缀，您必须选择不同的前缀。</target>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>将“区域”下拉列表设置到为云服务选择的相同区域。</source>
          <target state="new">将“区域”下拉列表设置到为云服务选择的相同区域。</target>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source>当云服务和存储帐户位于不同的数据中心（不同区域）时，延迟将增加，并且你需要为数据中心外的带宽付费。数据中心内的带宽是免费的。</source>
          <target state="new">当云服务和存储帐户位于不同的数据中心（不同区域）时，延迟将增加，并且你需要为数据中心外的带宽付费。数据中心内的带宽是免费的。</target>
        </trans-unit>
        <trans-unit id="201" translate="yes" xml:space="preserve">
          <source>Azure 地缘组实际上是一种机制，目的是最小化数据中心内不同资源之间的距离，这样可以降低延迟。本教程不使用地缘组。有关详细信息，请参阅<bpt id="p1">[</bpt>如何在 Azure 中创建地缘组<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/jj156209.aspx)</ept>。</source>
          <target state="new">Azure 地缘组实际上是一种机制，目的是最小化数据中心内不同资源之间的距离，这样可以降低延迟。本教程不使用地缘组。有关详细信息，请参阅<bpt id="p1">[</bpt>如何在 Azure 中创建地缘组<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/jj156209.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="202" translate="yes" xml:space="preserve">
          <source>将“复制”下拉列表设置为“本地冗余”。</source>
          <target state="new">将“复制”下拉列表设置为“本地冗余”。</target>
        </trans-unit>
        <trans-unit id="203" translate="yes" xml:space="preserve">
          <source>为存储帐户启用地域复制时，会将存储内容复制到辅助数据中心，这样就能够在主要位置发生重大灾难时将故障转移到该位置。地域复制可能会产生额外的成本。对于测试和开发帐户，你通常不希望因为地域复制而付款。有关详细信息，请参阅<bpt id="p1">[</bpt>创建、管理或删除存储帐户<ept id="p1">](/documentation/articles/storage-create-storage-account/#replication-options)</ept>。</source>
          <target state="new">为存储帐户启用地域复制时，会将存储内容复制到辅助数据中心，这样就能够在主要位置发生重大灾难时将故障转移到该位置。地域复制可能会产生额外的成本。对于测试和开发帐户，你通常不希望因为地域复制而付款。有关详细信息，请参阅<bpt id="p1">[</bpt>创建、管理或删除存储帐户<ept id="p1">](/documentation/articles/storage-create-storage-account/#replication-options)</ept>。</target>
        </trans-unit>
        <trans-unit id="204" translate="yes" xml:space="preserve">
          <source>单击“创建存储帐户”。</source>
          <target state="new">单击“创建存储帐户”。</target>
        </trans-unit>
        <trans-unit id="205" translate="yes" xml:space="preserve">
          <source>新的存储帐户</source>
          <target state="new">新的存储帐户</target>
        </trans-unit>
        <trans-unit id="206" translate="yes" xml:space="preserve">
          <source>在图中，使用 URL“<ph id="ph1">`contosoads.core.chinacloudapi.cn`</ph>”创建一个存储帐户。</source>
          <target state="new">在图中，使用 URL“<ph id="ph1">`contosoads.core.chinacloudapi.cn`</ph>”创建一个存储帐户。</target>
        </trans-unit>
        <trans-unit id="207" translate="yes" xml:space="preserve">
          <source>配置解决方案，以便在 Azure 中运行时使用您的 Azure SQL 数据库</source>
          <target state="new">配置解决方案，以便在 Azure 中运行时使用您的 Azure SQL 数据库</target>
        </trans-unit>
        <trans-unit id="208" translate="yes" xml:space="preserve">
          <source>Web 项目和辅助角色项目自身具有数据库连接字符串，并且当应用程序在 Azure 运行时指向 Azure SQL 数据库。</source>
          <target state="new">Web 项目和辅助角色项目自身具有数据库连接字符串，并且当应用程序在 Azure 运行时指向 Azure SQL 数据库。</target>
        </trans-unit>
        <trans-unit id="209" translate="yes" xml:space="preserve">
          <source>你将为 Web 角色使用 <bpt id="p1">[</bpt>Web.config 转换<ept id="p1">](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations)</ept>，为辅助角色使用云服务环境设置。</source>
          <target state="new">你将为 Web 角色使用 <bpt id="p1">[</bpt>Web.config 转换<ept id="p1">](http://www.asp.net/mvc/tutorials/deployment/visual-studio-web-deployment/web-config-transformations)</ept>，为辅助角色使用云服务环境设置。</target>
        </trans-unit>
        <trans-unit id="210" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> 在本部分和下一部分中，你将在项目文件中存储凭据。<bpt id="p1">[</bpt>不要将敏感数据存储在公共源代码存储库中<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control#secrets)</ept>。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> 在本部分和下一部分中，你将在项目文件中存储凭据。<bpt id="p1">[</bpt>不要将敏感数据存储在公共源代码存储库中<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control#secrets)</ept>。</target>
        </trans-unit>
        <trans-unit id="211" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWeb 项目中，为应用程序 <bpt id="p1">*</bpt>Web.config<ept id="p1">*</ept> 文件打开 <bpt id="p2">*</bpt>Web.Release.config<ept id="p2">*</ept> 转换文件，删除包含 <ph id="ph1">`&lt;connectionStrings&gt;`</ph> 元素的注释块，并在其原位置粘贴下面的代码。</source>
          <target state="new">在 ContosoAdsWeb 项目中，为应用程序 <bpt id="p1">*</bpt>Web.config<ept id="p1">*</ept> 文件打开 <bpt id="p2">*</bpt>Web.Release.config<ept id="p2">*</ept> 转换文件，删除包含 <ph id="ph1">`&lt;connectionStrings&gt;`</ph> 元素的注释块，并在其原位置粘贴下面的代码。</target>
        </trans-unit>
        <trans-unit id="212" translate="yes" xml:space="preserve">
          <source>保持文件打开进行编辑。</source>
          <target state="new">保持文件打开进行编辑。</target>
        </trans-unit>
        <trans-unit id="213" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>中，依次单击左窗格中的“SQL 数据库”、你在本教程中创建的数据库、“仪表板”选项卡、“显示连接字符串”。</source>
          <target state="new">在 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>中，依次单击左窗格中的“SQL 数据库”、你在本教程中创建的数据库、“仪表板”选项卡、“显示连接字符串”。</target>
        </trans-unit>
        <trans-unit id="214" translate="yes" xml:space="preserve">
          <source>显示连接字符串</source>
          <target state="new">显示连接字符串</target>
        </trans-unit>
        <trans-unit id="215" translate="yes" xml:space="preserve">
          <source>门户将显示连接字符串，其占位符用于输入密码。</source>
          <target state="new">门户将显示连接字符串，其占位符用于输入密码。</target>
        </trans-unit>
        <trans-unit id="216" translate="yes" xml:space="preserve">
          <source>连接字符串</source>
          <target state="new">连接字符串</target>
        </trans-unit>
        <trans-unit id="217" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>Web.Release.config<ept id="p1">*</ept> 转换文件中，删除 <ph id="ph1">`{connectionstring}`</ph> 并将 Azure 经典门户中的 ADO.NET 连接字符串粘贴在其原位置。</source>
          <target state="new">在 <bpt id="p1">*</bpt>Web.Release.config<ept id="p1">*</ept> 转换文件中，删除 <ph id="ph1">`{connectionstring}`</ph> 并将 Azure 经典门户中的 ADO.NET 连接字符串粘贴在其原位置。</target>
        </trans-unit>
        <trans-unit id="218" translate="yes" xml:space="preserve">
          <source>在粘贴到 <bpt id="p1">*</bpt>Web.Release.config<ept id="p1">*</ept> 转换文件的连接字符串中，请用你为新的 SQL 数据库创建的密码替换 <ph id="ph1">`{your_password_here}`</ph>。</source>
          <target state="new">在粘贴到 <bpt id="p1">*</bpt>Web.Release.config<ept id="p1">*</ept> 转换文件的连接字符串中，请用你为新的 SQL 数据库创建的密码替换 <ph id="ph1">`{your_password_here}`</ph>。</target>
        </trans-unit>
        <trans-unit id="219" translate="yes" xml:space="preserve">
          <source>保存文件。</source>
          <target state="new">保存文件。</target>
        </trans-unit>
        <trans-unit id="220" translate="yes" xml:space="preserve">
          <source>选择并复制连接字符串，供在以下步骤中配置辅助角色项目的使用（不带周围的引号）。</source>
          <target state="new">选择并复制连接字符串，供在以下步骤中配置辅助角色项目的使用（不带周围的引号）。</target>
        </trans-unit>
        <trans-unit id="221" translate="yes" xml:space="preserve">
          <source>在云服务项目的“角色”下的“解决方案资源管理器”中，右键单击“ContosoAdsWorker”并单击“属性”。</source>
          <target state="new">在云服务项目的“角色”下的“解决方案资源管理器”中，右键单击“ContosoAdsWorker”并单击“属性”。</target>
        </trans-unit>
        <trans-unit id="222" translate="yes" xml:space="preserve">
          <source>角色属性</source>
          <target state="new">角色属性</target>
        </trans-unit>
        <trans-unit id="223" translate="yes" xml:space="preserve">
          <source>单击“设置”选项卡。</source>
          <target state="new">单击“设置”选项卡。</target>
        </trans-unit>
        <trans-unit id="224" translate="yes" xml:space="preserve">
          <source>将“服务配置”更改为“云”。</source>
          <target state="new">将“服务配置”更改为“云”。</target>
        </trans-unit>
        <trans-unit id="225" translate="yes" xml:space="preserve">
          <source>选择 <ph id="ph1">`ContosoAdsDbConnectionString`</ph> 设置的“值”字段，然后粘贴你从本教程上一部分复制的连接字符串。</source>
          <target state="new">选择 <ph id="ph1">`ContosoAdsDbConnectionString`</ph> 设置的“值”字段，然后粘贴你从本教程上一部分复制的连接字符串。</target>
        </trans-unit>
        <trans-unit id="226" translate="yes" xml:space="preserve">
          <source>辅助角色的数据库连接字符串</source>
          <target state="new">辅助角色的数据库连接字符串</target>
        </trans-unit>
        <trans-unit id="227" translate="yes" xml:space="preserve">
          <source>保存所做更改。</source>
          <target state="new">保存所做更改。</target>
        </trans-unit>
        <trans-unit id="228" translate="yes" xml:space="preserve">
          <source>配置解决方案以便在 Azure 中运行时使用您的 Azure 存储帐户</source>
          <target state="new">配置解决方案以便在 Azure 中运行时使用您的 Azure 存储帐户</target>
        </trans-unit>
        <trans-unit id="229" translate="yes" xml:space="preserve">
          <source>Web 角色项目和辅助角色项目的 azure 存储帐户连接字符串存储在云服务项目中的环境设置。对于每个项目，应用程序将在本地运行以及在云中运行时，没有使用一组单独的设置。您将更新用于 web 和辅助角色项目的云环境设置。</source>
          <target state="new">Web 角色项目和辅助角色项目的 azure 存储帐户连接字符串存储在云服务项目中的环境设置。对于每个项目，应用程序将在本地运行以及在云中运行时，没有使用一组单独的设置。您将更新用于 web 和辅助角色项目的云环境设置。</target>
        </trans-unit>
        <trans-unit id="230" translate="yes" xml:space="preserve">
          <source>在“解决方案资源管理器”中，右键单击“ContosoAdsCloudService”项目中“角色”下的“ContosoAdsWeb”，然后单击“属性”。</source>
          <target state="new">在“解决方案资源管理器”中，右键单击“ContosoAdsCloudService”项目中“角色”下的“ContosoAdsWeb”，然后单击“属性”。</target>
        </trans-unit>
        <trans-unit id="231" translate="yes" xml:space="preserve">
          <source>角色属性</source>
          <target state="new">角色属性</target>
        </trans-unit>
        <trans-unit id="232" translate="yes" xml:space="preserve">
          <source>单击“设置”选项卡。在“服务配置”下拉列表框中，选择“云”。</source>
          <target state="new">单击“设置”选项卡。在“服务配置”下拉列表框中，选择“云”。</target>
        </trans-unit>
        <trans-unit id="233" translate="yes" xml:space="preserve">
          <source>云配置</source>
          <target state="new">云配置</target>
        </trans-unit>
        <trans-unit id="234" translate="yes" xml:space="preserve">
          <source>选择“StorageConnectionString”条目，你将看到一个省略号 (<bpt id="p1">**</bpt>...<ept id="p1">**</ept>) 按钮，位于行的右端。单击省略号按钮打开“创建存储帐户连接字符串”对话框。</source>
          <target state="new">选择“StorageConnectionString”条目，你将看到一个省略号 (<bpt id="p1">**</bpt>...<ept id="p1">**</ept>) 按钮，位于行的右端。单击省略号按钮打开“创建存储帐户连接字符串”对话框。</target>
        </trans-unit>
        <trans-unit id="235" translate="yes" xml:space="preserve">
          <source>打开连接字符串创建框</source>
          <target state="new">打开连接字符串创建框</target>
        </trans-unit>
        <trans-unit id="236" translate="yes" xml:space="preserve">
          <source>在“创建存储连接字符串”对话框中，单击“使用你的订阅进行连接”，选择你以前创建的存储帐户，然后单击“确定”。如尚未登录，将提示您输入 Azure 帐户凭据。</source>
          <target state="new">在“创建存储连接字符串”对话框中，单击“使用你的订阅进行连接”，选择你以前创建的存储帐户，然后单击“确定”。如尚未登录，将提示您输入 Azure 帐户凭据。</target>
        </trans-unit>
        <trans-unit id="237" translate="yes" xml:space="preserve">
          <source>创建存储连接字符串</source>
          <target state="new">创建存储连接字符串</target>
        </trans-unit>
        <trans-unit id="238" translate="yes" xml:space="preserve">
          <source>保存所做更改。</source>
          <target state="new">保存所做更改。</target>
        </trans-unit>
        <trans-unit id="239" translate="yes" xml:space="preserve">
          <source>按照你所使用的针对 <ph id="ph1">`StorageConnectionString`</ph> 连接字符串的相同过程，设置 <ph id="ph2">`Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString`</ph> 连接字符串。</source>
          <target state="new">按照你所使用的针对 <ph id="ph1">`StorageConnectionString`</ph> 连接字符串的相同过程，设置 <ph id="ph2">`Microsoft.WindowsAzure.Plugins.Diagnostics.ConnectionString`</ph> 连接字符串。</target>
        </trans-unit>
        <trans-unit id="240" translate="yes" xml:space="preserve">
          <source>此连接字符串用于日志记录。</source>
          <target state="new">此连接字符串用于日志记录。</target>
        </trans-unit>
        <trans-unit id="241" translate="yes" xml:space="preserve">
          <source>请按照用于 <bpt id="p1">**</bpt>ContosoAdsWeb<ept id="p1">**</ept> 角色的相同过程为 <bpt id="p2">**</bpt>ContosoAdsWorker<ept id="p2">**</ept> 角色设置两个连接字符串。不要忘记将“服务配置”设置为“云”。</source>
          <target state="new">请按照用于 <bpt id="p1">**</bpt>ContosoAdsWeb<ept id="p1">**</ept> 角色的相同过程为 <bpt id="p2">**</bpt>ContosoAdsWorker<ept id="p2">**</ept> 角色设置两个连接字符串。不要忘记将“服务配置”设置为“云”。</target>
        </trans-unit>
        <trans-unit id="242" translate="yes" xml:space="preserve">
          <source>已使用 Visual Studio 用户界面进行配置的角色环境设置存储在 ContosoAdsCloudService 项目的以下文件中：</source>
          <target state="new">已使用 Visual Studio 用户界面进行配置的角色环境设置存储在 ContosoAdsCloudService 项目的以下文件中：</target>
        </trans-unit>
        <trans-unit id="243" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>ServiceDefinition.csdef<ept id="p1">*</ept> - 定义设置名称。</source>
          <target state="new"><bpt id="p1">*</bpt>ServiceDefinition.csdef<ept id="p1">*</ept> - 定义设置名称。</target>
        </trans-unit>
        <trans-unit id="244" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>ServiceConfiguration.Cloud.cscfg<ept id="p1">*</ept> - 为云中运行的应用提供值。</source>
          <target state="new"><bpt id="p1">*</bpt>ServiceConfiguration.Cloud.cscfg<ept id="p1">*</ept> - 为云中运行的应用提供值。</target>
        </trans-unit>
        <trans-unit id="245" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>ServiceConfiguration.Local.cscfg<ept id="p1">*</ept> - 为本地运行的应用提供值。</source>
          <target state="new"><bpt id="p1">*</bpt>ServiceConfiguration.Local.cscfg<ept id="p1">*</ept> - 为本地运行的应用提供值。</target>
        </trans-unit>
        <trans-unit id="246" translate="yes" xml:space="preserve">
          <source>例如，ServiceDefinition.csdef 包括以下定义：</source>
          <target state="new">例如，ServiceDefinition.csdef 包括以下定义：</target>
        </trans-unit>
        <trans-unit id="247" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>ServiceConfiguration.Cloud.cscfg<ept id="p1">*</ept> 文件包括你为 Visual Studio 中的设置输入的值。</source>
          <target state="new"><bpt id="p1">*</bpt>ServiceConfiguration.Cloud.cscfg<ept id="p1">*</ept> 文件包括你为 Visual Studio 中的设置输入的值。</target>
        </trans-unit>
        <trans-unit id="248" translate="yes" xml:space="preserve">
          <source><ph id="ph1">`&lt;Instances&gt;`</ph> 设置指定 Azure 将在其上运行辅助角色代码的虚拟机的数量。<bpt id="p1">[</bpt>后续步骤<ept id="p1">](#next-steps)</ept>部分包括有关向外缩放云服务的详细信息的链接。</source>
          <target state="new"><ph id="ph1">`&lt;Instances&gt;`</ph> 设置指定 Azure 将在其上运行辅助角色代码的虚拟机的数量。<bpt id="p1">[</bpt>后续步骤<ept id="p1">](#next-steps)</ept>部分包括有关向外缩放云服务的详细信息的链接。</target>
        </trans-unit>
        <trans-unit id="249" translate="yes" xml:space="preserve">
          <source>将项目部署到 Azure</source>
          <target state="new">将项目部署到 Azure</target>
        </trans-unit>
        <trans-unit id="250" translate="yes" xml:space="preserve">
          <source>在“解决方案资源管理器”中，右键单击“ContosoAdsCloudService”云项目并选择“发布”。</source>
          <target state="new">在“解决方案资源管理器”中，右键单击“ContosoAdsCloudService”云项目并选择“发布”。</target>
        </trans-unit>
        <trans-unit id="251" translate="yes" xml:space="preserve">
          <source>发布菜单</source>
          <target state="new">发布菜单</target>
        </trans-unit>
        <trans-unit id="252" translate="yes" xml:space="preserve">
          <source>在“发布 Azure 应用程序”向导的“登录”步骤中，单击“下一步”。</source>
          <target state="new">在“发布 Azure 应用程序”向导的“登录”步骤中，单击“下一步”。</target>
        </trans-unit>
        <trans-unit id="253" translate="yes" xml:space="preserve">
          <source>登录步骤</source>
          <target state="new">登录步骤</target>
        </trans-unit>
        <trans-unit id="254" translate="yes" xml:space="preserve">
          <source>在向导的“设置”步骤中，单击“下一步”。</source>
          <target state="new">在向导的“设置”步骤中，单击“下一步”。</target>
        </trans-unit>
        <trans-unit id="255" translate="yes" xml:space="preserve">
          <source>设置步骤</source>
          <target state="new">设置步骤</target>
        </trans-unit>
        <trans-unit id="256" translate="yes" xml:space="preserve">
          <source>本教程可以使用“高级”选项卡中的默认设置。有关高级选项卡的信息，请参阅<bpt id="p1">[</bpt>发布 Azure 应用程序向导<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/hh535756.aspx)</ept>。</source>
          <target state="new">本教程可以使用“高级”选项卡中的默认设置。有关高级选项卡的信息，请参阅<bpt id="p1">[</bpt>发布 Azure 应用程序向导<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/hh535756.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="257" translate="yes" xml:space="preserve">
          <source>在“摘要”步骤中，单击“发布”。</source>
          <target state="new">在“摘要”步骤中，单击“发布”。</target>
        </trans-unit>
        <trans-unit id="258" translate="yes" xml:space="preserve">
          <source>摘要步骤</source>
          <target state="new">摘要步骤</target>
        </trans-unit>
        <trans-unit id="259" translate="yes" xml:space="preserve">
          <source>“Azure 活动日志”窗口将在 Visual Studio 中打开。</source>
          <target state="new">“Azure 活动日志”窗口将在 Visual Studio 中打开。</target>
        </trans-unit>
        <trans-unit id="260" translate="yes" xml:space="preserve">
          <source>单击右箭头图标以展开部署详细信息。</source>
          <target state="new">单击右箭头图标以展开部署详细信息。</target>
        </trans-unit>
        <trans-unit id="261" translate="yes" xml:space="preserve">
          <source>部署可能需要 5 分钟或更长时间。</source>
          <target state="new">部署可能需要 5 分钟或更长时间。</target>
        </trans-unit>
        <trans-unit id="262" translate="yes" xml:space="preserve">
          <source>Azure 活动日志窗口</source>
          <target state="new">Azure 活动日志窗口</target>
        </trans-unit>
        <trans-unit id="263" translate="yes" xml:space="preserve">
          <source>当部署状态为完成时，单击“Web 应用 URL”以启动应用程序。</source>
          <target state="new">当部署状态为完成时，单击“Web 应用 URL”以启动应用程序。</target>
        </trans-unit>
        <trans-unit id="264" translate="yes" xml:space="preserve">
          <source>就像在本地运行应用程序一样，现在可以通过创建、查看和编辑一些广告测试应用程序。</source>
          <target state="new">就像在本地运行应用程序一样，现在可以通过创建、查看和编辑一些广告测试应用程序。</target>
        </trans-unit>
        <trans-unit id="265" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> 完成测试后，删除或停止云服务。即使你不使用云服务，也会产生费用，因为要为它保留虚拟机资源。如果保持运行云服务，找到你 URL 的任何人都可以创建和查看广告。在 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>中，转到云服务的“仪表板”选项卡，然后单击页面底部的“删除”按钮。如果你只是想要暂时防止其他人访问站点，请单击“停止”。在这种情况下，会继续产生费用。当你不再需要 SQL 数据库和存储帐户时，可以遵循类似的过程将其删除。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> 完成测试后，删除或停止云服务。即使你不使用云服务，也会产生费用，因为要为它保留虚拟机资源。如果保持运行云服务，找到你 URL 的任何人都可以创建和查看广告。在 <bpt id="p1">[</bpt>Azure 经典门户<ept id="p1">](http://manage.windowsazure.cn)</ept>中，转到云服务的“仪表板”选项卡，然后单击页面底部的“删除”按钮。如果你只是想要暂时防止其他人访问站点，请单击“停止”。在这种情况下，会继续产生费用。当你不再需要 SQL 数据库和存储帐户时，可以遵循类似的过程将其删除。</target>
        </trans-unit>
        <trans-unit id="266" translate="yes" xml:space="preserve">
          <source>从头开始创建应用程序</source>
          <target state="new">从头开始创建应用程序</target>
        </trans-unit>
        <trans-unit id="267" translate="yes" xml:space="preserve">
          <source>如果你尚未下载<bpt id="p1">[</bpt>已完成的应用程序<ept id="p1">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>，现在请下载。你要将文件从下载的项目复制到新的项目。</source>
          <target state="new">如果你尚未下载<bpt id="p1">[</bpt>已完成的应用程序<ept id="p1">](http://code.msdn.microsoft.com/Simple-Azure-Cloud-Service-e01df2e4)</ept>，现在请下载。你要将文件从下载的项目复制到新的项目。</target>
        </trans-unit>
        <trans-unit id="268" translate="yes" xml:space="preserve">
          <source>创建 Contoso 广告应用程序涉及以下步骤：</source>
          <target state="new">创建 Contoso 广告应用程序涉及以下步骤：</target>
        </trans-unit>
        <trans-unit id="269" translate="yes" xml:space="preserve">
          <source>创建云服务 Visual Studio 解决方案。</source>
          <target state="new">创建云服务 Visual Studio 解决方案。</target>
        </trans-unit>
        <trans-unit id="270" translate="yes" xml:space="preserve">
          <source>更新和添加 NuGet 包。</source>
          <target state="new">更新和添加 NuGet 包。</target>
        </trans-unit>
        <trans-unit id="271" translate="yes" xml:space="preserve">
          <source>设置项目引用。</source>
          <target state="new">设置项目引用。</target>
        </trans-unit>
        <trans-unit id="272" translate="yes" xml:space="preserve">
          <source>配置连接字符串。</source>
          <target state="new">配置连接字符串。</target>
        </trans-unit>
        <trans-unit id="273" translate="yes" xml:space="preserve">
          <source>添加代码文件。</source>
          <target state="new">添加代码文件。</target>
        </trans-unit>
        <trans-unit id="274" translate="yes" xml:space="preserve">
          <source>创建该解决方案后，你将审核对于云服务项目和 Azure blob 和队列唯一的代码。</source>
          <target state="new">创建该解决方案后，你将审核对于云服务项目和 Azure blob 和队列唯一的代码。</target>
        </trans-unit>
        <trans-unit id="275" translate="yes" xml:space="preserve">
          <source>创建云服务 Visual Studio 解决方案</source>
          <target state="new">创建云服务 Visual Studio 解决方案</target>
        </trans-unit>
        <trans-unit id="276" translate="yes" xml:space="preserve">
          <source>在 Visual Studio 中，从“文件”菜单中选择“新建项目”。</source>
          <target state="new">在 Visual Studio 中，从“文件”菜单中选择“新建项目”。</target>
        </trans-unit>
        <trans-unit id="277" translate="yes" xml:space="preserve">
          <source>在“新建项目”对话框的左窗格中，展开“Visual C#”，选择“云”模板，然后选择“Azure 云服务”模板。</source>
          <target state="new">在“新建项目”对话框的左窗格中，展开“Visual C#”，选择“云”模板，然后选择“Azure 云服务”模板。</target>
        </trans-unit>
        <trans-unit id="278" translate="yes" xml:space="preserve">
          <source>将项目和解决方案命名为 ContosoAdsCloudService，然后单击“确定”。</source>
          <target state="new">将项目和解决方案命名为 ContosoAdsCloudService，然后单击“确定”。</target>
        </trans-unit>
        <trans-unit id="279" translate="yes" xml:space="preserve">
          <source>新建项目</source>
          <target state="new">新建项目</target>
        </trans-unit>
        <trans-unit id="280" translate="yes" xml:space="preserve">
          <source>在“新建 Azure 云服务”对话框中，添加一个 Web 角色和辅助角色。将 web 角色命名为 ContosoAdsWeb，并将辅助角色命名为 ContosoAdsWorker。（使用右侧窗格中的铅笔图标更改这些角色的默认名称。）</source>
          <target state="new">在“新建 Azure 云服务”对话框中，添加一个 Web 角色和辅助角色。将 web 角色命名为 ContosoAdsWeb，并将辅助角色命名为 ContosoAdsWorker。（使用右侧窗格中的铅笔图标更改这些角色的默认名称。）</target>
        </trans-unit>
        <trans-unit id="281" translate="yes" xml:space="preserve">
          <source>新建云服务项目</source>
          <target state="new">新建云服务项目</target>
        </trans-unit>
        <trans-unit id="282" translate="yes" xml:space="preserve">
          <source>看到 Web 角色的“新建 ASP.NET 项目”对话框时，选择 MVC 模板中，然后单击“更改身份验证”。</source>
          <target state="new">看到 Web 角色的“新建 ASP.NET 项目”对话框时，选择 MVC 模板中，然后单击“更改身份验证”。</target>
        </trans-unit>
        <trans-unit id="283" translate="yes" xml:space="preserve">
          <source>更改身份验证</source>
          <target state="new">更改身份验证</target>
        </trans-unit>
        <trans-unit id="284" translate="yes" xml:space="preserve">
          <source>在“更改身份验证”对话框中，选择“无身份验证”，然后单击“确定”。</source>
          <target state="new">在“更改身份验证”对话框中，选择“无身份验证”，然后单击“确定”。</target>
        </trans-unit>
        <trans-unit id="285" translate="yes" xml:space="preserve">
          <source>无身份验证</source>
          <target state="new">无身份验证</target>
        </trans-unit>
        <trans-unit id="286" translate="yes" xml:space="preserve">
          <source>在“新建 ASP.NET 项目”对话框中，单击“确定”。</source>
          <target state="new">在“新建 ASP.NET 项目”对话框中，单击“确定”。</target>
        </trans-unit>
        <trans-unit id="287" translate="yes" xml:space="preserve">
          <source>在“解决方案资源管理器”中，右键单击该解决方案（而不是其中某个项目），然后选择“添加 - 新建项目”。</source>
          <target state="new">在“解决方案资源管理器”中，右键单击该解决方案（而不是其中某个项目），然后选择“添加 - 新建项目”。</target>
        </trans-unit>
        <trans-unit id="288" translate="yes" xml:space="preserve">
          <source>在“添加新项目”对话框中，选择左窗格中“Visual C#”下面的“Windows”，然后单击“类库”模板。</source>
          <target state="new">在“添加新项目”对话框中，选择左窗格中“Visual C#”下面的“Windows”，然后单击“类库”模板。</target>
        </trans-unit>
        <trans-unit id="289" translate="yes" xml:space="preserve">
          <source>将项目命名为 <bpt id="p1">*</bpt>ContosoAdsCommon<ept id="p1">*</ept>，然后单击“确定”。</source>
          <target state="new">将项目命名为 <bpt id="p1">*</bpt>ContosoAdsCommon<ept id="p1">*</ept>，然后单击“确定”。</target>
        </trans-unit>
        <trans-unit id="290" translate="yes" xml:space="preserve">
          <source>您需要从 web 和辅助角色项目引用实体框架上下文和数据模型。作为一种替代方法，您可以在 web 角色项目中定义与 EF 相关的类，并从辅助角色项目中引用该项目。但是，之后你的辅助角色项目将引用它不需要的 Web 程序集。</source>
          <target state="new">您需要从 web 和辅助角色项目引用实体框架上下文和数据模型。作为一种替代方法，您可以在 web 角色项目中定义与 EF 相关的类，并从辅助角色项目中引用该项目。但是，之后你的辅助角色项目将引用它不需要的 Web 程序集。</target>
        </trans-unit>
        <trans-unit id="291" translate="yes" xml:space="preserve">
          <source>更新和添加 NuGet 包</source>
          <target state="new">更新和添加 NuGet 包</target>
        </trans-unit>
        <trans-unit id="292" translate="yes" xml:space="preserve">
          <source>打开解决方案的“管理 NuGet 包”对话框。</source>
          <target state="new">打开解决方案的“管理 NuGet 包”对话框。</target>
        </trans-unit>
        <trans-unit id="293" translate="yes" xml:space="preserve">
          <source>在窗口顶部，选择“更新”。</source>
          <target state="new">在窗口顶部，选择“更新”。</target>
        </trans-unit>
        <trans-unit id="294" translate="yes" xml:space="preserve">
          <source>查找 <bpt id="p1">*</bpt>WindowsAzure.Storage<ept id="p1">*</ept> 包，如果它在列表中，请选择它并选择要在其中更新它的 Web 项目和辅助项目，然后单击“更新”。</source>
          <target state="new">查找 <bpt id="p1">*</bpt>WindowsAzure.Storage<ept id="p1">*</ept> 包，如果它在列表中，请选择它并选择要在其中更新它的 Web 项目和辅助项目，然后单击“更新”。</target>
        </trans-unit>
        <trans-unit id="295" translate="yes" xml:space="preserve">
          <source>存储客户端库更新频率高于 Visual Studio 项目模板，因此您通常会发现该版本中新创建的计划需求需要更新。</source>
          <target state="new">存储客户端库更新频率高于 Visual Studio 项目模板，因此您通常会发现该版本中新创建的计划需求需要更新。</target>
        </trans-unit>
        <trans-unit id="296" translate="yes" xml:space="preserve">
          <source>在窗口顶部，选择“浏览”。</source>
          <target state="new">在窗口顶部，选择“浏览”。</target>
        </trans-unit>
        <trans-unit id="297" translate="yes" xml:space="preserve">
          <source>找到 <bpt id="p1">*</bpt>EntityFramework<ept id="p1">*</ept> NuGet 包，并将其安装在所有三个项目中。</source>
          <target state="new">找到 <bpt id="p1">*</bpt>EntityFramework<ept id="p1">*</ept> NuGet 包，并将其安装在所有三个项目中。</target>
        </trans-unit>
        <trans-unit id="298" translate="yes" xml:space="preserve">
          <source>查找 <bpt id="p1">*</bpt>Microsoft.WindowsAzure.ConfigurationManager<ept id="p1">*</ept> NuGet 包，然后将它安装在辅助角色项目中。</source>
          <target state="new">查找 <bpt id="p1">*</bpt>Microsoft.WindowsAzure.ConfigurationManager<ept id="p1">*</ept> NuGet 包，然后将它安装在辅助角色项目中。</target>
        </trans-unit>
        <trans-unit id="299" translate="yes" xml:space="preserve">
          <source>设置项目引用</source>
          <target state="new">设置项目引用</target>
        </trans-unit>
        <trans-unit id="300" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWeb 项目中，设置对 ContosoAdsCommon 项目的引用。右键单击 ContosoAdsWeb 项目中，然后单击“引用”&gt;“添加引用”。在“引用管理器”对话框中，选择左窗格中的“解决方案 - 项目”，选择 <bpt id="p1">**</bpt>ContosoAdsCommon<ept id="p1">**</ept>，然后单击“确定”。</source>
          <target state="new">在 ContosoAdsWeb 项目中，设置对 ContosoAdsCommon 项目的引用。右键单击 ContosoAdsWeb 项目中，然后单击“引用”&gt;“添加引用”。在“引用管理器”对话框中，选择左窗格中的“解决方案 - 项目”，选择 <bpt id="p1">**</bpt>ContosoAdsCommon<ept id="p1">**</ept>，然后单击“确定”。</target>
        </trans-unit>
        <trans-unit id="301" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWorker 项目中，设置对 ContosoAdsCommon 项目的引用。</source>
          <target state="new">在 ContosoAdsWorker 项目中，设置对 ContosoAdsCommon 项目的引用。</target>
        </trans-unit>
        <trans-unit id="302" translate="yes" xml:space="preserve">
          <source>ContosoAdsCommon 将包含实体框架数据模型和上下文类，将在前端和后端使用。</source>
          <target state="new">ContosoAdsCommon 将包含实体框架数据模型和上下文类，将在前端和后端使用。</target>
        </trans-unit>
        <trans-unit id="303" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWorker 项目中，设置对 <ph id="ph1">`System.Drawing`</ph> 的引用。</source>
          <target state="new">在 ContosoAdsWorker 项目中，设置对 <ph id="ph1">`System.Drawing`</ph> 的引用。</target>
        </trans-unit>
        <trans-unit id="304" translate="yes" xml:space="preserve">
          <source>后端使用此程序集将图像转换为缩略图。</source>
          <target state="new">后端使用此程序集将图像转换为缩略图。</target>
        </trans-unit>
        <trans-unit id="305" translate="yes" xml:space="preserve">
          <source>配置连接字符串</source>
          <target state="new">配置连接字符串</target>
        </trans-unit>
        <trans-unit id="306" translate="yes" xml:space="preserve">
          <source>在本部分中，您将为本地测试配置 Azure 存储和 SQL 连接字符串。本教程前面的部署说明解释如何当应用程序在云中运行时设置连接字符串。</source>
          <target state="new">在本部分中，您将为本地测试配置 Azure 存储和 SQL 连接字符串。本教程前面的部署说明解释如何当应用程序在云中运行时设置连接字符串。</target>
        </trans-unit>
        <trans-unit id="307" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWeb 项目中，打开应用程序 Web.config 文件，并在 <ph id="ph1">`configSections`</ph> 元素后面插入以下 <ph id="ph2">`connectionStrings`</ph> 元素。</source>
          <target state="new">在 ContosoAdsWeb 项目中，打开应用程序 Web.config 文件，并在 <ph id="ph1">`configSections`</ph> 元素后面插入以下 <ph id="ph2">`connectionStrings`</ph> 元素。</target>
        </trans-unit>
        <trans-unit id="308" translate="yes" xml:space="preserve">
          <source>如果你使用的是 Visual Studio 2015，请将“v11.0”替换为“MSSQLLocalDB”。</source>
          <target state="new">如果你使用的是 Visual Studio 2015，请将“v11.0”替换为“MSSQLLocalDB”。</target>
        </trans-unit>
        <trans-unit id="309" translate="yes" xml:space="preserve">
          <source>保存所做更改。</source>
          <target state="new">保存所做更改。</target>
        </trans-unit>
        <trans-unit id="310" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsCloudService 项目中，右键单击“角色”下的 ContosoAdsWeb，然后单击“属性”。</source>
          <target state="new">在 ContosoAdsCloudService 项目中，右键单击“角色”下的 ContosoAdsWeb，然后单击“属性”。</target>
        </trans-unit>
        <trans-unit id="311" translate="yes" xml:space="preserve">
          <source>角色属性</source>
          <target state="new">角色属性</target>
        </trans-unit>
        <trans-unit id="312" translate="yes" xml:space="preserve">
          <source>在“ContosAdsWeb 角色”属性窗口中，单击“设置”选项卡，然后单击“添加设置”。</source>
          <target state="new">在“ContosAdsWeb 角色”属性窗口中，单击“设置”选项卡，然后单击“添加设置”。</target>
        </trans-unit>
        <trans-unit id="313" translate="yes" xml:space="preserve">
          <source>将“服务配置”保留设置为“所有配置”。</source>
          <target state="new">将“服务配置”保留设置为“所有配置”。</target>
        </trans-unit>
        <trans-unit id="314" translate="yes" xml:space="preserve">
          <source>添加名为 <bpt id="p1">*</bpt>StorageConnectionString<ept id="p1">*</ept> 的新设置。将“类型”设置为“ConnectionString”，并将“值”设置为“UseDevelopmentStorage=true”。</source>
          <target state="new">添加名为 <bpt id="p1">*</bpt>StorageConnectionString<ept id="p1">*</ept> 的新设置。将“类型”设置为“ConnectionString”，并将“值”设置为“UseDevelopmentStorage=true”。</target>
        </trans-unit>
        <trans-unit id="315" translate="yes" xml:space="preserve">
          <source>新连接字符串</source>
          <target state="new">新连接字符串</target>
        </trans-unit>
        <trans-unit id="316" translate="yes" xml:space="preserve">
          <source>保存所做更改。</source>
          <target state="new">保存所做更改。</target>
        </trans-unit>
        <trans-unit id="317" translate="yes" xml:space="preserve">
          <source>按照相同的过程在 ContosoAdsWorker 角色属性中添加存储连接字符串。</source>
          <target state="new">按照相同的过程在 ContosoAdsWorker 角色属性中添加存储连接字符串。</target>
        </trans-unit>
        <trans-unit id="318" translate="yes" xml:space="preserve">
          <source>还是在“ContosoAdsWorker [角色]”属性窗口中，添加另一个连接字符串：</source>
          <target state="new">还是在“ContosoAdsWorker [角色]”属性窗口中，添加另一个连接字符串：</target>
        </trans-unit>
        <trans-unit id="319" translate="yes" xml:space="preserve">
          <source>名称：ContosoAdsDbConnectionString</source>
          <target state="new">名称：ContosoAdsDbConnectionString</target>
        </trans-unit>
        <trans-unit id="320" translate="yes" xml:space="preserve">
          <source>类型：字符串</source>
          <target state="new">类型：字符串</target>
        </trans-unit>
        <trans-unit id="321" translate="yes" xml:space="preserve">
          <source>值：粘贴用于 Web 角色项目的相同连接字符串。（以下示例适用于 Visual Studio 2013；如果你使用 Visual Studio 2015 并想要复制此示例，请记得更改数据源。）</source>
          <target state="new">值：粘贴用于 Web 角色项目的相同连接字符串。（以下示例适用于 Visual Studio 2013；如果你使用 Visual Studio 2015 并想要复制此示例，请记得更改数据源。）</target>
        </trans-unit>
        <trans-unit id="322" translate="yes" xml:space="preserve">
          <source>添加代码文件</source>
          <target state="new">添加代码文件</target>
        </trans-unit>
        <trans-unit id="323" translate="yes" xml:space="preserve">
          <source>本部分中，您将代码将文件从已下载的解决方案复制到新的解决方案。以下各节将显示并解释此代码的关键部分。</source>
          <target state="new">本部分中，您将代码将文件从已下载的解决方案复制到新的解决方案。以下各节将显示并解释此代码的关键部分。</target>
        </trans-unit>
        <trans-unit id="324" translate="yes" xml:space="preserve">
          <source>要将文件添加到某个项目或文件夹，请右键单击该项目或文件夹，然后单击“添加”&gt;“现有项”。选择所需的文件，然后单击“添加”。如果询问你是否想要替换现有文件，请单击“是”。</source>
          <target state="new">要将文件添加到某个项目或文件夹，请右键单击该项目或文件夹，然后单击“添加”&gt;“现有项”。选择所需的文件，然后单击“添加”。如果询问你是否想要替换现有文件，请单击“是”。</target>
        </trans-unit>
        <trans-unit id="325" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsCommon 项目中，删除 <bpt id="p1">*</bpt>Class1.cs<ept id="p1">*</ept> 文件，并在其原位置添加来自下载项目的 <bpt id="p2">*</bpt>Ad.cs<ept id="p2">*</ept> 和 <bpt id="p3">*</bpt>ContosoAdscontext.cs<ept id="p3">*</ept> 文件。</source>
          <target state="new">在 ContosoAdsCommon 项目中，删除 <bpt id="p1">*</bpt>Class1.cs<ept id="p1">*</ept> 文件，并在其原位置添加来自下载项目的 <bpt id="p2">*</bpt>Ad.cs<ept id="p2">*</ept> 和 <bpt id="p3">*</bpt>ContosoAdscontext.cs<ept id="p3">*</ept> 文件。</target>
        </trans-unit>
        <trans-unit id="326" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWeb 项目中，从下载的项目添加以下文件。</source>
          <target state="new">在 ContosoAdsWeb 项目中，从下载的项目添加以下文件。</target>
        </trans-unit>
        <trans-unit id="327" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>Global.asax.cs<ept id="p1">*</ept>。</source>
          <target state="new"><bpt id="p1">*</bpt>Global.asax.cs<ept id="p1">*</ept>。</target>
        </trans-unit>
        <trans-unit id="328" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>Views/Shared<ept id="p1">*</ept> 文件夹中：<ph id="ph1">&lt;em&gt;</ph>\_Layout.cshtml<ph id="ph2">&lt;/em&gt;</ph>。</source>
          <target state="new">在 <bpt id="p1">*</bpt>Views/Shared<ept id="p1">*</ept> 文件夹中：<ph id="ph1">&lt;em&gt;</ph>\_Layout.cshtml<ph id="ph2">&lt;/em&gt;</ph>。</target>
        </trans-unit>
        <trans-unit id="329" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>Views/Home<ept id="p1">*</ept> 文件夹中：<bpt id="p2">*</bpt>Index.cshtml<ept id="p2">*</ept>。</source>
          <target state="new">在 <bpt id="p1">*</bpt>Views/Home<ept id="p1">*</ept> 文件夹中：<bpt id="p2">*</bpt>Index.cshtml<ept id="p2">*</ept>。</target>
        </trans-unit>
        <trans-unit id="330" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>Controllers<ept id="p1">*</ept> 文件夹中：<bpt id="p2">*</bpt>AdController.cs<ept id="p2">*</ept>。</source>
          <target state="new">在 <bpt id="p1">*</bpt>Controllers<ept id="p1">*</ept> 文件夹中：<bpt id="p2">*</bpt>AdController.cs<ept id="p2">*</ept>。</target>
        </trans-unit>
        <trans-unit id="331" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>Views/Ad<ept id="p1">*</ept> 文件夹（首先创建该文件夹）中：五个 <bpt id="p2">*</bpt>.cshtml<ept id="p2">*</ept> 文件。</source>
          <target state="new">在 <bpt id="p1">*</bpt>Views/Ad<ept id="p1">*</ept> 文件夹（首先创建该文件夹）中：五个 <bpt id="p2">*</bpt>.cshtml<ept id="p2">*</ept> 文件。</target>
        </trans-unit>
        <trans-unit id="332" translate="yes" xml:space="preserve">
          <source>在 ContosoAdsWorker 项目中，从下载的项目添加 <bpt id="p1">*</bpt>WorkerRole.cs<ept id="p1">*</ept>。</source>
          <target state="new">在 ContosoAdsWorker 项目中，从下载的项目添加 <bpt id="p1">*</bpt>WorkerRole.cs<ept id="p1">*</ept>。</target>
        </trans-unit>
        <trans-unit id="333" translate="yes" xml:space="preserve">
          <source>现在，可以按照前面教程中的说明生成并运行该应用程序，并且该应用程序将使用本地数据库和存储仿真程序资源。</source>
          <target state="new">现在，可以按照前面教程中的说明生成并运行该应用程序，并且该应用程序将使用本地数据库和存储仿真程序资源。</target>
        </trans-unit>
        <trans-unit id="334" translate="yes" xml:space="preserve">
          <source>以下部分介绍与使用 Azure 环境、Blob 和队列相关的代码。本教程未说明如何使用基架创建 MVC 控制器和视图，如何编写适用于 SQL Server 数据库的实体框架代码，或者在 ASP.NET 4.5 中的异步编程基础知识。有关这些主题的信息，请参阅以下资源：</source>
          <target state="new">以下部分介绍与使用 Azure 环境、Blob 和队列相关的代码。本教程未说明如何使用基架创建 MVC 控制器和视图，如何编写适用于 SQL Server 数据库的实体框架代码，或者在 ASP.NET 4.5 中的异步编程基础知识。有关这些主题的信息，请参阅以下资源：</target>
        </trans-unit>
        <trans-unit id="335" translate="yes" xml:space="preserve">
          <source>MVC 5 入门</source>
          <target state="new">MVC 5 入门</target>
        </trans-unit>
        <trans-unit id="336" translate="yes" xml:space="preserve">
          <source>EF 6 和 MVC 5 入门</source>
          <target state="new">EF 6 和 MVC 5 入门</target>
        </trans-unit>
        <trans-unit id="337" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>.NET 4.5 中的异步编程简介<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/web-development-best-practices#async)</ept>。</source>
          <target state="new"><bpt id="p1">[</bpt>.NET 4.5 中的异步编程简介<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/web-development-best-practices#async)</ept>。</target>
        </trans-unit>
        <trans-unit id="338" translate="yes" xml:space="preserve">
          <source>ContosoAdsCommon - Ad.cs</source>
          <target state="new">ContosoAdsCommon - Ad.cs</target>
        </trans-unit>
        <trans-unit id="339" translate="yes" xml:space="preserve">
          <source>Ad.cs 文件为 ad 类别定义一个枚举，为 ad 信息定义一个 POCO 实体类。</source>
          <target state="new">Ad.cs 文件为 ad 类别定义一个枚举，为 ad 信息定义一个 POCO 实体类。</target>
        </trans-unit>
        <trans-unit id="340" translate="yes" xml:space="preserve">
          <source>ContosoAdsCommon - ContosoAdsContext.cs</source>
          <target state="new">ContosoAdsCommon - ContosoAdsContext.cs</target>
        </trans-unit>
        <trans-unit id="341" translate="yes" xml:space="preserve">
          <source>ContosoAdsContext 类指定 DbSet 集合中使用的 Ad 类，实体框架将存储在 SQL 数据库中。</source>
          <target state="new">ContosoAdsContext 类指定 DbSet 集合中使用的 Ad 类，实体框架将存储在 SQL 数据库中。</target>
        </trans-unit>
        <trans-unit id="342" translate="yes" xml:space="preserve">
          <source>类具有两个构造函数。其中第一个由 web 项目使用，并指定存储在 Web.config 文件中的连接字符串的名称。第二个构造函数允许你在实际的连接字符串中传递。程序需要辅助角色项目，因为它没有 Web.config 文件。你以前看到存储此连接字符串的位置，并且稍后你将看到连接字符串在实例化 DbContext 类时代码如何检索它。</source>
          <target state="new">类具有两个构造函数。其中第一个由 web 项目使用，并指定存储在 Web.config 文件中的连接字符串的名称。第二个构造函数允许你在实际的连接字符串中传递。程序需要辅助角色项目，因为它没有 Web.config 文件。你以前看到存储此连接字符串的位置，并且稍后你将看到连接字符串在实例化 DbContext 类时代码如何检索它。</target>
        </trans-unit>
        <trans-unit id="343" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - Global.asax.cs</source>
          <target state="new">ContosoAdsWeb - Global.asax.cs</target>
        </trans-unit>
        <trans-unit id="344" translate="yes" xml:space="preserve">
          <source>从 <ph id="ph1">`Application_Start`</ph> 方法调用的代码创建<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器和<bpt id="p2">*</bpt>图像<ept id="p2">*</ept>队列（如果它们尚不存在）。这确保只要您开始使用新的存储帐户，或在新计算机上开始使用存储仿真程序时，将自动创建所需的 Blob 容器和队列。</source>
          <target state="new">从 <ph id="ph1">`Application_Start`</ph> 方法调用的代码创建<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器和<bpt id="p2">*</bpt>图像<ept id="p2">*</ept>队列（如果它们尚不存在）。这确保只要您开始使用新的存储帐户，或在新计算机上开始使用存储仿真程序时，将自动创建所需的 Blob 容器和队列。</target>
        </trans-unit>
        <trans-unit id="345" translate="yes" xml:space="preserve">
          <source>此代码通过使用来自 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件的存储连接字符串获取存储帐户的访问权限。</source>
          <target state="new">此代码通过使用来自 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件的存储连接字符串获取存储帐户的访问权限。</target>
        </trans-unit>
        <trans-unit id="346" translate="yes" xml:space="preserve">
          <source>然后，它获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器的引用，创建尚不存在的容器，并在新容器上设置访问权限。默认情况下，新容器只允许带存储帐户凭据的客户端访问 Blob。 Web 应用需要 Blob 是公共的，以便它可以使用指向图像 Blob 的 Url 显示图像。</source>
          <target state="new">然后，它获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器的引用，创建尚不存在的容器，并在新容器上设置访问权限。默认情况下，新容器只允许带存储帐户凭据的客户端访问 Blob。 Web 应用需要 Blob 是公共的，以便它可以使用指向图像 Blob 的 Url 显示图像。</target>
        </trans-unit>
        <trans-unit id="347" translate="yes" xml:space="preserve">
          <source>类似代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept>队列的引用并创建一个新队列。这种情况不需要权限更改。</source>
          <target state="new">类似代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept>队列的引用并创建一个新队列。这种情况不需要权限更改。</target>
        </trans-unit>
        <trans-unit id="348" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - \_Layout.cshtml</source>
          <target state="new">ContosoAdsWeb - \_Layout.cshtml</target>
        </trans-unit>
        <trans-unit id="349" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>\_Layout.cshtml<ept id="p1">*</ept> 文件设置页眉和页脚中的应用程序，并创建“广告”菜单项。</source>
          <target state="new"><bpt id="p1">*</bpt>\_Layout.cshtml<ept id="p1">*</ept> 文件设置页眉和页脚中的应用程序，并创建“广告”菜单项。</target>
        </trans-unit>
        <trans-unit id="350" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - Views\\Home\\Index.cshtml</source>
          <target state="new">ContosoAdsWeb - Views\\Home\\Index.cshtml</target>
        </trans-unit>
        <trans-unit id="351" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>Views\\Home\\Index.cshtml<ept id="p1">*</ept> 文件在主页上显示类别链接。链接将查询字符串变量中的 <ph id="ph1">`Category`</ph> 枚举的整数值传递到“广告索引”页面。</source>
          <target state="new"><bpt id="p1">*</bpt>Views\\Home\\Index.cshtml<ept id="p1">*</ept> 文件在主页上显示类别链接。链接将查询字符串变量中的 <ph id="ph1">`Category`</ph> 枚举的整数值传递到“广告索引”页面。</target>
        </trans-unit>
        <trans-unit id="352" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - AdController.cs</source>
          <target state="new">ContosoAdsWeb - AdController.cs</target>
        </trans-unit>
        <trans-unit id="353" translate="yes" xml:space="preserve">
          <source>在 <bpt id="p1">*</bpt>AdController.cs<ept id="p1">*</ept> 文件中，构造函数调用 <ph id="ph1">`InitializeStorage`</ph> 方法来创建 Azure 存储客户端库对象，它提供一个用于处理 Blob 和队列的 API。</source>
          <target state="new">在 <bpt id="p1">*</bpt>AdController.cs<ept id="p1">*</ept> 文件中，构造函数调用 <ph id="ph1">`InitializeStorage`</ph> 方法来创建 Azure 存储客户端库对象，它提供一个用于处理 Blob 和队列的 API。</target>
        </trans-unit>
        <trans-unit id="354" translate="yes" xml:space="preserve">
          <source>然后，代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器的引用，正如你之前在 <bpt id="p2">*</bpt>Global.asax.cs<ept id="p2">*</ept> 中看到的。在执行该操作时，它设置适用于 Web 应用程序的默认<bpt id="p3">[</bpt>重试策略<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling)</ept>。对于超过暂时性故障反复重试超过一分钟的 Web 应用程序，默认指数回退重试策略将其可能挂起。此处指定的重试策略将在每次尝试后等待 3 秒，最多可尝试 3 次。</source>
          <target state="new">然后，代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept> Blob 容器的引用，正如你之前在 <bpt id="p2">*</bpt>Global.asax.cs<ept id="p2">*</ept> 中看到的。在执行该操作时，它设置适用于 Web 应用程序的默认<bpt id="p3">[</bpt>重试策略<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/transient-fault-handling)</ept>。对于超过暂时性故障反复重试超过一分钟的 Web 应用程序，默认指数回退重试策略将其可能挂起。此处指定的重试策略将在每次尝试后等待 3 秒，最多可尝试 3 次。</target>
        </trans-unit>
        <trans-unit id="355" translate="yes" xml:space="preserve">
          <source>类似代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept>队列的引用。</source>
          <target state="new">类似代码获取对<bpt id="p1">*</bpt>图像<ept id="p1">*</ept>队列的引用。</target>
        </trans-unit>
        <trans-unit id="356" translate="yes" xml:space="preserve">
          <source>大部分控制器代码通常用于使用 DbContext 类的实体框架数据模型。例外情况是 HttpPost <ph id="ph1">`Create`</ph> 方法，它上载文件并将其保存在 Blob 存储中。模型联编程序为该方法提供一个 <bpt id="p1">[</bpt>HttpPostedFileBase<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/system.web.httppostedfilebase.aspx)</ept> 对象。</source>
          <target state="new">大部分控制器代码通常用于使用 DbContext 类的实体框架数据模型。例外情况是 HttpPost <ph id="ph1">`Create`</ph> 方法，它上载文件并将其保存在 Blob 存储中。模型联编程序为该方法提供一个 <bpt id="p1">[</bpt>HttpPostedFileBase<ept id="p1">](http://msdn.microsoft.com/zh-cn/library/system.web.httppostedfilebase.aspx)</ept> 对象。</target>
        </trans-unit>
        <trans-unit id="357" translate="yes" xml:space="preserve">
          <source>如果用户选择要上载的文件，则代码上载该文件，将其保存在 Blob 中，并使用指向 Blob 的 URL 更新广告数据库记录。</source>
          <target state="new">如果用户选择要上载的文件，则代码上载该文件，将其保存在 Blob 中，并使用指向 Blob 的 URL 更新广告数据库记录。</target>
        </trans-unit>
        <trans-unit id="358" translate="yes" xml:space="preserve">
          <source>执行上载的代码位于 <ph id="ph1">`UploadAndSaveBlobAsync`</ph> 方法中。它将创建 Blob 的 GUID 名称，上载和保存该文件，并将引用返回已保存的 Blob。</source>
          <target state="new">执行上载的代码位于 <ph id="ph1">`UploadAndSaveBlobAsync`</ph> 方法中。它将创建 Blob 的 GUID 名称，上载和保存该文件，并将引用返回已保存的 Blob。</target>
        </trans-unit>
        <trans-unit id="359" translate="yes" xml:space="preserve">
          <source>之后 HttpPost <ph id="ph1">`Create`</ph> 方法上载 Blob 并更新数据库，它会创建队列消息，以通知后端进程图像已准备好转换为一个缩略图。</source>
          <target state="new">之后 HttpPost <ph id="ph1">`Create`</ph> 方法上载 Blob 并更新数据库，它会创建队列消息，以通知后端进程图像已准备好转换为一个缩略图。</target>
        </trans-unit>
        <trans-unit id="360" translate="yes" xml:space="preserve">
          <source>HttpPost <ph id="ph1">`Edit`</ph> 方法的代码和它类似，不同之处在于如果用户选择新图像文件，则必须删除已存在的任何 blob。</source>
          <target state="new">HttpPost <ph id="ph1">`Edit`</ph> 方法的代码和它类似，不同之处在于如果用户选择新图像文件，则必须删除已存在的任何 blob。</target>
        </trans-unit>
        <trans-unit id="361" translate="yes" xml:space="preserve">
          <source>以下示例演示了当你删除广告时删除 Blob 的代码：</source>
          <target state="new">以下示例演示了当你删除广告时删除 Blob 的代码：</target>
        </trans-unit>
        <trans-unit id="362" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - Views\\Ad\\Index.cshtml 和 Details.cshtml</source>
          <target state="new">ContosoAdsWeb - Views\\Ad\\Index.cshtml 和 Details.cshtml</target>
        </trans-unit>
        <trans-unit id="363" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>Index.cshtml<ept id="p1">*</ept> 文件显示带有其他广告数据的缩略图。</source>
          <target state="new"><bpt id="p1">*</bpt>Index.cshtml<ept id="p1">*</ept> 文件显示带有其他广告数据的缩略图。</target>
        </trans-unit>
        <trans-unit id="364" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>Details.cshtml<ept id="p1">*</ept> 文件显示完全尺寸的图像。</source>
          <target state="new"><bpt id="p1">*</bpt>Details.cshtml<ept id="p1">*</ept> 文件显示完全尺寸的图像。</target>
        </trans-unit>
        <trans-unit id="365" translate="yes" xml:space="preserve">
          <source>ContosoAdsWeb - Views\\Ad\\Create.cshtml 和 Edit.cshtml</source>
          <target state="new">ContosoAdsWeb - Views\\Ad\\Create.cshtml 和 Edit.cshtml</target>
        </trans-unit>
        <trans-unit id="366" translate="yes" xml:space="preserve">
          <source><bpt id="p1">*</bpt>Create.cshtml<ept id="p1">*</ept> 和 <bpt id="p2">*</bpt>Edit.cshtml<ept id="p2">*</ept> 文件指定窗体编码，允许控制器获取 <ph id="ph1">`HttpPostedFileBase`</ph> 对象。</source>
          <target state="new"><bpt id="p1">*</bpt>Create.cshtml<ept id="p1">*</ept> 和 <bpt id="p2">*</bpt>Edit.cshtml<ept id="p2">*</ept> 文件指定窗体编码，允许控制器获取 <ph id="ph1">`HttpPostedFileBase`</ph> 对象。</target>
        </trans-unit>
        <trans-unit id="367" translate="yes" xml:space="preserve">
          <source><ph id="ph1">`&lt;input&gt;`</ph> 元素通知浏览器提供文件选择对话框。</source>
          <target state="new"><ph id="ph1">`&lt;input&gt;`</ph> 元素通知浏览器提供文件选择对话框。</target>
        </trans-unit>
        <trans-unit id="368" translate="yes" xml:space="preserve">
          <source>ContosoAdsWorker - WorkerRole.cs - OnStart 方法</source>
          <target state="new">ContosoAdsWorker - WorkerRole.cs - OnStart 方法</target>
        </trans-unit>
        <trans-unit id="369" translate="yes" xml:space="preserve">
          <source>Azure 辅助角色环境在辅助角色启动时调用 <ph id="ph1">`WorkerRole`</ph> 类中的 <ph id="ph2">`OnStart`</ph> 方法，并且它在 <ph id="ph3">`OnStart`</ph> 方法结束时调用 <ph id="ph4">`Run`</ph> 方法。</source>
          <target state="new">Azure 辅助角色环境在辅助角色启动时调用 <ph id="ph1">`WorkerRole`</ph> 类中的 <ph id="ph2">`OnStart`</ph> 方法，并且它在 <ph id="ph3">`OnStart`</ph> 方法结束时调用 <ph id="ph4">`Run`</ph> 方法。</target>
        </trans-unit>
        <trans-unit id="370" translate="yes" xml:space="preserve">
          <source><ph id="ph1">`OnStart`</ph> 方法从 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件获取数据库连接字符串，并将其传递给实体框架 DbContext 类。在默认情况下使用 SQLClient 提供程序，因此不需要指定提供程序。</source>
          <target state="new"><ph id="ph1">`OnStart`</ph> 方法从 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件获取数据库连接字符串，并将其传递给实体框架 DbContext 类。在默认情况下使用 SQLClient 提供程序，因此不需要指定提供程序。</target>
        </trans-unit>
        <trans-unit id="371" translate="yes" xml:space="preserve">
          <source>之后，该方法获取对存储帐户的引用，并创建 blob 容器和队列（如果它们不存在）。此代码类似于你已在 web 角色 <ph id="ph1">`Application_Start`</ph> 方法中看到的内容。</source>
          <target state="new">之后，该方法获取对存储帐户的引用，并创建 blob 容器和队列（如果它们不存在）。此代码类似于你已在 web 角色 <ph id="ph1">`Application_Start`</ph> 方法中看到的内容。</target>
        </trans-unit>
        <trans-unit id="372" translate="yes" xml:space="preserve">
          <source>ContosoAdsWorker - WorkerRole.cs - Run method</source>
          <target state="new">ContosoAdsWorker - WorkerRole.cs - Run method</target>
        </trans-unit>
        <trans-unit id="373" translate="yes" xml:space="preserve">
          <source><ph id="ph1">`Run`</ph> 方法完成其初始化工作时调用 <ph id="ph2">`OnStart`</ph> 方法。该方法执行监视新队列消息的一个无限循环，并在它们到达时进行处理。</source>
          <target state="new"><ph id="ph1">`Run`</ph> 方法完成其初始化工作时调用 <ph id="ph2">`OnStart`</ph> 方法。该方法执行监视新队列消息的一个无限循环，并在它们到达时进行处理。</target>
        </trans-unit>
        <trans-unit id="374" translate="yes" xml:space="preserve">
          <source>循环每次迭代后，如果不找到任何队列消息，该程序休眠一秒钟。此举防止辅助角色导致过多的 CPU 时间和存储事务成本。Microsoft 客户顾问团队讲过一个故事，一位开发人员忘记此操作，部署到生产环境，并去度假了。当他回来时，他的监督费用超过了度假费用。</source>
          <target state="new">循环每次迭代后，如果不找到任何队列消息，该程序休眠一秒钟。此举防止辅助角色导致过多的 CPU 时间和存储事务成本。Microsoft 客户顾问团队讲过一个故事，一位开发人员忘记此操作，部署到生产环境，并去度假了。当他回来时，他的监督费用超过了度假费用。</target>
        </trans-unit>
        <trans-unit id="375" translate="yes" xml:space="preserve">
          <source>有时队列消息的内容将在处理过程中导致错误。这称为<bpt id="p1">*</bpt>有害消息<ept id="p1">*</ept>，并且如果你只记录了一个错误并重启循环，则可能无休止地尝试处理该消息。因此，捕获块包括 if 语句检查应用程序尝试处理当前消息的次数，如果已超过 5 次，将从队列中删除该消息。</source>
          <target state="new">有时队列消息的内容将在处理过程中导致错误。这称为<bpt id="p1">*</bpt>有害消息<ept id="p1">*</ept>，并且如果你只记录了一个错误并重启循环，则可能无休止地尝试处理该消息。因此，捕获块包括 if 语句检查应用程序尝试处理当前消息的次数，如果已超过 5 次，将从队列中删除该消息。</target>
        </trans-unit>
        <trans-unit id="376" translate="yes" xml:space="preserve">
          <source>找到队列消息时调用 <ph id="ph1">`ProcessQueueMessage`</ph>。</source>
          <target state="new">找到队列消息时调用 <ph id="ph1">`ProcessQueueMessage`</ph>。</target>
        </trans-unit>
        <trans-unit id="377" translate="yes" xml:space="preserve">
          <source>此代码读取数据库以获取图像 URL、将图像转换为一个缩略图、在 blob 中保存缩略图、用缩略图 blob URL 更新数据库并删除队列消息。</source>
          <target state="new">此代码读取数据库以获取图像 URL、将图像转换为一个缩略图、在 blob 中保存缩略图、用缩略图 blob URL 更新数据库并删除队列消息。</target>
        </trans-unit>
        <trans-unit id="378" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph> 为简单起见，<ph id="ph2">`ConvertImageToThumbnailJPG`</ph> 方法中的代码使用 System.Drawing 命名空间中的类。但是，此命名空间中的类已设计用于 Windows 窗体。不支持在 Windows 或 ASP.NET 服务中使用。有关图像处理选项的详细信息，请参阅<bpt id="p1">[</bpt>动态图像生成<ept id="p1">](http://www.hanselman.com/blog/BackToBasicsDynamicImageGenerationASPNETControllersRoutingIHttpHandlersAndRunAllManagedModulesForAllRequests.aspx)</ept>和<bpt id="p2">[</bpt>深入学习图像大小调整<ept id="p2">](http://www.hanselminutes.com/313/deep-inside-image-resizing-and-scaling-with-aspnet-and-iis-with-imageresizingnet-author-na)</ept>。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph> 为简单起见，<ph id="ph2">`ConvertImageToThumbnailJPG`</ph> 方法中的代码使用 System.Drawing 命名空间中的类。但是，此命名空间中的类已设计用于 Windows 窗体。不支持在 Windows 或 ASP.NET 服务中使用。有关图像处理选项的详细信息，请参阅<bpt id="p1">[</bpt>动态图像生成<ept id="p1">](http://www.hanselman.com/blog/BackToBasicsDynamicImageGenerationASPNETControllersRoutingIHttpHandlersAndRunAllManagedModulesForAllRequests.aspx)</ept>和<bpt id="p2">[</bpt>深入学习图像大小调整<ept id="p2">](http://www.hanselminutes.com/313/deep-inside-image-resizing-and-scaling-with-aspnet-and-iis-with-imageresizingnet-author-na)</ept>。</target>
        </trans-unit>
        <trans-unit id="379" translate="yes" xml:space="preserve">
          <source>故障排除</source>
          <target state="new">故障排除</target>
        </trans-unit>
        <trans-unit id="380" translate="yes" xml:space="preserve">
          <source>当您按本教程中的说明操作时，如果出现异常现象，请参考如下常见错误信息和解决方法。</source>
          <target state="new">当您按本教程中的说明操作时，如果出现异常现象，请参考如下常见错误信息和解决方法。</target>
        </trans-unit>
        <trans-unit id="381" translate="yes" xml:space="preserve">
          <source>ServiceRuntime.RoleEnvironmentException</source>
          <target state="new">ServiceRuntime.RoleEnvironmentException</target>
        </trans-unit>
        <trans-unit id="382" translate="yes" xml:space="preserve">
          <source>在 Azure 中运行应用程序或使用 Azure 计算模拟器本地运行时，<ph id="ph1">`RoleEnvironment`</ph> 对象由 Azure 提供。如果您在本地运行时收到此错误，请确保您已将 ContosoAdsCloudService 项目设为启动项目。这将项目设置为使用 Azure 计算仿真程序运行。</source>
          <target state="new">在 Azure 中运行应用程序或使用 Azure 计算模拟器本地运行时，<ph id="ph1">`RoleEnvironment`</ph> 对象由 Azure 提供。如果您在本地运行时收到此错误，请确保您已将 ContosoAdsCloudService 项目设为启动项目。这将项目设置为使用 Azure 计算仿真程序运行。</target>
        </trans-unit>
        <trans-unit id="383" translate="yes" xml:space="preserve">
          <source>应用程序使用 Azure RoleEnvironment 的内容之一是获取 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件中存储的连接字符串值，所以此异常的另一个原因是丢失连接字符串。确保在 ContosoAdsWeb 项目中为云和本地配置创建 StorageConnectionString 设置，并且您将在 ContosoAdsWorker 项目中为两个配置创建两个连接字符串。如果为整个解决方案中的 StorageConnectionString 进行<bpt id="p2">**</bpt>查找全部<ept id="p2">**</ept>搜索，你应在 6 个文件中看到它 9 次。</source>
          <target state="new">应用程序使用 Azure RoleEnvironment 的内容之一是获取 <bpt id="p1">*</bpt>.cscfg<ept id="p1">*</ept> 文件中存储的连接字符串值，所以此异常的另一个原因是丢失连接字符串。确保在 ContosoAdsWeb 项目中为云和本地配置创建 StorageConnectionString 设置，并且您将在 ContosoAdsWorker 项目中为两个配置创建两个连接字符串。如果为整个解决方案中的 StorageConnectionString 进行<bpt id="p2">**</bpt>查找全部<ept id="p2">**</ept>搜索，你应在 6 个文件中看到它 9 次。</target>
        </trans-unit>
        <trans-unit id="384" translate="yes" xml:space="preserve">
          <source>无法重写到端口 xxx。低于最小允许值 8080 的新端口用于 http 协议</source>
          <target state="new">无法重写到端口 xxx。低于最小允许值 8080 的新端口用于 http 协议</target>
        </trans-unit>
        <trans-unit id="385" translate="yes" xml:space="preserve">
          <source>请尝试更改 web 项目使用的端口号。右键单击 ContosoAdsWeb 项目，然后单击“属性”。单击“Web”选项卡，然后更改“项目 Url”设置中的端口号。</source>
          <target state="new">请尝试更改 web 项目使用的端口号。右键单击 ContosoAdsWeb 项目，然后单击“属性”。单击“Web”选项卡，然后更改“项目 Url”设置中的端口号。</target>
        </trans-unit>
        <trans-unit id="386" translate="yes" xml:space="preserve">
          <source>有关可能解决该问题的另一种方法，请参阅下一节。</source>
          <target state="new">有关可能解决该问题的另一种方法，请参阅下一节。</target>
        </trans-unit>
        <trans-unit id="387" translate="yes" xml:space="preserve">
          <source>在本地运行时出现其他错误</source>
          <target state="new">在本地运行时出现其他错误</target>
        </trans-unit>
        <trans-unit id="388" translate="yes" xml:space="preserve">
          <source>默认情况下新的云服务项目使用 Azure 计算模拟器 express 版来模拟 Azure 环境。这是完整计算仿真程序的轻型版本，在某些情况下完整仿真程序将在没有 express 版时工作。</source>
          <target state="new">默认情况下新的云服务项目使用 Azure 计算模拟器 express 版来模拟 Azure 环境。这是完整计算仿真程序的轻型版本，在某些情况下完整仿真程序将在没有 express 版时工作。</target>
        </trans-unit>
        <trans-unit id="389" translate="yes" xml:space="preserve">
          <source>若要更改项目以使用完整模拟器，请右键单击 ContosoAdsCloudService 项目中，然后单击“属性”。在“属性”窗口中，单击“Web”选项卡，然后单击“使用完整模拟器”单选按钮。</source>
          <target state="new">若要更改项目以使用完整模拟器，请右键单击 ContosoAdsCloudService 项目中，然后单击“属性”。在“属性”窗口中，单击“Web”选项卡，然后单击“使用完整模拟器”单选按钮。</target>
        </trans-unit>
        <trans-unit id="390" translate="yes" xml:space="preserve">
          <source>要使用完整仿真程序运行该应用程序，您必须使用管理员权限打开 Visual Studio。</source>
          <target state="new">要使用完整仿真程序运行该应用程序，您必须使用管理员权限打开 Visual Studio。</target>
        </trans-unit>
        <trans-unit id="391" translate="yes" xml:space="preserve">
          <source>后续步骤</source>
          <target state="new">后续步骤</target>
        </trans-unit>
        <trans-unit id="392" translate="yes" xml:space="preserve">
          <source>Contoso 广告应用程序有意保持入门教程的简单性。例如，它没有实施<bpt id="p1">[</bpt>依赖关系注入<ept id="p1">](http://www.asp.net/mvc/tutorials/hands-on-labs/aspnet-mvc-4-dependency-injection)</ept>或<bpt id="p2">[</bpt>存储库和单元的工作模式<ept id="p2">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/advanced-entity-framework-scenarios-for-an-mvc-web-application#repo)</ept>，它不<bpt id="p3">[</bpt>使用日志记录接口<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry#log)</ept>，它不使用 <bpt id="p4">[</bpt>EF Code First 迁移<ept id="p4">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application)</ept>来管理数据模型更改，或使用 <bpt id="p5">[</bpt>EF 连接复原<ept id="p5">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application)</ept>管理暂时性的网络错误等。</source>
          <target state="new">Contoso 广告应用程序有意保持入门教程的简单性。例如，它没有实施<bpt id="p1">[</bpt>依赖关系注入<ept id="p1">](http://www.asp.net/mvc/tutorials/hands-on-labs/aspnet-mvc-4-dependency-injection)</ept>或<bpt id="p2">[</bpt>存储库和单元的工作模式<ept id="p2">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/advanced-entity-framework-scenarios-for-an-mvc-web-application#repo)</ept>，它不<bpt id="p3">[</bpt>使用日志记录接口<ept id="p3">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/monitoring-and-telemetry#log)</ept>，它不使用 <bpt id="p4">[</bpt>EF Code First 迁移<ept id="p4">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application)</ept>来管理数据模型更改，或使用 <bpt id="p5">[</bpt>EF 连接复原<ept id="p5">](http://www.asp.net/mvc/tutorials/getting-started-with-ef-using-mvc/connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application)</ept>管理暂时性的网络错误等。</target>
        </trans-unit>
        <trans-unit id="393" translate="yes" xml:space="preserve">
          <source>下面是演示更实际编码方法的一些云服务示例应用程序，从不太复杂到更复杂排列：</source>
          <target state="new">下面是演示更实际编码方法的一些云服务示例应用程序，从不太复杂到更复杂排列：</target>
        </trans-unit>
        <trans-unit id="394" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>PhluffyFotos<ept id="p1">](http://code.msdn.microsoft.com/PhluffyFotos-Sample-7ecffd31)</ept>。在概念上与 Contoso 广告类似，但实施更多的功能和详细的实际编码做法。</source>
          <target state="new"><bpt id="p1">[</bpt>PhluffyFotos<ept id="p1">](http://code.msdn.microsoft.com/PhluffyFotos-Sample-7ecffd31)</ept>。在概念上与 Contoso 广告类似，但实施更多的功能和详细的实际编码做法。</target>
        </trans-unit>
        <trans-unit id="395" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>带有表、队列和 Blob 的 Azure 云服务多层应用程序<ept id="p1">](http://code.msdn.microsoft.com/windowsazure/Windows-Azure-Multi-Tier-eadceb36)</ept>。引入了 Azure 存储表以及 Blob 和队列。基于旧版 Azure SDK for .NET，需做一些修改才能配合当前版本。</source>
          <target state="new"><bpt id="p1">[</bpt>带有表、队列和 Blob 的 Azure 云服务多层应用程序<ept id="p1">](http://code.msdn.microsoft.com/windowsazure/Windows-Azure-Multi-Tier-eadceb36)</ept>。引入了 Azure 存储表以及 Blob 和队列。基于旧版 Azure SDK for .NET，需做一些修改才能配合当前版本。</target>
        </trans-unit>
        <trans-unit id="396" translate="yes" xml:space="preserve">
          <source><bpt id="p1">[</bpt>Azure 中的云服务基础知识<ept id="p1">](http://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649)</ept>。一个综合示例，演示各种最佳实践，由 Microsoft 模式和实践组生产。</source>
          <target state="new"><bpt id="p1">[</bpt>Azure 中的云服务基础知识<ept id="p1">](http://code.msdn.microsoft.com/Cloud-Service-Fundamentals-4ca72649)</ept>。一个综合示例，演示各种最佳实践，由 Microsoft 模式和实践组生产。</target>
        </trans-unit>
        <trans-unit id="397" translate="yes" xml:space="preserve">
          <source>有关云开发的常规信息，请参阅<bpt id="p1">[</bpt>使用 Azure 构建实际的云应用<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction)</ept>。</source>
          <target state="new">有关云开发的常规信息，请参阅<bpt id="p1">[</bpt>使用 Azure 构建实际的云应用<ept id="p1">](http://www.asp.net/aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction)</ept>。</target>
        </trans-unit>
        <trans-unit id="398" translate="yes" xml:space="preserve">
          <source>有关详细信息，请参阅以下资源：</source>
          <target state="new">有关详细信息，请参阅以下资源：</target>
        </trans-unit>
        <trans-unit id="399" translate="yes" xml:space="preserve">
          <source>Azure 云服务的第 1 部分：简介</source>
          <target state="new">Azure 云服务的第 1 部分：简介</target>
        </trans-unit>
        <trans-unit id="400" translate="yes" xml:space="preserve">
          <source>如何管理云服务</source>
          <target state="new">如何管理云服务</target>
        </trans-unit>
        <trans-unit id="401" translate="yes" xml:space="preserve">
          <source>Azure 存储空间</source>
          <target state="new">Azure 存储空间</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>