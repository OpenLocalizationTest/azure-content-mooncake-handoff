<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="markdown" source-language="zh-cn" target-language="en-us">
    <header>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-f2b4b1a" tool-company="Microsoft" />
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">dab33e2f4d69a6497b99e293bdd66a065c52774f</xliffext:olfilehash>
      <xliffext:olfilepath xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">articles\web-sites-backup.md</xliffext:olfilepath>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:oltranslationtype xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">Human Translation</xliffext:oltranslationtype>
      <xliffext:olskeletonhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">0cdbdeb0ebd375b368233575286c52d6fa8b6f35</xliffext:olskeletonhash>
      <xliffext:olxliffhash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">011b151e97544c9b22b42beb6efafa301d05431f</xliffext:olxliffhash>
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>在 Azure 中备份 Web 应用</source>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>了解如何在 Azure 中创建 Web 应用的备份。</source>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>在 Azure 中备份 Web 应用</source>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>利用 <bpt id="p1">[</bpt>Azure Web Apps<ept id="p1">](/documentation/services/web-sites/)</ept> 中的备份和还原功能，可以轻松地手动或自动创建 Web 应用备份。</source>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>你可以将 Web 应用还原到以前的状态，或者基于原始应用的备份之一创建新的 Web 应用。</source>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>有关从备份中还原 Azure Web 应用的信息，请参阅<bpt id="p1">[</bpt>还原 Web 应用<ept id="p1">](/documentation/articles/web-sites-restore)</ept>。</source>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>备份的内容</source>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>Web Apps 可以备份以下信息：</source>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>Web 应用配置</source>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>Web 应用文件内容</source>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>任何连接到你的应用的 Azure SQL 数据库或 MySQL 数据库（你可以选择备份中要包括哪些数据库）</source>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>此信息会备份到你指定的 Azure 存储帐户和容器。</source>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>每个备份都是你的应用的完整脱机副本，而不是增量更新。</source>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>要求和限制</source>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>备份和还原功能要求 App Service 计划位于“标准”层中。</source>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>有关缩放 App Service 计划以使用更高层的详细信息，请参阅<bpt id="p1">[</bpt>在 Azure 中缩放 Web 应用<ept id="p1">](/documentation/articles/web-sites-scale)</ept>。</source>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>备份和还原功能要求 Azure 存储帐户和容器必须与要备份的 Web 应用同属一个订阅。</source>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>如果你还没有存储帐户，可以创建一个，方法是：单击 Azure 管理门户左窗格中的“存储”按钮（网格图标），然后选择底部命令栏中的“新建”。</source>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source>备份和还原功能最多支持 10GB 的网站和数据库内容。</source>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>如果因有效负载超出此限制备份功能无法继续执行，将指示错误。</source>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>创建手动备份</source>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>在 Web 应用的 Azure 管理门户中，选择“备份”选项卡。</source>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>“备份”页面</source>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>选择 Web 应用要备份到其中的存储帐户。</source>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>该存储帐户必须与要备份的 Web 应用同属一个订阅。</source>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>选择存储帐户</source>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>在“包含的数据库”选项中，选择要备份的连接到你的 Web 应用的数据库（SQL Server 或 MySQL）。</source>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>选择要包含的数据库</source>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>若要使数据库显示在此列表中，其连接字符串必须位于门户中“配置”选项卡的“连接字符串”部分。</source>
        </trans-unit>
        <trans-unit id="130" translate="yes" xml:space="preserve">
          <source>在命令栏上，单击“立即备份”。</source>
        </trans-unit>
        <trans-unit id="131" translate="yes" xml:space="preserve">
          <source>BackUpNow 按钮</source>
        </trans-unit>
        <trans-unit id="132" translate="yes" xml:space="preserve">
          <source>在备份过程中你将看到进度消息：</source>
        </trans-unit>
        <trans-unit id="133" translate="yes" xml:space="preserve">
          <source>备份进度消息</source>
        </trans-unit>
        <trans-unit id="134" translate="yes" xml:space="preserve">
          <source>你可以随时进行手动备份。</source>
        </trans-unit>
        <trans-unit id="135" translate="yes" xml:space="preserve">
          <source>在预览期间，每 24 小时内的手动备份不能超过 2 个（此限制可能会更改）。</source>
        </trans-unit>
        <trans-unit id="136" translate="yes" xml:space="preserve">
          <source>配置自动化的备份</source>
        </trans-unit>
        <trans-unit id="137" translate="yes" xml:space="preserve">
          <source>在“备份”页上，将“自动化的备份”设置为“打开”。</source>
        </trans-unit>
        <trans-unit id="138" translate="yes" xml:space="preserve">
          <source>启用自动化的备份</source>
        </trans-unit>
        <trans-unit id="139" translate="yes" xml:space="preserve">
          <source>选择 Web 应用要备份到其中的存储帐户。</source>
        </trans-unit>
        <trans-unit id="140" translate="yes" xml:space="preserve">
          <source>该存储帐户必须与要备份的 Web 应用同属一个订阅。</source>
        </trans-unit>
        <trans-unit id="141" translate="yes" xml:space="preserve">
          <source>选择存储帐户</source>
        </trans-unit>
        <trans-unit id="142" translate="yes" xml:space="preserve">
          <source>在“频率”框中，指定你希望多久进行一次自动化的备份。</source>
        </trans-unit>
        <trans-unit id="143" translate="yes" xml:space="preserve">
          <source>（在预览版期间，天数是唯一可用的时间单位。</source>
        </trans-unit>
        <trans-unit id="144" translate="yes" xml:space="preserve">
          <source>）</source>
        </trans-unit>
        <trans-unit id="145" translate="yes" xml:space="preserve">
          <source>选择备份频率</source>
        </trans-unit>
        <trans-unit id="146" translate="yes" xml:space="preserve">
          <source>天数必须介于 1 到 90 之间（含 1 和 90，从每天 1 次到每 90 天一次）。</source>
        </trans-unit>
        <trans-unit id="147" translate="yes" xml:space="preserve">
          <source>使用“开始日期”选项指定你希望自动化的备份开始的日期和时间。</source>
        </trans-unit>
        <trans-unit id="148" translate="yes" xml:space="preserve">
          <source>选择开始日期</source>
        </trans-unit>
        <trans-unit id="149" translate="yes" xml:space="preserve">
          <source>时间以半小时为增量。</source>
        </trans-unit>
        <trans-unit id="150" translate="yes" xml:space="preserve">
          <source>选择开始时间</source>
        </trans-unit>
        <trans-unit id="151" translate="yes" xml:space="preserve">
          <source>Azure 存储备份时间时采用的是 UTC 格式，但显示时根据的是用于显示门户的计算机上的系统时间。</source>
        </trans-unit>
        <trans-unit id="152" translate="yes" xml:space="preserve">
          <source>在“包含的数据库”部分，选择要备份的连接到你的 Web 应用的数据库（SQL Server 或 MySQL）。</source>
        </trans-unit>
        <trans-unit id="153" translate="yes" xml:space="preserve">
          <source>若要使数据库显示在此列表中，其连接字符串必须位于门户中“配置”选项卡的“连接字符串”部分。</source>
        </trans-unit>
        <trans-unit id="154" translate="yes" xml:space="preserve">
          <source>选择要包含的数据库</source>
        </trans-unit>
        <trans-unit id="155" translate="yes" xml:space="preserve">
          <source>如果你选择在备份中包含一个或多个数据库，并且指定了小于 7 天的频率，就会收到频繁备份会增加数据库成本的警告。</source>
        </trans-unit>
        <trans-unit id="156" translate="yes" xml:space="preserve">
          <source>在命令栏中，单击“保存”按钮以保存你的配置更改（或者，如果你决定不保存，请选择“放弃”）。</source>
        </trans-unit>
        <trans-unit id="157" translate="yes" xml:space="preserve">
          <source>“保存”按钮</source>
        </trans-unit>
        <trans-unit id="158" translate="yes" xml:space="preserve">
          <source>说明</source>
        </trans-unit>
        <trans-unit id="159" translate="yes" xml:space="preserve">
          <source>一定要在 Web 应用的“设置”中的“Web 应用设置”边栏选项卡中为你的每个数据库正确设置连接字符串，这样备份和还原功能才会包括这些数据库。</source>
        </trans-unit>
        <trans-unit id="160" translate="yes" xml:space="preserve">
          <source>备份只是 Web 应用的一部分</source>
        </trans-unit>
        <trans-unit id="161" translate="yes" xml:space="preserve">
          <source>有时你不想备份 Web 应用中的所有内容。</source>
        </trans-unit>
        <trans-unit id="162" translate="yes" xml:space="preserve">
          <source>以下是一些示例：</source>
        </trans-unit>
        <trans-unit id="163" translate="yes" xml:space="preserve">
          <source>你<bpt id="p1">[</bpt>设置每周备份<ept id="p1">](/documentation/articles/web-sites-backup#configure-automated-backups)</ept> Web 应用，其中包含永远不会更改的静态内容，例如旧的博客文章或映像。</source>
        </trans-unit>
        <trans-unit id="164" translate="yes" xml:space="preserve">
          <source>Web 应用的内容超过 10GB（这是一次可以备份的最大数量）。</source>
        </trans-unit>
        <trans-unit id="165" translate="yes" xml:space="preserve">
          <source>你不想备份日志文件。</source>
        </trans-unit>
        <trans-unit id="166" translate="yes" xml:space="preserve">
          <source>使用部分备份可以精确地选择想要备份的文件。</source>
        </trans-unit>
        <trans-unit id="167" translate="yes" xml:space="preserve">
          <source>从备份中排除文件</source>
        </trans-unit>
        <trans-unit id="168" translate="yes" xml:space="preserve">
          <source>若要从备份中排除文件和文件夹，在 Web 应用的 wwwroot 文件夹中创建 <ph id="ph1">`_backup.filter`</ph> 文件，并指定想要在这里排除的文件和文件夹列表。</source>
        </trans-unit>
        <trans-unit id="169" translate="yes" xml:space="preserve">
          <source>通过 FTP，即可轻松访问它。</source>
        </trans-unit>
        <trans-unit id="170" translate="yes" xml:space="preserve">
          <source>假设你的 Web 应用中包含永远不会更改的历年的日志文件和静态映像。</source>
        </trans-unit>
        <trans-unit id="171" translate="yes" xml:space="preserve">
          <source>你已有包括旧映像的 Web 应用的完整备份。</source>
        </trans-unit>
        <trans-unit id="172" translate="yes" xml:space="preserve">
          <source>现在你想要每天都备份 Web 应用，但不想为永远不会更改的存储日志文件或静态映像文件支付费用。</source>
        </trans-unit>
        <trans-unit id="173" translate="yes" xml:space="preserve">
          <source>以下步骤展示了如何从备份中排除这些文件。</source>
        </trans-unit>
        <trans-unit id="174" translate="yes" xml:space="preserve">
          <source>确定想要从备份中排除的文件夹。</source>
        </trans-unit>
        <trans-unit id="175" translate="yes" xml:space="preserve">
          <source>在此示例中，你想要排除该用户界面中所示的以下文件和文件夹：</source>
        </trans-unit>
        <trans-unit id="176" translate="yes" xml:space="preserve">
          <source>最后一行说明了你可以排除单个文件以及文件夹。</source>
        </trans-unit>
        <trans-unit id="177" translate="yes" xml:space="preserve">
          <source>创建名为 <ph id="ph1">`_backup.filter`</ph> 的文件并将上述列表放在文件中，但请删除 <ph id="ph2">`D:\home`</ph>。</source>
        </trans-unit>
        <trans-unit id="178" translate="yes" xml:space="preserve">
          <source>每行列出一个目录或文件。</source>
        </trans-unit>
        <trans-unit id="179" translate="yes" xml:space="preserve">
          <source>文件的内容应为：</source>
        </trans-unit>
        <trans-unit id="180" translate="yes" xml:space="preserve">
          <source>使用 <bpt id="p1">[</bpt>ftp<ept id="p1">](/documentation/articles/web-sites-deploy#ftp)</ept> 或任何其他方法将此文件上载到站点的 <ph id="ph1">`D:\home\site\wwwroot`</ph> 目录。</source>
        </trans-unit>
        <trans-unit id="181" translate="yes" xml:space="preserve">
          <source>采用通常使用的相同方式运行备份，即<bpt id="p1">[</bpt>手动<ept id="p1">](#create-a-manual-backup)</ept>或<bpt id="p2">[</bpt>自动<ept id="p2">](#configure-automated-backups)</ept>。</source>
        </trans-unit>
        <trans-unit id="182" translate="yes" xml:space="preserve">
          <source>现在，<ph id="ph1">`_backup.filter`</ph> 中指定的所有文件和文件夹都会从备份中排除。</source>
        </trans-unit>
        <trans-unit id="183" translate="yes" xml:space="preserve">
          <source>在此示例中，日志文件和 2013 年以及 2014 年的映像文件以及 brand.png 将不再进行备份。</source>
        </trans-unit>
        <trans-unit id="184" translate="yes" xml:space="preserve">
          <source>采用<bpt id="p1">[</bpt>还原定期备份<ept id="p1">](/documentation/articles/web-sites-restore)</ept>的相同方式还原站点的部分备份。</source>
        </trans-unit>
        <trans-unit id="185" translate="yes" xml:space="preserve">
          <source>还原过程会执行正确的操作。</source>
        </trans-unit>
        <trans-unit id="186" translate="yes" xml:space="preserve">
          <source>还原完整备份后，站点上的所有内容都被替换为备份中的任何内容。</source>
        </trans-unit>
        <trans-unit id="187" translate="yes" xml:space="preserve">
          <source>如果文件在站点上但不在备份中，则会将其删除。</source>
        </trans-unit>
        <trans-unit id="188" translate="yes" xml:space="preserve">
          <source>但是当部分备份还原时，位于其中一个黑名单目录或任何黑名单文件中的任何内容都保持不变。</source>
        </trans-unit>
        <trans-unit id="189" translate="yes" xml:space="preserve">
          <source>如何存储备份</source>
        </trans-unit>
        <trans-unit id="190" translate="yes" xml:space="preserve">
          <source>对 Web 应用进行一个或多个备份后，则会在你的存储帐户的“容器”边栏选项卡中看到这些备份以及你的 Web 应用。</source>
        </trans-unit>
        <trans-unit id="191" translate="yes" xml:space="preserve">
          <source>在存储帐户中，每个备份都由一个 .zip 文件和一个 .xml 文件组成，前者包含备份数据，后者包含 .zip 文件内容的清单。</source>
        </trans-unit>
        <trans-unit id="192" translate="yes" xml:space="preserve">
          <source>如果你想要在无需实际执行 Web 应用还原的情况下访问备份，则可以解压缩并浏览这些文件。</source>
        </trans-unit>
        <trans-unit id="193" translate="yes" xml:space="preserve">
          <source>Web 应用的数据库备份存储在 .zip 文件的根目录中。</source>
        </trans-unit>
        <trans-unit id="194" translate="yes" xml:space="preserve">
          <source>对于 SQL 数据库，这是 BACPAC 文件（无文件扩展名），并且可以导入。</source>
        </trans-unit>
        <trans-unit id="195" translate="yes" xml:space="preserve">
          <source>若要基于 BACPAC 导出创建新的 SQL 数据库，请参阅<bpt id="p1">[</bpt>导入 BACPAC 文件以创建新的用户数据库<ept id="p1">](http://technet.microsoft.com/zh-cn/library/hh710052.aspx)</ept>。</source>
        </trans-unit>
        <trans-unit id="196" translate="yes" xml:space="preserve">
          <source>改动“websitebackups”容器中的任何文件都会导致备份无效，进而无法还原。</source>
        </trans-unit>
        <trans-unit id="197" translate="yes" xml:space="preserve">
          <source>后续步骤</source>
        </trans-unit>
        <trans-unit id="198" translate="yes" xml:space="preserve">
          <source>有关从备份中还原 Web 应用的信息，请参阅<bpt id="p1">[</bpt>在 Azure 中还原 Web 应用<ept id="p1">](/documentation/articles/web-sites-restore)</ept>。</source>
        </trans-unit>
        <trans-unit id="199" translate="yes" xml:space="preserve">
          <source>你还可以使用 REST API 备份和还原 Azure Web Apps（请参阅<bpt id="p1">[</bpt>使用 REST 备份和还原 Azure Web Apps<ept id="p1">](/documentation/articles/websites-csm-backup)</ept>）。</source>
        </trans-unit>
        <trans-unit id="200" translate="yes" xml:space="preserve">
          <source>若要开始使用 Azure，请参阅 <bpt id="p1">[</bpt>Azure 试用版<ept id="p1">](/pricing/1rmb-trial/)</ept>。</source>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>