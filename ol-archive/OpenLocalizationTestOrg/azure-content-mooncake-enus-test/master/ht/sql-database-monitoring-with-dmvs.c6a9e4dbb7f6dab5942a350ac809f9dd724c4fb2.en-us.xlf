<?xml version="1.0"?>
<xliff version="1.2" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd">
  <file datatype="xml" original="md" source-language="en-US" target-language="en-us">
    <header>
      <xliffext:oltranslationpriority xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">ht</xliffext:oltranslationpriority>
      <xliffext:olfilehash xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">618bd69c4b4d3dd7f2bde14df667cb2572948292</xliffext:olfilehash>
      <tool tool-id="mdxliff" tool-name="mdxliff" tool-version="1.0-02a95cf" tool-company="Microsoft" />
    </header>
    <body>
      <group id="content" extype="content">
        <trans-unit id="101" translate="yes" xml:space="preserve">
          <source>使用动态管理视图监视 Azure SQL 数据库 | Azure</source>
          <target state="new">使用动态管理视图监视 Azure SQL 数据库 | Azure</target>
        </trans-unit>
        <trans-unit id="102" translate="yes" xml:space="preserve">
          <source>了解如何通过使用动态管理视图检测常见性能问题来监视 Azure SQL 数据库。</source>
          <target state="new">了解如何通过使用动态管理视图检测常见性能问题来监视 Azure SQL 数据库。</target>
        </trans-unit>
        <trans-unit id="103" translate="yes" xml:space="preserve">
          <source>使用动态管理视图监视 Azure SQL 数据库</source>
          <target state="new">使用动态管理视图监视 Azure SQL 数据库</target>
        </trans-unit>
        <trans-unit id="104" translate="yes" xml:space="preserve">
          <source>Azure SQL 数据库支持通过一部分动态管理视图来诊断性能问题，这些问题可能由查询受阻或长时间运行、资源瓶颈、不良查询计划等原因造成。本主题提供有关如何通过使用动态管理视图检测常见性能问题的信息。</source>
          <target state="new">Azure SQL 数据库支持通过一部分动态管理视图来诊断性能问题，这些问题可能由查询受阻或长时间运行、资源瓶颈、不良查询计划等原因造成。本主题提供有关如何通过使用动态管理视图检测常见性能问题的信息。</target>
        </trans-unit>
        <trans-unit id="105" translate="yes" xml:space="preserve">
          <source>SQL 数据库部分支持三种类别的动态管理视图：</source>
          <target state="new">SQL 数据库部分支持三种类别的动态管理视图：</target>
        </trans-unit>
        <trans-unit id="106" translate="yes" xml:space="preserve">
          <source>与数据库相关的动态管理视图。</source>
          <target state="new">与数据库相关的动态管理视图。</target>
        </trans-unit>
        <trans-unit id="107" translate="yes" xml:space="preserve">
          <source>与执行相关的动态管理视图。</source>
          <target state="new">与执行相关的动态管理视图。</target>
        </trans-unit>
        <trans-unit id="108" translate="yes" xml:space="preserve">
          <source>与事务相关的动态管理视图。</source>
          <target state="new">与事务相关的动态管理视图。</target>
        </trans-unit>
        <trans-unit id="109" translate="yes" xml:space="preserve">
          <source>有关动态管理视图的详细信息，请参阅 SQL Server 联机丛书中的<bpt id="p1">[</bpt>动态管理视图和功能 (Transact-SQL)<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms188754.aspx)</ept>。</source>
          <target state="new">有关动态管理视图的详细信息，请参阅 SQL Server 联机丛书中的<bpt id="p1">[</bpt>动态管理视图和功能 (Transact-SQL)<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms188754.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="110" translate="yes" xml:space="preserve">
          <source>权限</source>
          <target state="new">权限</target>
        </trans-unit>
        <trans-unit id="111" translate="yes" xml:space="preserve">
          <source>在 SQL 数据库中，查询动态管理视图需要 <bpt id="p1">**</bpt>VIEW DATABASE STATE<ept id="p1">**</ept> 权限。<bpt id="p2">**</bpt>VIEW DATABASE STATE<ept id="p2">**</ept> 权限返回有关当前数据库中的所有对象的信息。若要向特定数据库用户授予 <bpt id="p3">**</bpt>VIEW DATABASE STATE<ept id="p3">**</ept>权限，请运行以下查询：</source>
          <target state="new">在 SQL 数据库中，查询动态管理视图需要 <bpt id="p1">**</bpt>VIEW DATABASE STATE<ept id="p1">**</ept> 权限。<bpt id="p2">**</bpt>VIEW DATABASE STATE<ept id="p2">**</ept> 权限返回有关当前数据库中的所有对象的信息。若要向特定数据库用户授予 <bpt id="p3">**</bpt>VIEW DATABASE STATE<ept id="p3">**</ept>权限，请运行以下查询：</target>
        </trans-unit>
        <trans-unit id="112" translate="yes" xml:space="preserve">
          <source>在本地 SQL Server 的实例中，动态管理视图会返回服务器状态信息。在 SQL 数据库中，这些视图会返回只与当前逻辑数据库相关的信息。</source>
          <target state="new">在本地 SQL Server 的实例中，动态管理视图会返回服务器状态信息。在 SQL 数据库中，这些视图会返回只与当前逻辑数据库相关的信息。</target>
        </trans-unit>
        <trans-unit id="113" translate="yes" xml:space="preserve">
          <source>计算数据库大小</source>
          <target state="new">计算数据库大小</target>
        </trans-unit>
        <trans-unit id="114" translate="yes" xml:space="preserve">
          <source>下面的查询返回你的数据库的大小（以 MB 为单位）：</source>
          <target state="new">下面的查询返回你的数据库的大小（以 MB 为单位）：</target>
        </trans-unit>
        <trans-unit id="115" translate="yes" xml:space="preserve">
          <source>下面的查询将返回数据库中各个对象的大小（以 MB 为单位）：</source>
          <target state="new">下面的查询将返回数据库中各个对象的大小（以 MB 为单位）：</target>
        </trans-unit>
        <trans-unit id="116" translate="yes" xml:space="preserve">
          <source>监视连接</source>
          <target state="new">监视连接</target>
        </trans-unit>
        <trans-unit id="117" translate="yes" xml:space="preserve">
          <source>你可以使用 <bpt id="p1">[</bpt>sys.dm\_exec\_connections<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms181509.aspx)</ept> 视图来检索有关特定的 Azure SQL 数据库服务器所建立连接的信息以及每个连接的详细信息。此外，<bpt id="p2">[</bpt>sys.dm\_exec\_sessions<ept id="p2">](https://msdn.microsoft.com/zh-cn/library/ms176013.aspx)</ept> 视图在检索有关所有活动用户连接和内部任务的信息时非常有用。</source>
          <target state="new">你可以使用 <bpt id="p1">[</bpt>sys.dm\_exec\_connections<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms181509.aspx)</ept> 视图来检索有关特定的 Azure SQL 数据库服务器所建立连接的信息以及每个连接的详细信息。此外，<bpt id="p2">[</bpt>sys.dm\_exec\_sessions<ept id="p2">](https://msdn.microsoft.com/zh-cn/library/ms176013.aspx)</ept> 视图在检索有关所有活动用户连接和内部任务的信息时非常有用。</target>
        </trans-unit>
        <trans-unit id="118" translate="yes" xml:space="preserve">
          <source>下面的查询将检索当前连接上的信息：</source>
          <target state="new">下面的查询将检索当前连接上的信息：</target>
        </trans-unit>
        <trans-unit id="119" translate="yes" xml:space="preserve">
          <source><ph id="ph1">[AZURE.NOTE]</ph>在执行 <bpt id="p1">**</bpt>sys.dm\_exec\_requests<ept id="p1">**</ept> 和 **sys.dm\_exec\_sessions **视图时，如果用户具有对数据库的 <bpt id="p2">**</bpt>VIEW DATABASE STATE<ept id="p2">**</ept> 权限，用户将会看到数据库上所有正在执行的会话；否则，用户只会看到当前会话。</source>
          <target state="new"><ph id="ph1">[AZURE.NOTE]</ph>在执行 <bpt id="p1">**</bpt>sys.dm\_exec\_requests<ept id="p1">**</ept> 和 **sys.dm\_exec\_sessions **视图时，如果用户具有对数据库的 <bpt id="p2">**</bpt>VIEW DATABASE STATE<ept id="p2">**</ept> 权限，用户将会看到数据库上所有正在执行的会话；否则，用户只会看到当前会话。</target>
        </trans-unit>
        <trans-unit id="120" translate="yes" xml:space="preserve">
          <source>监视查询性能</source>
          <target state="new">监视查询性能</target>
        </trans-unit>
        <trans-unit id="121" translate="yes" xml:space="preserve">
          <source>缓慢或长时间运行的查询会消耗大量系统资源。本部分演示如何使用动态管理视图来检测一些常见的查询性能问题。一个较旧但仍很有帮助的故障排除参考是 Microsoft TechNet 上的<bpt id="p1">[</bpt>排查 SQL Server 2008 中的性能问题<ept id="p1">](http://download.microsoft.com/download/D/B/D/DBDE7972-1EB9-470A-BA18-58849DB3EB3B/TShootPerfProbs2008.docx)</ept>这篇文章。</source>
          <target state="new">缓慢或长时间运行的查询会消耗大量系统资源。本部分演示如何使用动态管理视图来检测一些常见的查询性能问题。一个较旧但仍很有帮助的故障排除参考是 Microsoft TechNet 上的<bpt id="p1">[</bpt>排查 SQL Server 2008 中的性能问题<ept id="p1">](http://download.microsoft.com/download/D/B/D/DBDE7972-1EB9-470A-BA18-58849DB3EB3B/TShootPerfProbs2008.docx)</ept>这篇文章。</target>
        </trans-unit>
        <trans-unit id="122" translate="yes" xml:space="preserve">
          <source>查找前 n 个查询</source>
          <target state="new">查找前 n 个查询</target>
        </trans-unit>
        <trans-unit id="123" translate="yes" xml:space="preserve">
          <source>下列示例返回了按平均 CPU 时间排名的前五个查询的信息。该示例根据查询散列收集了查询，以便逻辑上等值的查询能够根据累积资源消耗分组。</source>
          <target state="new">下列示例返回了按平均 CPU 时间排名的前五个查询的信息。该示例根据查询散列收集了查询，以便逻辑上等值的查询能够根据累积资源消耗分组。</target>
        </trans-unit>
        <trans-unit id="124" translate="yes" xml:space="preserve">
          <source>监视受阻的查询</source>
          <target state="new">监视受阻的查询</target>
        </trans-unit>
        <trans-unit id="125" translate="yes" xml:space="preserve">
          <source>缓慢或长时间运行的查询会导致过多的资源消耗并会导致查询受阻。受阻的原因可能是应用程序设计欠佳、查询计划不良、缺乏有用的索引等。你可以使用 sys.dm\_tran\_locks 视图来获取有关 Azure SQL 数据库中当前锁定活动的信息。有关示例代码，请参阅 SQL Server 联机丛书中的 <bpt id="p1">[</bpt>sys.dm\_tran\_locks (Transact-SQL)<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms190345.aspx)</ept>。</source>
          <target state="new">缓慢或长时间运行的查询会导致过多的资源消耗并会导致查询受阻。受阻的原因可能是应用程序设计欠佳、查询计划不良、缺乏有用的索引等。你可以使用 sys.dm\_tran\_locks 视图来获取有关 Azure SQL 数据库中当前锁定活动的信息。有关示例代码，请参阅 SQL Server 联机丛书中的 <bpt id="p1">[</bpt>sys.dm\_tran\_locks (Transact-SQL)<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms190345.aspx)</ept>。</target>
        </trans-unit>
        <trans-unit id="126" translate="yes" xml:space="preserve">
          <source>监视查询计划</source>
          <target state="new">监视查询计划</target>
        </trans-unit>
        <trans-unit id="127" translate="yes" xml:space="preserve">
          <source>低效的查询计划还可能会增加 CPU 占用率。下面的示例使用 <bpt id="p1">[</bpt>sys.dm\_exec\_query\_stats<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms189741.aspx)</ept> 视图来确定哪一查询累积的 CPU 占用率最高。</source>
          <target state="new">低效的查询计划还可能会增加 CPU 占用率。下面的示例使用 <bpt id="p1">[</bpt>sys.dm\_exec\_query\_stats<ept id="p1">](https://msdn.microsoft.com/zh-cn/library/ms189741.aspx)</ept> 视图来确定哪一查询累积的 CPU 占用率最高。</target>
        </trans-unit>
        <trans-unit id="128" translate="yes" xml:space="preserve">
          <source>另请参阅</source>
          <target state="new">另请参阅</target>
        </trans-unit>
        <trans-unit id="129" translate="yes" xml:space="preserve">
          <source>SQL 数据库简介</source>
          <target state="new">SQL 数据库简介</target>
        </trans-unit>
      </group>
    </body>
  </file>
</xliff>